var YS=Object.defineProperty;var Gg=t=>{throw TypeError(t)};var XS=(t,e,n)=>e in t?YS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Jo=(t,e,n)=>XS(t,typeof e!="symbol"?e+"":e,n),Ud=(t,e,n)=>e.has(t)||Gg("Cannot "+n);var j=(t,e,n)=>(Ud(t,e,"read from private field"),n?n.call(t):e.get(t)),_e=(t,e,n)=>e.has(t)?Gg("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ae=(t,e,n,r)=>(Ud(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Et=(t,e,n)=>(Ud(t,e,"access private method"),n);var $l=(t,e,n,r)=>({set _(s){ae(t,e,s,n)},get _(){return j(t,e,r)}});function JS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function y_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var v_={exports:{}},Mc={},w_={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hl=Symbol.for("react.element"),ZS=Symbol.for("react.portal"),eC=Symbol.for("react.fragment"),tC=Symbol.for("react.strict_mode"),nC=Symbol.for("react.profiler"),rC=Symbol.for("react.provider"),sC=Symbol.for("react.context"),iC=Symbol.for("react.forward_ref"),oC=Symbol.for("react.suspense"),aC=Symbol.for("react.memo"),lC=Symbol.for("react.lazy"),Kg=Symbol.iterator;function uC(t){return t===null||typeof t!="object"?null:(t=Kg&&t[Kg]||t["@@iterator"],typeof t=="function"?t:null)}var __={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E_=Object.assign,x_={};function Ro(t,e,n){this.props=t,this.context=e,this.refs=x_,this.updater=n||__}Ro.prototype.isReactComponent={};Ro.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ro.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function T_(){}T_.prototype=Ro.prototype;function hp(t,e,n){this.props=t,this.context=e,this.refs=x_,this.updater=n||__}var fp=hp.prototype=new T_;fp.constructor=hp;E_(fp,Ro.prototype);fp.isPureReactComponent=!0;var Yg=Array.isArray,S_=Object.prototype.hasOwnProperty,pp={current:null},C_={key:!0,ref:!0,__self:!0,__source:!0};function A_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)S_.call(e,r)&&!C_.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:hl,type:t,key:i,ref:o,props:s,_owner:pp.current}}function cC(t,e){return{$$typeof:hl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mp(t){return typeof t=="object"&&t!==null&&t.$$typeof===hl}function dC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xg=/\/+/g;function Bd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dC(""+t.key):e.toString(36)}function _u(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case hl:case ZS:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Bd(o,0):r,Yg(s)?(n="",t!=null&&(n=t.replace(Xg,"$&/")+"/"),_u(s,e,n,"",function(c){return c})):s!=null&&(mp(s)&&(s=cC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Xg,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Yg(t))for(var l=0;l<t.length;l++){i=t[l];var u=r+Bd(i,l);o+=_u(i,e,n,u,s)}else if(u=uC(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=r+Bd(i,l++),o+=_u(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Hl(t,e,n){if(t==null)return t;var r=[],s=0;return _u(t,r,"","",function(i){return e.call(n,i,s++)}),r}function hC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Lt={current:null},Eu={transition:null},fC={ReactCurrentDispatcher:Lt,ReactCurrentBatchConfig:Eu,ReactCurrentOwner:pp};function I_(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:Hl,forEach:function(t,e,n){Hl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hl(t,function(){e++}),e},toArray:function(t){return Hl(t,function(e){return e})||[]},only:function(t){if(!mp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=Ro;de.Fragment=eC;de.Profiler=nC;de.PureComponent=hp;de.StrictMode=tC;de.Suspense=oC;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fC;de.act=I_;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=E_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=pp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)S_.call(e,u)&&!C_.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:hl,type:t.type,key:s,ref:i,props:r,_owner:o}};de.createContext=function(t){return t={$$typeof:sC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rC,_context:t},t.Consumer=t};de.createElement=A_;de.createFactory=function(t){var e=A_.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:iC,render:t}};de.isValidElement=mp;de.lazy=function(t){return{$$typeof:lC,_payload:{_status:-1,_result:t},_init:hC}};de.memo=function(t,e){return{$$typeof:aC,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=Eu.transition;Eu.transition={};try{t()}finally{Eu.transition=e}};de.unstable_act=I_;de.useCallback=function(t,e){return Lt.current.useCallback(t,e)};de.useContext=function(t){return Lt.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return Lt.current.useDeferredValue(t)};de.useEffect=function(t,e){return Lt.current.useEffect(t,e)};de.useId=function(){return Lt.current.useId()};de.useImperativeHandle=function(t,e,n){return Lt.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return Lt.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return Lt.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return Lt.current.useMemo(t,e)};de.useReducer=function(t,e,n){return Lt.current.useReducer(t,e,n)};de.useRef=function(t){return Lt.current.useRef(t)};de.useState=function(t){return Lt.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return Lt.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return Lt.current.useTransition()};de.version="18.3.1";w_.exports=de;var b=w_.exports;const H=y_(b),R_=JS({__proto__:null,default:H},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pC=b,mC=Symbol.for("react.element"),gC=Symbol.for("react.fragment"),yC=Object.prototype.hasOwnProperty,vC=pC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wC={key:!0,ref:!0,__self:!0,__source:!0};function b_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)yC.call(e,r)&&!wC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:mC,type:t,key:i,ref:o,props:s,_owner:vC.current}}Mc.Fragment=gC;Mc.jsx=b_;Mc.jsxs=b_;v_.exports=Mc;var C=v_.exports,P_={exports:{}},on={},k_={exports:{}},N_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,z){var Q=F.length;F.push(z);e:for(;0<Q;){var ie=Q-1>>>1,X=F[ie];if(0<s(X,z))F[ie]=z,F[Q]=X,Q=ie;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var z=F[0],Q=F.pop();if(Q!==z){F[0]=Q;e:for(var ie=0,X=F.length,Z=X>>>1;ie<Z;){var ce=2*(ie+1)-1,Ae=F[ce],it=ce+1,pe=F[it];if(0>s(Ae,Q))it<X&&0>s(pe,Ae)?(F[ie]=pe,F[it]=Q,ie=it):(F[ie]=Ae,F[ce]=Q,ie=ce);else if(it<X&&0>s(pe,Q))F[ie]=pe,F[it]=Q,ie=it;else break e}}return z}function s(F,z){var Q=F.sortIndex-z.sortIndex;return Q!==0?Q:F.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,f=null,m=3,p=!1,T=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(F){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=F)r(c),z.sortIndex=z.expirationTime,e(u,z);else break;z=n(c)}}function k(F){if(w=!1,_(F),!T)if(n(u)!==null)T=!0,ne(O);else{var z=n(c);z!==null&&te(k,z.startTime-F)}}function O(F,z){T=!1,w&&(w=!1,v(x),x=-1),p=!0;var Q=m;try{for(_(z),f=n(u);f!==null&&(!(f.expirationTime>z)||F&&!N());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,m=f.priorityLevel;var X=ie(f.expirationTime<=z);z=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(u)&&r(u),_(z)}else r(u);f=n(u)}if(f!==null)var Z=!0;else{var ce=n(c);ce!==null&&te(k,ce.startTime-z),Z=!1}return Z}finally{f=null,m=Q,p=!1}}var V=!1,A=null,x=-1,I=5,R=-1;function N(){return!(t.unstable_now()-R<I)}function D(){if(A!==null){var F=t.unstable_now();R=F;var z=!0;try{z=A(!0,F)}finally{z?P():(V=!1,A=null)}}else V=!1}var P;if(typeof y=="function")P=function(){y(D)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,le=q.port2;q.port1.onmessage=D,P=function(){le.postMessage(null)}}else P=function(){E(D,0)};function ne(F){A=F,V||(V=!0,P())}function te(F,z){x=E(function(){F(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){T||p||(T=!0,ne(O))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(F){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var Q=m;m=z;try{return F()}finally{m=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Q=m;m=F;try{return z()}finally{m=Q}},t.unstable_scheduleCallback=function(F,z,Q){var ie=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ie+Q:ie):Q=ie,F){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Q+X,F={id:d++,callback:z,priorityLevel:F,startTime:Q,expirationTime:X,sortIndex:-1},Q>ie?(F.sortIndex=Q,e(c,F),n(u)===null&&F===n(c)&&(w?(v(x),x=-1):w=!0,te(k,Q-ie))):(F.sortIndex=X,e(u,F),T||p||(T=!0,ne(O))),F},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(F){var z=m;return function(){var Q=m;m=z;try{return F.apply(this,arguments)}finally{m=Q}}}})(N_);k_.exports=N_;var _C=k_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EC=b,sn=_C;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var D_=new Set,Oa={};function hi(t,e){ho(t,e),ho(t+"Capture",e)}function ho(t,e){for(Oa[t]=e,t=0;t<e.length;t++)D_.add(e[t])}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oh=Object.prototype.hasOwnProperty,xC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jg={},Zg={};function TC(t){return Oh.call(Zg,t)?!0:Oh.call(Jg,t)?!1:xC.test(t)?Zg[t]=!0:(Jg[t]=!0,!1)}function SC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function CC(t,e,n,r){if(e===null||typeof e>"u"||SC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ft(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yt[t]=new Ft(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yt[e]=new Ft(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yt[t]=new Ft(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yt[t]=new Ft(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yt[t]=new Ft(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yt[t]=new Ft(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yt[t]=new Ft(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yt[t]=new Ft(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yt[t]=new Ft(t,5,!1,t.toLowerCase(),null,!1,!1)});var gp=/[\-:]([a-z])/g;function yp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gp,yp);yt[e]=new Ft(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gp,yp);yt[e]=new Ft(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gp,yp);yt[e]=new Ft(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yt[t]=new Ft(t,1,!1,t.toLowerCase(),null,!1,!1)});yt.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yt[t]=new Ft(t,1,!1,t.toLowerCase(),null,!0,!0)});function vp(t,e,n,r){var s=yt.hasOwnProperty(e)?yt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(CC(e,n,s,r)&&(n=null),r||s===null?TC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Pr=EC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ql=Symbol.for("react.element"),Di=Symbol.for("react.portal"),Oi=Symbol.for("react.fragment"),wp=Symbol.for("react.strict_mode"),Vh=Symbol.for("react.profiler"),O_=Symbol.for("react.provider"),V_=Symbol.for("react.context"),_p=Symbol.for("react.forward_ref"),Mh=Symbol.for("react.suspense"),Lh=Symbol.for("react.suspense_list"),Ep=Symbol.for("react.memo"),$r=Symbol.for("react.lazy"),M_=Symbol.for("react.offscreen"),ey=Symbol.iterator;function Zo(t){return t===null||typeof t!="object"?null:(t=ey&&t[ey]||t["@@iterator"],typeof t=="function"?t:null)}var je=Object.assign,zd;function da(t){if(zd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zd=e&&e[1]||""}return`
`+zd+t}var $d=!1;function Hd(t,e){if(!t||$d)return"";$d=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{$d=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?da(t):""}function AC(t){switch(t.tag){case 5:return da(t.type);case 16:return da("Lazy");case 13:return da("Suspense");case 19:return da("SuspenseList");case 0:case 2:case 15:return t=Hd(t.type,!1),t;case 11:return t=Hd(t.type.render,!1),t;case 1:return t=Hd(t.type,!0),t;default:return""}}function Fh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oi:return"Fragment";case Di:return"Portal";case Vh:return"Profiler";case wp:return"StrictMode";case Mh:return"Suspense";case Lh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V_:return(t.displayName||"Context")+".Consumer";case O_:return(t._context.displayName||"Context")+".Provider";case _p:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ep:return e=t.displayName||null,e!==null?e:Fh(t.type)||"Memo";case $r:e=t._payload,t=t._init;try{return Fh(t(e))}catch{}}return null}function IC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fh(e);case 8:return e===wp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ys(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function L_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function RC(t){var e=L_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wl(t){t._valueTracker||(t._valueTracker=RC(t))}function F_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=L_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Bu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jh(t,e){var n=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ty(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ys(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function j_(t,e){e=e.checked,e!=null&&vp(t,"checked",e,!1)}function Uh(t,e){j_(t,e);var n=ys(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bh(t,e.type,ys(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ny(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bh(t,e,n){(e!=="number"||Bu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ha=Array.isArray;function qi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ys(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function zh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ry(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(ha(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ys(n)}}function U_(t,e){var n=ys(e.value),r=ys(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function sy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function B_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $h(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?B_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ql,z_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ql=Ql||document.createElement("div"),Ql.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ql.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Va(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var va={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bC=["Webkit","ms","Moz","O"];Object.keys(va).forEach(function(t){bC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),va[e]=va[t]})});function $_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||va.hasOwnProperty(t)&&va[t]?(""+e).trim():e+"px"}function H_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=$_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var PC=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hh(t,e){if(e){if(PC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function qh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wh=null;function xp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qh=null,Wi=null,Qi=null;function iy(t){if(t=ml(t)){if(typeof Qh!="function")throw Error($(280));var e=t.stateNode;e&&(e=Bc(e),Qh(t.stateNode,t.type,e))}}function q_(t){Wi?Qi?Qi.push(t):Qi=[t]:Wi=t}function W_(){if(Wi){var t=Wi,e=Qi;if(Qi=Wi=null,iy(t),e)for(t=0;t<e.length;t++)iy(e[t])}}function Q_(t,e){return t(e)}function G_(){}var qd=!1;function K_(t,e,n){if(qd)return t(e,n);qd=!0;try{return Q_(t,e,n)}finally{qd=!1,(Wi!==null||Qi!==null)&&(G_(),W_())}}function Ma(t,e){var n=t.stateNode;if(n===null)return null;var r=Bc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var Gh=!1;if(Er)try{var ea={};Object.defineProperty(ea,"passive",{get:function(){Gh=!0}}),window.addEventListener("test",ea,ea),window.removeEventListener("test",ea,ea)}catch{Gh=!1}function kC(t,e,n,r,s,i,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var wa=!1,zu=null,$u=!1,Kh=null,NC={onError:function(t){wa=!0,zu=t}};function DC(t,e,n,r,s,i,o,l,u){wa=!1,zu=null,kC.apply(NC,arguments)}function OC(t,e,n,r,s,i,o,l,u){if(DC.apply(this,arguments),wa){if(wa){var c=zu;wa=!1,zu=null}else throw Error($(198));$u||($u=!0,Kh=c)}}function fi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Y_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function oy(t){if(fi(t)!==t)throw Error($(188))}function VC(t){var e=t.alternate;if(!e){if(e=fi(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return oy(s),t;if(i===r)return oy(s),e;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function X_(t){return t=VC(t),t!==null?J_(t):null}function J_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=J_(t);if(e!==null)return e;t=t.sibling}return null}var Z_=sn.unstable_scheduleCallback,ay=sn.unstable_cancelCallback,MC=sn.unstable_shouldYield,LC=sn.unstable_requestPaint,Ge=sn.unstable_now,FC=sn.unstable_getCurrentPriorityLevel,Tp=sn.unstable_ImmediatePriority,e0=sn.unstable_UserBlockingPriority,Hu=sn.unstable_NormalPriority,jC=sn.unstable_LowPriority,t0=sn.unstable_IdlePriority,Lc=null,Yn=null;function UC(t){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Lc,t,void 0,(t.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:$C,BC=Math.log,zC=Math.LN2;function $C(t){return t>>>=0,t===0?32:31-(BC(t)/zC|0)|0}var Gl=64,Kl=4194304;function fa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=fa(l):(i&=o,i!==0&&(r=fa(i)))}else o=n&~s,o!==0?r=fa(o):i!==0&&(r=fa(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kn(e),s=1<<n,r|=t[n],e&=~s;return r}function HC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-kn(i),l=1<<o,u=s[o];u===-1?(!(l&n)||l&r)&&(s[o]=HC(l,e)):u<=e&&(t.expiredLanes|=l),i&=~l}}function Yh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function n0(){var t=Gl;return Gl<<=1,!(Gl&4194240)&&(Gl=64),t}function Wd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kn(e),t[e]=n}function WC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-kn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Sp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-kn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Te=0;function r0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var s0,Cp,i0,o0,a0,Xh=!1,Yl=[],rs=null,ss=null,is=null,La=new Map,Fa=new Map,qr=[],QC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ly(t,e){switch(t){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":La.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fa.delete(e.pointerId)}}function ta(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ml(e),e!==null&&Cp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function GC(t,e,n,r,s){switch(e){case"focusin":return rs=ta(rs,t,e,n,r,s),!0;case"dragenter":return ss=ta(ss,t,e,n,r,s),!0;case"mouseover":return is=ta(is,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return La.set(i,ta(La.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Fa.set(i,ta(Fa.get(i)||null,t,e,n,r,s)),!0}return!1}function l0(t){var e=Hs(t.target);if(e!==null){var n=fi(e);if(n!==null){if(e=n.tag,e===13){if(e=Y_(n),e!==null){t.blockedOn=e,a0(t.priority,function(){i0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Wh=r,n.target.dispatchEvent(r),Wh=null}else return e=ml(n),e!==null&&Cp(e),t.blockedOn=n,!1;e.shift()}return!0}function uy(t,e,n){xu(t)&&n.delete(e)}function KC(){Xh=!1,rs!==null&&xu(rs)&&(rs=null),ss!==null&&xu(ss)&&(ss=null),is!==null&&xu(is)&&(is=null),La.forEach(uy),Fa.forEach(uy)}function na(t,e){t.blockedOn===e&&(t.blockedOn=null,Xh||(Xh=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,KC)))}function ja(t){function e(s){return na(s,t)}if(0<Yl.length){na(Yl[0],t);for(var n=1;n<Yl.length;n++){var r=Yl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(rs!==null&&na(rs,t),ss!==null&&na(ss,t),is!==null&&na(is,t),La.forEach(e),Fa.forEach(e),n=0;n<qr.length;n++)r=qr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<qr.length&&(n=qr[0],n.blockedOn===null);)l0(n),n.blockedOn===null&&qr.shift()}var Gi=Pr.ReactCurrentBatchConfig,Wu=!0;function YC(t,e,n,r){var s=Te,i=Gi.transition;Gi.transition=null;try{Te=1,Ap(t,e,n,r)}finally{Te=s,Gi.transition=i}}function XC(t,e,n,r){var s=Te,i=Gi.transition;Gi.transition=null;try{Te=4,Ap(t,e,n,r)}finally{Te=s,Gi.transition=i}}function Ap(t,e,n,r){if(Wu){var s=Jh(t,e,n,r);if(s===null)nh(t,e,r,Qu,n),ly(t,r);else if(GC(s,t,e,n,r))r.stopPropagation();else if(ly(t,r),e&4&&-1<QC.indexOf(t)){for(;s!==null;){var i=ml(s);if(i!==null&&s0(i),i=Jh(t,e,n,r),i===null&&nh(t,e,r,Qu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else nh(t,e,r,null,n)}}var Qu=null;function Jh(t,e,n,r){if(Qu=null,t=xp(r),t=Hs(t),t!==null)if(e=fi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Y_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qu=t,null}function u0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FC()){case Tp:return 1;case e0:return 4;case Hu:case jC:return 16;case t0:return 536870912;default:return 16}default:return 16}}var Zr=null,Ip=null,Tu=null;function c0(){if(Tu)return Tu;var t,e=Ip,n=e.length,r,s="value"in Zr?Zr.value:Zr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Tu=s.slice(t,1<r?1-r:void 0)}function Su(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xl(){return!0}function cy(){return!1}function an(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xl:cy,this.isPropagationStopped=cy,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xl)},persist:function(){},isPersistent:Xl}),e}var bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rp=an(bo),pl=je({},bo,{view:0,detail:0}),JC=an(pl),Qd,Gd,ra,Fc=je({},pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ra&&(ra&&t.type==="mousemove"?(Qd=t.screenX-ra.screenX,Gd=t.screenY-ra.screenY):Gd=Qd=0,ra=t),Qd)},movementY:function(t){return"movementY"in t?t.movementY:Gd}}),dy=an(Fc),ZC=je({},Fc,{dataTransfer:0}),eA=an(ZC),tA=je({},pl,{relatedTarget:0}),Kd=an(tA),nA=je({},bo,{animationName:0,elapsedTime:0,pseudoElement:0}),rA=an(nA),sA=je({},bo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iA=an(sA),oA=je({},bo,{data:0}),hy=an(oA),aA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uA[t])?!!e[t]:!1}function bp(){return cA}var dA=je({},pl,{key:function(t){if(t.key){var e=aA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Su(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bp,charCode:function(t){return t.type==="keypress"?Su(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Su(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hA=an(dA),fA=je({},Fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fy=an(fA),pA=je({},pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bp}),mA=an(pA),gA=je({},bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),yA=an(gA),vA=je({},Fc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wA=an(vA),_A=[9,13,27,32],Pp=Er&&"CompositionEvent"in window,_a=null;Er&&"documentMode"in document&&(_a=document.documentMode);var EA=Er&&"TextEvent"in window&&!_a,d0=Er&&(!Pp||_a&&8<_a&&11>=_a),py=" ",my=!1;function h0(t,e){switch(t){case"keyup":return _A.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vi=!1;function xA(t,e){switch(t){case"compositionend":return f0(e);case"keypress":return e.which!==32?null:(my=!0,py);case"textInput":return t=e.data,t===py&&my?null:t;default:return null}}function TA(t,e){if(Vi)return t==="compositionend"||!Pp&&h0(t,e)?(t=c0(),Tu=Ip=Zr=null,Vi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return d0&&e.locale!=="ko"?null:e.data;default:return null}}var SA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!SA[t.type]:e==="textarea"}function p0(t,e,n,r){q_(r),e=Gu(e,"onChange"),0<e.length&&(n=new Rp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ea=null,Ua=null;function CA(t){C0(t,0)}function jc(t){var e=Fi(t);if(F_(e))return t}function AA(t,e){if(t==="change")return e}var m0=!1;if(Er){var Yd;if(Er){var Xd="oninput"in document;if(!Xd){var yy=document.createElement("div");yy.setAttribute("oninput","return;"),Xd=typeof yy.oninput=="function"}Yd=Xd}else Yd=!1;m0=Yd&&(!document.documentMode||9<document.documentMode)}function vy(){Ea&&(Ea.detachEvent("onpropertychange",g0),Ua=Ea=null)}function g0(t){if(t.propertyName==="value"&&jc(Ua)){var e=[];p0(e,Ua,t,xp(t)),K_(CA,e)}}function IA(t,e,n){t==="focusin"?(vy(),Ea=e,Ua=n,Ea.attachEvent("onpropertychange",g0)):t==="focusout"&&vy()}function RA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jc(Ua)}function bA(t,e){if(t==="click")return jc(e)}function PA(t,e){if(t==="input"||t==="change")return jc(e)}function kA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dn=typeof Object.is=="function"?Object.is:kA;function Ba(t,e){if(Dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Oh.call(e,s)||!Dn(t[s],e[s]))return!1}return!0}function wy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _y(t,e){var n=wy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wy(n)}}function y0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?y0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function v0(){for(var t=window,e=Bu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bu(t.document)}return e}function kp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function NA(t){var e=v0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&y0(n.ownerDocument.documentElement,n)){if(r!==null&&kp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=_y(n,i);var o=_y(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var DA=Er&&"documentMode"in document&&11>=document.documentMode,Mi=null,Zh=null,xa=null,ef=!1;function Ey(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ef||Mi==null||Mi!==Bu(r)||(r=Mi,"selectionStart"in r&&kp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xa&&Ba(xa,r)||(xa=r,r=Gu(Zh,"onSelect"),0<r.length&&(e=new Rp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mi)))}function Jl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Li={animationend:Jl("Animation","AnimationEnd"),animationiteration:Jl("Animation","AnimationIteration"),animationstart:Jl("Animation","AnimationStart"),transitionend:Jl("Transition","TransitionEnd")},Jd={},w0={};Er&&(w0=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function Uc(t){if(Jd[t])return Jd[t];if(!Li[t])return t;var e=Li[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in w0)return Jd[t]=e[n];return t}var _0=Uc("animationend"),E0=Uc("animationiteration"),x0=Uc("animationstart"),T0=Uc("transitionend"),S0=new Map,xy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bs(t,e){S0.set(t,e),hi(e,[t])}for(var Zd=0;Zd<xy.length;Zd++){var eh=xy[Zd],OA=eh.toLowerCase(),VA=eh[0].toUpperCase()+eh.slice(1);bs(OA,"on"+VA)}bs(_0,"onAnimationEnd");bs(E0,"onAnimationIteration");bs(x0,"onAnimationStart");bs("dblclick","onDoubleClick");bs("focusin","onFocus");bs("focusout","onBlur");bs(T0,"onTransitionEnd");ho("onMouseEnter",["mouseout","mouseover"]);ho("onMouseLeave",["mouseout","mouseover"]);ho("onPointerEnter",["pointerout","pointerover"]);ho("onPointerLeave",["pointerout","pointerover"]);hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hi("onBeforeInput",["compositionend","keypress","textInput","paste"]);hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MA=new Set("cancel close invalid load scroll toggle".split(" ").concat(pa));function Ty(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,OC(r,e,void 0,t),t.currentTarget=null}function C0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;Ty(s,l,c),i=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;Ty(s,l,c),i=u}}}if($u)throw t=Kh,$u=!1,Kh=null,t}function Ne(t,e){var n=e[of];n===void 0&&(n=e[of]=new Set);var r=t+"__bubble";n.has(r)||(A0(e,t,2,!1),n.add(r))}function th(t,e,n){var r=0;e&&(r|=4),A0(n,t,r,e)}var Zl="_reactListening"+Math.random().toString(36).slice(2);function za(t){if(!t[Zl]){t[Zl]=!0,D_.forEach(function(n){n!=="selectionchange"&&(MA.has(n)||th(n,!1,t),th(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zl]||(e[Zl]=!0,th("selectionchange",!1,e))}}function A0(t,e,n,r){switch(u0(e)){case 1:var s=YC;break;case 4:s=XC;break;default:s=Ap}n=s.bind(null,e,n,t),s=void 0,!Gh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function nh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Hs(l),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}l=l.parentNode}}r=r.return}K_(function(){var c=i,d=xp(n),f=[];e:{var m=S0.get(t);if(m!==void 0){var p=Rp,T=t;switch(t){case"keypress":if(Su(n)===0)break e;case"keydown":case"keyup":p=hA;break;case"focusin":T="focus",p=Kd;break;case"focusout":T="blur",p=Kd;break;case"beforeblur":case"afterblur":p=Kd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=dy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=eA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=mA;break;case _0:case E0:case x0:p=rA;break;case T0:p=yA;break;case"scroll":p=JC;break;case"wheel":p=wA;break;case"copy":case"cut":case"paste":p=iA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=fy}var w=(e&4)!==0,E=!w&&t==="scroll",v=w?m!==null?m+"Capture":null:m;w=[];for(var y=c,_;y!==null;){_=y;var k=_.stateNode;if(_.tag===5&&k!==null&&(_=k,v!==null&&(k=Ma(y,v),k!=null&&w.push($a(y,k,_)))),E)break;y=y.return}0<w.length&&(m=new p(m,T,null,n,d),f.push({event:m,listeners:w}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==Wh&&(T=n.relatedTarget||n.fromElement)&&(Hs(T)||T[xr]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(T=n.relatedTarget||n.toElement,p=c,T=T?Hs(T):null,T!==null&&(E=fi(T),T!==E||T.tag!==5&&T.tag!==6)&&(T=null)):(p=null,T=c),p!==T)){if(w=dy,k="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=fy,k="onPointerLeave",v="onPointerEnter",y="pointer"),E=p==null?m:Fi(p),_=T==null?m:Fi(T),m=new w(k,y+"leave",p,n,d),m.target=E,m.relatedTarget=_,k=null,Hs(d)===c&&(w=new w(v,y+"enter",T,n,d),w.target=_,w.relatedTarget=E,k=w),E=k,p&&T)t:{for(w=p,v=T,y=0,_=w;_;_=Ri(_))y++;for(_=0,k=v;k;k=Ri(k))_++;for(;0<y-_;)w=Ri(w),y--;for(;0<_-y;)v=Ri(v),_--;for(;y--;){if(w===v||v!==null&&w===v.alternate)break t;w=Ri(w),v=Ri(v)}w=null}else w=null;p!==null&&Sy(f,m,p,w,!1),T!==null&&E!==null&&Sy(f,E,T,w,!0)}}e:{if(m=c?Fi(c):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var O=AA;else if(gy(m))if(m0)O=PA;else{O=RA;var V=IA}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(O=bA);if(O&&(O=O(t,c))){p0(f,O,n,d);break e}V&&V(t,m,c),t==="focusout"&&(V=m._wrapperState)&&V.controlled&&m.type==="number"&&Bh(m,"number",m.value)}switch(V=c?Fi(c):window,t){case"focusin":(gy(V)||V.contentEditable==="true")&&(Mi=V,Zh=c,xa=null);break;case"focusout":xa=Zh=Mi=null;break;case"mousedown":ef=!0;break;case"contextmenu":case"mouseup":case"dragend":ef=!1,Ey(f,n,d);break;case"selectionchange":if(DA)break;case"keydown":case"keyup":Ey(f,n,d)}var A;if(Pp)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Vi?h0(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(d0&&n.locale!=="ko"&&(Vi||x!=="onCompositionStart"?x==="onCompositionEnd"&&Vi&&(A=c0()):(Zr=d,Ip="value"in Zr?Zr.value:Zr.textContent,Vi=!0)),V=Gu(c,x),0<V.length&&(x=new hy(x,t,null,n,d),f.push({event:x,listeners:V}),A?x.data=A:(A=f0(n),A!==null&&(x.data=A)))),(A=EA?xA(t,n):TA(t,n))&&(c=Gu(c,"onBeforeInput"),0<c.length&&(d=new hy("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=A))}C0(f,e)})}function $a(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ma(t,n),i!=null&&r.unshift($a(t,i,s)),i=Ma(t,e),i!=null&&r.push($a(t,i,s))),t=t.return}return r}function Ri(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sy(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,s?(u=Ma(n,i),u!=null&&o.unshift($a(n,u,l))):s||(u=Ma(n,i),u!=null&&o.push($a(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var LA=/\r\n?/g,FA=/\u0000|\uFFFD/g;function Cy(t){return(typeof t=="string"?t:""+t).replace(LA,`
`).replace(FA,"")}function eu(t,e,n){if(e=Cy(e),Cy(t)!==e&&n)throw Error($(425))}function Ku(){}var tf=null,nf=null;function rf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sf=typeof setTimeout=="function"?setTimeout:void 0,jA=typeof clearTimeout=="function"?clearTimeout:void 0,Ay=typeof Promise=="function"?Promise:void 0,UA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ay<"u"?function(t){return Ay.resolve(null).then(t).catch(BA)}:sf;function BA(t){setTimeout(function(){throw t})}function rh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ja(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ja(e)}function os(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Iy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Po=Math.random().toString(36).slice(2),Qn="__reactFiber$"+Po,Ha="__reactProps$"+Po,xr="__reactContainer$"+Po,of="__reactEvents$"+Po,zA="__reactListeners$"+Po,$A="__reactHandles$"+Po;function Hs(t){var e=t[Qn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xr]||n[Qn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Iy(t);t!==null;){if(n=t[Qn])return n;t=Iy(t)}return e}t=n,n=t.parentNode}return null}function ml(t){return t=t[Qn]||t[xr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Bc(t){return t[Ha]||null}var af=[],ji=-1;function Ps(t){return{current:t}}function Oe(t){0>ji||(t.current=af[ji],af[ji]=null,ji--)}function be(t,e){ji++,af[ji]=t.current,t.current=e}var vs={},bt=Ps(vs),qt=Ps(!1),ri=vs;function fo(t,e){var n=t.type.contextTypes;if(!n)return vs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Wt(t){return t=t.childContextTypes,t!=null}function Yu(){Oe(qt),Oe(bt)}function Ry(t,e,n){if(bt.current!==vs)throw Error($(168));be(bt,e),be(qt,n)}function I0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error($(108,IC(t)||"Unknown",s));return je({},n,r)}function Xu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vs,ri=bt.current,be(bt,t),be(qt,qt.current),!0}function by(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=I0(t,e,ri),r.__reactInternalMemoizedMergedChildContext=t,Oe(qt),Oe(bt),be(bt,t)):Oe(qt),be(qt,n)}var mr=null,zc=!1,sh=!1;function R0(t){mr===null?mr=[t]:mr.push(t)}function HA(t){zc=!0,R0(t)}function ks(){if(!sh&&mr!==null){sh=!0;var t=0,e=Te;try{var n=mr;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}mr=null,zc=!1}catch(s){throw mr!==null&&(mr=mr.slice(t+1)),Z_(Tp,ks),s}finally{Te=e,sh=!1}}return null}var Ui=[],Bi=0,Ju=null,Zu=0,hn=[],fn=0,si=null,yr=1,vr="";function Bs(t,e){Ui[Bi++]=Zu,Ui[Bi++]=Ju,Ju=t,Zu=e}function b0(t,e,n){hn[fn++]=yr,hn[fn++]=vr,hn[fn++]=si,si=t;var r=yr;t=vr;var s=32-kn(r)-1;r&=~(1<<s),n+=1;var i=32-kn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,yr=1<<32-kn(e)+s|n<<s|r,vr=i+t}else yr=1<<i|n<<s|r,vr=t}function Np(t){t.return!==null&&(Bs(t,1),b0(t,1,0))}function Dp(t){for(;t===Ju;)Ju=Ui[--Bi],Ui[Bi]=null,Zu=Ui[--Bi],Ui[Bi]=null;for(;t===si;)si=hn[--fn],hn[fn]=null,vr=hn[--fn],hn[fn]=null,yr=hn[--fn],hn[fn]=null}var nn=null,en=null,Me=!1,bn=null;function P0(t,e){var n=gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Py(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nn=t,en=os(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nn=t,en=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=si!==null?{id:yr,overflow:vr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,nn=t,en=null,!0):!1;default:return!1}}function lf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function uf(t){if(Me){var e=en;if(e){var n=e;if(!Py(t,e)){if(lf(t))throw Error($(418));e=os(n.nextSibling);var r=nn;e&&Py(t,e)?P0(r,n):(t.flags=t.flags&-4097|2,Me=!1,nn=t)}}else{if(lf(t))throw Error($(418));t.flags=t.flags&-4097|2,Me=!1,nn=t}}}function ky(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nn=t}function tu(t){if(t!==nn)return!1;if(!Me)return ky(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rf(t.type,t.memoizedProps)),e&&(e=en)){if(lf(t))throw k0(),Error($(418));for(;e;)P0(t,e),e=os(e.nextSibling)}if(ky(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){en=os(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}en=null}}else en=nn?os(t.stateNode.nextSibling):null;return!0}function k0(){for(var t=en;t;)t=os(t.nextSibling)}function po(){en=nn=null,Me=!1}function Op(t){bn===null?bn=[t]:bn.push(t)}var qA=Pr.ReactCurrentBatchConfig;function sa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function nu(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ny(t){var e=t._init;return e(t._payload)}function N0(t){function e(v,y){if(t){var _=v.deletions;_===null?(v.deletions=[y],v.flags|=16):_.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=cs(v,y),v.index=0,v.sibling=null,v}function i(v,y,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<y?(v.flags|=2,y):_):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,y,_,k){return y===null||y.tag!==6?(y=dh(_,v.mode,k),y.return=v,y):(y=s(y,_),y.return=v,y)}function u(v,y,_,k){var O=_.type;return O===Oi?d(v,y,_.props.children,k,_.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===$r&&Ny(O)===y.type)?(k=s(y,_.props),k.ref=sa(v,y,_),k.return=v,k):(k=ku(_.type,_.key,_.props,null,v.mode,k),k.ref=sa(v,y,_),k.return=v,k)}function c(v,y,_,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=hh(_,v.mode,k),y.return=v,y):(y=s(y,_.children||[]),y.return=v,y)}function d(v,y,_,k,O){return y===null||y.tag!==7?(y=ti(_,v.mode,k,O),y.return=v,y):(y=s(y,_),y.return=v,y)}function f(v,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=dh(""+y,v.mode,_),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ql:return _=ku(y.type,y.key,y.props,null,v.mode,_),_.ref=sa(v,null,y),_.return=v,_;case Di:return y=hh(y,v.mode,_),y.return=v,y;case $r:var k=y._init;return f(v,k(y._payload),_)}if(ha(y)||Zo(y))return y=ti(y,v.mode,_,null),y.return=v,y;nu(v,y)}return null}function m(v,y,_,k){var O=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return O!==null?null:l(v,y,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ql:return _.key===O?u(v,y,_,k):null;case Di:return _.key===O?c(v,y,_,k):null;case $r:return O=_._init,m(v,y,O(_._payload),k)}if(ha(_)||Zo(_))return O!==null?null:d(v,y,_,k,null);nu(v,_)}return null}function p(v,y,_,k,O){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(_)||null,l(y,v,""+k,O);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ql:return v=v.get(k.key===null?_:k.key)||null,u(y,v,k,O);case Di:return v=v.get(k.key===null?_:k.key)||null,c(y,v,k,O);case $r:var V=k._init;return p(v,y,_,V(k._payload),O)}if(ha(k)||Zo(k))return v=v.get(_)||null,d(y,v,k,O,null);nu(y,k)}return null}function T(v,y,_,k){for(var O=null,V=null,A=y,x=y=0,I=null;A!==null&&x<_.length;x++){A.index>x?(I=A,A=null):I=A.sibling;var R=m(v,A,_[x],k);if(R===null){A===null&&(A=I);break}t&&A&&R.alternate===null&&e(v,A),y=i(R,y,x),V===null?O=R:V.sibling=R,V=R,A=I}if(x===_.length)return n(v,A),Me&&Bs(v,x),O;if(A===null){for(;x<_.length;x++)A=f(v,_[x],k),A!==null&&(y=i(A,y,x),V===null?O=A:V.sibling=A,V=A);return Me&&Bs(v,x),O}for(A=r(v,A);x<_.length;x++)I=p(A,v,x,_[x],k),I!==null&&(t&&I.alternate!==null&&A.delete(I.key===null?x:I.key),y=i(I,y,x),V===null?O=I:V.sibling=I,V=I);return t&&A.forEach(function(N){return e(v,N)}),Me&&Bs(v,x),O}function w(v,y,_,k){var O=Zo(_);if(typeof O!="function")throw Error($(150));if(_=O.call(_),_==null)throw Error($(151));for(var V=O=null,A=y,x=y=0,I=null,R=_.next();A!==null&&!R.done;x++,R=_.next()){A.index>x?(I=A,A=null):I=A.sibling;var N=m(v,A,R.value,k);if(N===null){A===null&&(A=I);break}t&&A&&N.alternate===null&&e(v,A),y=i(N,y,x),V===null?O=N:V.sibling=N,V=N,A=I}if(R.done)return n(v,A),Me&&Bs(v,x),O;if(A===null){for(;!R.done;x++,R=_.next())R=f(v,R.value,k),R!==null&&(y=i(R,y,x),V===null?O=R:V.sibling=R,V=R);return Me&&Bs(v,x),O}for(A=r(v,A);!R.done;x++,R=_.next())R=p(A,v,x,R.value,k),R!==null&&(t&&R.alternate!==null&&A.delete(R.key===null?x:R.key),y=i(R,y,x),V===null?O=R:V.sibling=R,V=R);return t&&A.forEach(function(D){return e(v,D)}),Me&&Bs(v,x),O}function E(v,y,_,k){if(typeof _=="object"&&_!==null&&_.type===Oi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case ql:e:{for(var O=_.key,V=y;V!==null;){if(V.key===O){if(O=_.type,O===Oi){if(V.tag===7){n(v,V.sibling),y=s(V,_.props.children),y.return=v,v=y;break e}}else if(V.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===$r&&Ny(O)===V.type){n(v,V.sibling),y=s(V,_.props),y.ref=sa(v,V,_),y.return=v,v=y;break e}n(v,V);break}else e(v,V);V=V.sibling}_.type===Oi?(y=ti(_.props.children,v.mode,k,_.key),y.return=v,v=y):(k=ku(_.type,_.key,_.props,null,v.mode,k),k.ref=sa(v,y,_),k.return=v,v=k)}return o(v);case Di:e:{for(V=_.key;y!==null;){if(y.key===V)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(v,y.sibling),y=s(y,_.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=hh(_,v.mode,k),y.return=v,v=y}return o(v);case $r:return V=_._init,E(v,y,V(_._payload),k)}if(ha(_))return T(v,y,_,k);if(Zo(_))return w(v,y,_,k);nu(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(v,y.sibling),y=s(y,_),y.return=v,v=y):(n(v,y),y=dh(_,v.mode,k),y.return=v,v=y),o(v)):n(v,y)}return E}var mo=N0(!0),D0=N0(!1),ec=Ps(null),tc=null,zi=null,Vp=null;function Mp(){Vp=zi=tc=null}function Lp(t){var e=ec.current;Oe(ec),t._currentValue=e}function cf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ki(t,e){tc=t,Vp=zi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ht=!0),t.firstContext=null)}function vn(t){var e=t._currentValue;if(Vp!==t)if(t={context:t,memoizedValue:e,next:null},zi===null){if(tc===null)throw Error($(308));zi=t,tc.dependencies={lanes:0,firstContext:t}}else zi=zi.next=t;return e}var qs=null;function Fp(t){qs===null?qs=[t]:qs.push(t)}function O0(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Fp(e)):(n.next=s.next,s.next=n),e.interleaved=n,Tr(t,r)}function Tr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Hr=!1;function jp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function V0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function as(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Tr(t,n)}return s=r.interleaved,s===null?(e.next=e,Fp(r)):(e.next=s.next,s.next=e),r.interleaved=e,Tr(t,n)}function Cu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sp(t,n)}}function Dy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function nc(t,e,n,r){var s=t.updateQueue;Hr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,d=c=u=null,l=i;do{var m=l.lane,p=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var T=t,w=l;switch(m=e,p=n,w.tag){case 1:if(T=w.payload,typeof T=="function"){f=T.call(p,f,m);break e}f=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=w.payload,m=typeof T=="function"?T.call(p,f,m):T,m==null)break e;f=je({},f,m);break e;case 2:Hr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=p,u=f):d=d.next=p,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);oi|=o,t.lanes=o,t.memoizedState=f}}function Oy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error($(191,s));s.call(r)}}}var gl={},Xn=Ps(gl),qa=Ps(gl),Wa=Ps(gl);function Ws(t){if(t===gl)throw Error($(174));return t}function Up(t,e){switch(be(Wa,e),be(qa,t),be(Xn,gl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$h(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$h(e,t)}Oe(Xn),be(Xn,e)}function go(){Oe(Xn),Oe(qa),Oe(Wa)}function M0(t){Ws(Wa.current);var e=Ws(Xn.current),n=$h(e,t.type);e!==n&&(be(qa,t),be(Xn,n))}function Bp(t){qa.current===t&&(Oe(Xn),Oe(qa))}var Le=Ps(0);function rc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ih=[];function zp(){for(var t=0;t<ih.length;t++)ih[t]._workInProgressVersionPrimary=null;ih.length=0}var Au=Pr.ReactCurrentDispatcher,oh=Pr.ReactCurrentBatchConfig,ii=0,Fe=null,et=null,at=null,sc=!1,Ta=!1,Qa=0,WA=0;function xt(){throw Error($(321))}function $p(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dn(t[n],e[n]))return!1;return!0}function Hp(t,e,n,r,s,i){if(ii=i,Fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Au.current=t===null||t.memoizedState===null?YA:XA,t=n(r,s),Ta){i=0;do{if(Ta=!1,Qa=0,25<=i)throw Error($(301));i+=1,at=et=null,e.updateQueue=null,Au.current=JA,t=n(r,s)}while(Ta)}if(Au.current=ic,e=et!==null&&et.next!==null,ii=0,at=et=Fe=null,sc=!1,e)throw Error($(300));return t}function qp(){var t=Qa!==0;return Qa=0,t}function zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Fe.memoizedState=at=t:at=at.next=t,at}function wn(){if(et===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var e=at===null?Fe.memoizedState:at.next;if(e!==null)at=e,et=t;else{if(t===null)throw Error($(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},at===null?Fe.memoizedState=at=t:at=at.next=t}return at}function Ga(t,e){return typeof e=="function"?e(t):e}function ah(t){var e=wn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=et,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,u=null,c=i;do{var d=c.lane;if((ii&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,o=r):u=u.next=f,Fe.lanes|=d,oi|=d}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=l,Dn(r,e.memoizedState)||(Ht=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Fe.lanes|=i,oi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function lh(t){var e=wn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Dn(i,e.memoizedState)||(Ht=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function L0(){}function F0(t,e){var n=Fe,r=wn(),s=e(),i=!Dn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ht=!0),r=r.queue,Wp(B0.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,Ka(9,U0.bind(null,n,r,s,e),void 0,null),ut===null)throw Error($(349));ii&30||j0(n,e,s)}return s}function j0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function U0(t,e,n,r){e.value=n,e.getSnapshot=r,z0(e)&&$0(t)}function B0(t,e,n){return n(function(){z0(e)&&$0(t)})}function z0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dn(t,n)}catch{return!0}}function $0(t){var e=Tr(t,1);e!==null&&Nn(e,t,1,-1)}function Vy(t){var e=zn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:t},e.queue=t,t=t.dispatch=KA.bind(null,Fe,t),[e.memoizedState,t]}function Ka(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function H0(){return wn().memoizedState}function Iu(t,e,n,r){var s=zn();Fe.flags|=t,s.memoizedState=Ka(1|e,n,void 0,r===void 0?null:r)}function $c(t,e,n,r){var s=wn();r=r===void 0?null:r;var i=void 0;if(et!==null){var o=et.memoizedState;if(i=o.destroy,r!==null&&$p(r,o.deps)){s.memoizedState=Ka(e,n,i,r);return}}Fe.flags|=t,s.memoizedState=Ka(1|e,n,i,r)}function My(t,e){return Iu(8390656,8,t,e)}function Wp(t,e){return $c(2048,8,t,e)}function q0(t,e){return $c(4,2,t,e)}function W0(t,e){return $c(4,4,t,e)}function Q0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function G0(t,e,n){return n=n!=null?n.concat([t]):null,$c(4,4,Q0.bind(null,e,t),n)}function Qp(){}function K0(t,e){var n=wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$p(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Y0(t,e){var n=wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$p(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function X0(t,e,n){return ii&21?(Dn(n,e)||(n=n0(),Fe.lanes|=n,oi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=n)}function QA(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=oh.transition;oh.transition={};try{t(!1),e()}finally{Te=n,oh.transition=r}}function J0(){return wn().memoizedState}function GA(t,e,n){var r=us(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Z0(t))eE(e,n);else if(n=O0(t,e,n,r),n!==null){var s=Mt();Nn(n,t,r,s),tE(n,e,r)}}function KA(t,e,n){var r=us(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Z0(t))eE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Dn(l,o)){var u=e.interleaved;u===null?(s.next=s,Fp(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=O0(t,e,s,r),n!==null&&(s=Mt(),Nn(n,t,r,s),tE(n,e,r))}}function Z0(t){var e=t.alternate;return t===Fe||e!==null&&e===Fe}function eE(t,e){Ta=sc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sp(t,n)}}var ic={readContext:vn,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},YA={readContext:vn,useCallback:function(t,e){return zn().memoizedState=[t,e===void 0?null:e],t},useContext:vn,useEffect:My,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Iu(4194308,4,Q0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Iu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Iu(4,2,t,e)},useMemo:function(t,e){var n=zn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=GA.bind(null,Fe,t),[r.memoizedState,t]},useRef:function(t){var e=zn();return t={current:t},e.memoizedState=t},useState:Vy,useDebugValue:Qp,useDeferredValue:function(t){return zn().memoizedState=t},useTransition:function(){var t=Vy(!1),e=t[0];return t=QA.bind(null,t[1]),zn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Fe,s=zn();if(Me){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),ut===null)throw Error($(349));ii&30||j0(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,My(B0.bind(null,r,i,t),[t]),r.flags|=2048,Ka(9,U0.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=zn(),e=ut.identifierPrefix;if(Me){var n=vr,r=yr;n=(r&~(1<<32-kn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Qa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=WA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},XA={readContext:vn,useCallback:K0,useContext:vn,useEffect:Wp,useImperativeHandle:G0,useInsertionEffect:q0,useLayoutEffect:W0,useMemo:Y0,useReducer:ah,useRef:H0,useState:function(){return ah(Ga)},useDebugValue:Qp,useDeferredValue:function(t){var e=wn();return X0(e,et.memoizedState,t)},useTransition:function(){var t=ah(Ga)[0],e=wn().memoizedState;return[t,e]},useMutableSource:L0,useSyncExternalStore:F0,useId:J0,unstable_isNewReconciler:!1},JA={readContext:vn,useCallback:K0,useContext:vn,useEffect:Wp,useImperativeHandle:G0,useInsertionEffect:q0,useLayoutEffect:W0,useMemo:Y0,useReducer:lh,useRef:H0,useState:function(){return lh(Ga)},useDebugValue:Qp,useDeferredValue:function(t){var e=wn();return et===null?e.memoizedState=t:X0(e,et.memoizedState,t)},useTransition:function(){var t=lh(Ga)[0],e=wn().memoizedState;return[t,e]},useMutableSource:L0,useSyncExternalStore:F0,useId:J0,unstable_isNewReconciler:!1};function Sn(t,e){if(t&&t.defaultProps){e=je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function df(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hc={isMounted:function(t){return(t=t._reactInternals)?fi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mt(),s=us(t),i=wr(r,s);i.payload=e,n!=null&&(i.callback=n),e=as(t,i,s),e!==null&&(Nn(e,t,s,r),Cu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mt(),s=us(t),i=wr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=as(t,i,s),e!==null&&(Nn(e,t,s,r),Cu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mt(),r=us(t),s=wr(n,r);s.tag=2,e!=null&&(s.callback=e),e=as(t,s,r),e!==null&&(Nn(e,t,r,n),Cu(e,t,r))}};function Ly(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ba(n,r)||!Ba(s,i):!0}function nE(t,e,n){var r=!1,s=vs,i=e.contextType;return typeof i=="object"&&i!==null?i=vn(i):(s=Wt(e)?ri:bt.current,r=e.contextTypes,i=(r=r!=null)?fo(t,s):vs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Fy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hc.enqueueReplaceState(e,e.state,null)}function hf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},jp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=vn(i):(i=Wt(e)?ri:bt.current,s.context=fo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(df(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Hc.enqueueReplaceState(s,s.state,null),nc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function yo(t,e){try{var n="",r=e;do n+=AC(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function uh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ff(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ZA=typeof WeakMap=="function"?WeakMap:Map;function rE(t,e,n){n=wr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ac||(ac=!0,Tf=r),ff(t,e)},n}function sE(t,e,n){n=wr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ff(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ff(t,e),typeof r!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function jy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ZA;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=fI.bind(null,t,e,n),e.then(t,t))}function Uy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function By(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wr(-1,1),e.tag=2,as(n,e,1))),n.lanes|=1),t)}var eI=Pr.ReactCurrentOwner,Ht=!1;function Dt(t,e,n,r){e.child=t===null?D0(e,null,n,r):mo(e,t.child,n,r)}function zy(t,e,n,r,s){n=n.render;var i=e.ref;return Ki(e,s),r=Hp(t,e,n,r,i,s),n=qp(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Sr(t,e,s)):(Me&&n&&Np(e),e.flags|=1,Dt(t,e,r,s),e.child)}function $y(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!tm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,iE(t,e,i,r,s)):(t=ku(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ba,n(o,r)&&t.ref===e.ref)return Sr(t,e,s)}return e.flags|=1,t=cs(i,r),t.ref=e.ref,t.return=e,e.child=t}function iE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ba(i,r)&&t.ref===e.ref)if(Ht=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ht=!0);else return e.lanes=t.lanes,Sr(t,e,s)}return pf(t,e,n,r,s)}function oE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(Hi,Jt),Jt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,be(Hi,Jt),Jt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,be(Hi,Jt),Jt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,be(Hi,Jt),Jt|=r;return Dt(t,e,s,n),e.child}function aE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function pf(t,e,n,r,s){var i=Wt(n)?ri:bt.current;return i=fo(e,i),Ki(e,s),n=Hp(t,e,n,r,i,s),r=qp(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Sr(t,e,s)):(Me&&r&&Np(e),e.flags|=1,Dt(t,e,n,s),e.child)}function Hy(t,e,n,r,s){if(Wt(n)){var i=!0;Xu(e)}else i=!1;if(Ki(e,s),e.stateNode===null)Ru(t,e),nE(e,n,r),hf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=vn(c):(c=Wt(n)?ri:bt.current,c=fo(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&Fy(e,o,r,c),Hr=!1;var m=e.memoizedState;o.state=m,nc(e,r,o,s),u=e.memoizedState,l!==r||m!==u||qt.current||Hr?(typeof d=="function"&&(df(e,n,d,r),u=e.memoizedState),(l=Hr||Ly(e,n,l,r,m,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,V0(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Sn(e.type,l),o.props=c,f=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=vn(u):(u=Wt(n)?ri:bt.current,u=fo(e,u));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==u)&&Fy(e,o,r,u),Hr=!1,m=e.memoizedState,o.state=m,nc(e,r,o,s);var T=e.memoizedState;l!==f||m!==T||qt.current||Hr?(typeof p=="function"&&(df(e,n,p,r),T=e.memoizedState),(c=Hr||Ly(e,n,c,r,m,T,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return mf(t,e,n,r,i,s)}function mf(t,e,n,r,s,i){aE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&by(e,n,!1),Sr(t,e,i);r=e.stateNode,eI.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=mo(e,t.child,null,i),e.child=mo(e,null,l,i)):Dt(t,e,l,i),e.memoizedState=r.state,s&&by(e,n,!0),e.child}function lE(t){var e=t.stateNode;e.pendingContext?Ry(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ry(t,e.context,!1),Up(t,e.containerInfo)}function qy(t,e,n,r,s){return po(),Op(s),e.flags|=256,Dt(t,e,n,r),e.child}var gf={dehydrated:null,treeContext:null,retryLane:0};function yf(t){return{baseLanes:t,cachePool:null,transitions:null}}function uE(t,e,n){var r=e.pendingProps,s=Le.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),be(Le,s&1),t===null)return uf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Qc(o,r,0,null),t=ti(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=yf(n),e.memoizedState=gf,t):Gp(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return tI(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=cs(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=cs(l,i):(i=ti(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?yf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=gf,r}return i=t.child,t=i.sibling,r=cs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Gp(t,e){return e=Qc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ru(t,e,n,r){return r!==null&&Op(r),mo(e,t.child,null,n),t=Gp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tI(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=uh(Error($(422))),ru(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Qc({mode:"visible",children:r.children},s,0,null),i=ti(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&mo(e,t.child,null,o),e.child.memoizedState=yf(o),e.memoizedState=gf,i);if(!(e.mode&1))return ru(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error($(419)),r=uh(i,r,void 0),ru(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ht||l){if(r=ut,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Tr(t,s),Nn(r,t,s,-1))}return em(),r=uh(Error($(421))),ru(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=pI.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,en=os(s.nextSibling),nn=e,Me=!0,bn=null,t!==null&&(hn[fn++]=yr,hn[fn++]=vr,hn[fn++]=si,yr=t.id,vr=t.overflow,si=e),e=Gp(e,r.children),e.flags|=4096,e)}function Wy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),cf(t.return,e,n)}function ch(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function cE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Dt(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wy(t,n,e);else if(t.tag===19)Wy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(be(Le,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&rc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ch(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&rc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ch(e,!0,n,null,i);break;case"together":ch(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ru(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Sr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),oi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=cs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=cs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nI(t,e,n){switch(e.tag){case 3:lE(e),po();break;case 5:M0(e);break;case 1:Wt(e.type)&&Xu(e);break;case 4:Up(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;be(ec,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(be(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?uE(t,e,n):(be(Le,Le.current&1),t=Sr(t,e,n),t!==null?t.sibling:null);be(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),be(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,oE(t,e,n)}return Sr(t,e,n)}var dE,vf,hE,fE;dE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vf=function(){};hE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ws(Xn.current);var i=null;switch(n){case"input":s=jh(t,s),r=jh(t,r),i=[];break;case"select":s=je({},s,{value:void 0}),r=je({},r,{value:void 0}),i=[];break;case"textarea":s=zh(t,s),r=zh(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ku)}Hh(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Oa.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Oa.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ne("scroll",t),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};fE=function(t,e,n,r){n!==r&&(e.flags|=4)};function ia(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rI(t,e,n){var r=e.pendingProps;switch(Dp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(e),null;case 1:return Wt(e.type)&&Yu(),Tt(e),null;case 3:return r=e.stateNode,go(),Oe(qt),Oe(bt),zp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bn!==null&&(Af(bn),bn=null))),vf(t,e),Tt(e),null;case 5:Bp(e);var s=Ws(Wa.current);if(n=e.type,t!==null&&e.stateNode!=null)hE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return Tt(e),null}if(t=Ws(Xn.current),tu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Qn]=e,r[Ha]=i,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(s=0;s<pa.length;s++)Ne(pa[s],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":ty(r,i),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ne("invalid",r);break;case"textarea":ry(r,i),Ne("invalid",r)}Hh(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&eu(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&eu(r.textContent,l,t),s=["children",""+l]):Oa.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":Wl(r),ny(r,i,!0);break;case"textarea":Wl(r),sy(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ku)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=B_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Qn]=e,t[Ha]=r,dE(t,e,!1,!1),e.stateNode=t;e:{switch(o=qh(n,r),n){case"dialog":Ne("cancel",t),Ne("close",t),s=r;break;case"iframe":case"object":case"embed":Ne("load",t),s=r;break;case"video":case"audio":for(s=0;s<pa.length;s++)Ne(pa[s],t);s=r;break;case"source":Ne("error",t),s=r;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),s=r;break;case"details":Ne("toggle",t),s=r;break;case"input":ty(t,r),s=jh(t,r),Ne("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=je({},r,{value:void 0}),Ne("invalid",t);break;case"textarea":ry(t,r),s=zh(t,r),Ne("invalid",t);break;default:s=r}Hh(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?H_(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&z_(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Va(t,u):typeof u=="number"&&Va(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Oa.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Ne("scroll",t):u!=null&&vp(t,i,u,o))}switch(n){case"input":Wl(t),ny(t,r,!1);break;case"textarea":Wl(t),sy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ys(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?qi(t,!!r.multiple,i,!1):r.defaultValue!=null&&qi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ku)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tt(e),null;case 6:if(t&&e.stateNode!=null)fE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=Ws(Wa.current),Ws(Xn.current),tu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Qn]=e,(i=r.nodeValue!==n)&&(t=nn,t!==null))switch(t.tag){case 3:eu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&eu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qn]=e,e.stateNode=r}return Tt(e),null;case 13:if(Oe(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&en!==null&&e.mode&1&&!(e.flags&128))k0(),po(),e.flags|=98560,i=!1;else if(i=tu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error($(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[Qn]=e}else po(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tt(e),i=!1}else bn!==null&&(Af(bn),bn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?nt===0&&(nt=3):em())),e.updateQueue!==null&&(e.flags|=4),Tt(e),null);case 4:return go(),vf(t,e),t===null&&za(e.stateNode.containerInfo),Tt(e),null;case 10:return Lp(e.type._context),Tt(e),null;case 17:return Wt(e.type)&&Yu(),Tt(e),null;case 19:if(Oe(Le),i=e.memoizedState,i===null)return Tt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ia(i,!1);else{if(nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=rc(t),o!==null){for(e.flags|=128,ia(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return be(Le,Le.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ge()>vo&&(e.flags|=128,r=!0,ia(i,!1),e.lanes=4194304)}else{if(!r)if(t=rc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ia(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Me)return Tt(e),null}else 2*Ge()-i.renderingStartTime>vo&&n!==1073741824&&(e.flags|=128,r=!0,ia(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ge(),e.sibling=null,n=Le.current,be(Le,r?n&1|2:n&1),e):(Tt(e),null);case 22:case 23:return Zp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Jt&1073741824&&(Tt(e),e.subtreeFlags&6&&(e.flags|=8192)):Tt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function sI(t,e){switch(Dp(e),e.tag){case 1:return Wt(e.type)&&Yu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return go(),Oe(qt),Oe(bt),zp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Bp(e),null;case 13:if(Oe(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));po()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Oe(Le),null;case 4:return go(),null;case 10:return Lp(e.type._context),null;case 22:case 23:return Zp(),null;case 24:return null;default:return null}}var su=!1,It=!1,iI=typeof WeakSet=="function"?WeakSet:Set,Y=null;function $i(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(t,e,r)}else n.current=null}function wf(t,e,n){try{n()}catch(r){He(t,e,r)}}var Qy=!1;function oI(t,e){if(tf=Wu,t=v0(),kp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,f=t,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===t)break t;if(m===n&&++c===s&&(l=o),m===i&&++d===r&&(u=o),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(nf={focusedElem:t,selectionRange:n},Wu=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var w=T.memoizedProps,E=T.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:Sn(e.type,w),E);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(k){He(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return T=Qy,Qy=!1,T}function Sa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&wf(e,n,i)}s=s.next}while(s!==r)}}function qc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function _f(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pE(t){var e=t.alternate;e!==null&&(t.alternate=null,pE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qn],delete e[Ha],delete e[of],delete e[zA],delete e[$A])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mE(t){return t.tag===5||t.tag===3||t.tag===4}function Gy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ef(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ku));else if(r!==4&&(t=t.child,t!==null))for(Ef(t,e,n),t=t.sibling;t!==null;)Ef(t,e,n),t=t.sibling}function xf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(xf(t,e,n),t=t.sibling;t!==null;)xf(t,e,n),t=t.sibling}var ft=null,Rn=!1;function jr(t,e,n){for(n=n.child;n!==null;)gE(t,e,n),n=n.sibling}function gE(t,e,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Lc,n)}catch{}switch(n.tag){case 5:It||$i(n,e);case 6:var r=ft,s=Rn;ft=null,jr(t,e,n),ft=r,Rn=s,ft!==null&&(Rn?(t=ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ft.removeChild(n.stateNode));break;case 18:ft!==null&&(Rn?(t=ft,n=n.stateNode,t.nodeType===8?rh(t.parentNode,n):t.nodeType===1&&rh(t,n),ja(t)):rh(ft,n.stateNode));break;case 4:r=ft,s=Rn,ft=n.stateNode.containerInfo,Rn=!0,jr(t,e,n),ft=r,Rn=s;break;case 0:case 11:case 14:case 15:if(!It&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&wf(n,e,o),s=s.next}while(s!==r)}jr(t,e,n);break;case 1:if(!It&&($i(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){He(n,e,l)}jr(t,e,n);break;case 21:jr(t,e,n);break;case 22:n.mode&1?(It=(r=It)||n.memoizedState!==null,jr(t,e,n),It=r):jr(t,e,n);break;default:jr(t,e,n)}}function Ky(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new iI),e.forEach(function(r){var s=mI.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ft=l.stateNode,Rn=!1;break e;case 3:ft=l.stateNode.containerInfo,Rn=!0;break e;case 4:ft=l.stateNode.containerInfo,Rn=!0;break e}l=l.return}if(ft===null)throw Error($(160));gE(i,o,s),ft=null,Rn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){He(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yE(e,t),e=e.sibling}function yE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(e,t),Bn(t),r&4){try{Sa(3,t,t.return),qc(3,t)}catch(w){He(t,t.return,w)}try{Sa(5,t,t.return)}catch(w){He(t,t.return,w)}}break;case 1:xn(e,t),Bn(t),r&512&&n!==null&&$i(n,n.return);break;case 5:if(xn(e,t),Bn(t),r&512&&n!==null&&$i(n,n.return),t.flags&32){var s=t.stateNode;try{Va(s,"")}catch(w){He(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&j_(s,i),qh(l,o);var c=qh(l,i);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?H_(s,f):d==="dangerouslySetInnerHTML"?z_(s,f):d==="children"?Va(s,f):vp(s,d,f,c)}switch(l){case"input":Uh(s,i);break;case"textarea":U_(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?qi(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?qi(s,!!i.multiple,i.defaultValue,!0):qi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ha]=i}catch(w){He(t,t.return,w)}}break;case 6:if(xn(e,t),Bn(t),r&4){if(t.stateNode===null)throw Error($(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){He(t,t.return,w)}}break;case 3:if(xn(e,t),Bn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ja(e.containerInfo)}catch(w){He(t,t.return,w)}break;case 4:xn(e,t),Bn(t);break;case 13:xn(e,t),Bn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Xp=Ge())),r&4&&Ky(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(It=(c=It)||d,xn(e,t),It=c):xn(e,t),Bn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(f=Y=d;Y!==null;){switch(m=Y,p=m.child,m.tag){case 0:case 11:case 14:case 15:Sa(4,m,m.return);break;case 1:$i(m,m.return);var T=m.stateNode;if(typeof T.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(w){He(r,n,w)}}break;case 5:$i(m,m.return);break;case 22:if(m.memoizedState!==null){Xy(f);continue}}p!==null?(p.return=m,Y=p):Xy(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=$_("display",o))}catch(w){He(t,t.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(w){He(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xn(e,t),Bn(t),r&4&&Ky(t);break;case 21:break;default:xn(e,t),Bn(t)}}function Bn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mE(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Va(s,""),r.flags&=-33);var i=Gy(t);xf(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Gy(t);Ef(t,l,o);break;default:throw Error($(161))}}catch(u){He(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function aI(t,e,n){Y=t,vE(t)}function vE(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var s=Y,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||su;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||It;l=su;var c=It;if(su=o,(It=u)&&!c)for(Y=s;Y!==null;)o=Y,u=o.child,o.tag===22&&o.memoizedState!==null?Jy(s):u!==null?(u.return=o,Y=u):Jy(s);for(;i!==null;)Y=i,vE(i),i=i.sibling;Y=s,su=l,It=c}Yy(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Y=i):Yy(t)}}function Yy(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:It||qc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!It)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Sn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Oy(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Oy(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ja(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}It||e.flags&512&&_f(e)}catch(m){He(e,e.return,m)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Xy(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Jy(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qc(4,e)}catch(u){He(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){He(e,s,u)}}var i=e.return;try{_f(e)}catch(u){He(e,i,u)}break;case 5:var o=e.return;try{_f(e)}catch(u){He(e,o,u)}}}catch(u){He(e,e.return,u)}if(e===t){Y=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Y=l;break}Y=e.return}}var lI=Math.ceil,oc=Pr.ReactCurrentDispatcher,Kp=Pr.ReactCurrentOwner,yn=Pr.ReactCurrentBatchConfig,ve=0,ut=null,Xe=null,gt=0,Jt=0,Hi=Ps(0),nt=0,Ya=null,oi=0,Wc=0,Yp=0,Ca=null,$t=null,Xp=0,vo=1/0,pr=null,ac=!1,Tf=null,ls=null,iu=!1,es=null,lc=0,Aa=0,Sf=null,bu=-1,Pu=0;function Mt(){return ve&6?Ge():bu!==-1?bu:bu=Ge()}function us(t){return t.mode&1?ve&2&&gt!==0?gt&-gt:qA.transition!==null?(Pu===0&&(Pu=n0()),Pu):(t=Te,t!==0||(t=window.event,t=t===void 0?16:u0(t.type)),t):1}function Nn(t,e,n,r){if(50<Aa)throw Aa=0,Sf=null,Error($(185));fl(t,n,r),(!(ve&2)||t!==ut)&&(t===ut&&(!(ve&2)&&(Wc|=n),nt===4&&Wr(t,gt)),Qt(t,r),n===1&&ve===0&&!(e.mode&1)&&(vo=Ge()+500,zc&&ks()))}function Qt(t,e){var n=t.callbackNode;qC(t,e);var r=qu(t,t===ut?gt:0);if(r===0)n!==null&&ay(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ay(n),e===1)t.tag===0?HA(Zy.bind(null,t)):R0(Zy.bind(null,t)),UA(function(){!(ve&6)&&ks()}),n=null;else{switch(r0(r)){case 1:n=Tp;break;case 4:n=e0;break;case 16:n=Hu;break;case 536870912:n=t0;break;default:n=Hu}n=AE(n,wE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wE(t,e){if(bu=-1,Pu=0,ve&6)throw Error($(327));var n=t.callbackNode;if(Yi()&&t.callbackNode!==n)return null;var r=qu(t,t===ut?gt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=uc(t,r);else{e=r;var s=ve;ve|=2;var i=EE();(ut!==t||gt!==e)&&(pr=null,vo=Ge()+500,ei(t,e));do try{dI();break}catch(l){_E(t,l)}while(!0);Mp(),oc.current=i,ve=s,Xe!==null?e=0:(ut=null,gt=0,e=nt)}if(e!==0){if(e===2&&(s=Yh(t),s!==0&&(r=s,e=Cf(t,s))),e===1)throw n=Ya,ei(t,0),Wr(t,r),Qt(t,Ge()),n;if(e===6)Wr(t,r);else{if(s=t.current.alternate,!(r&30)&&!uI(s)&&(e=uc(t,r),e===2&&(i=Yh(t),i!==0&&(r=i,e=Cf(t,i))),e===1))throw n=Ya,ei(t,0),Wr(t,r),Qt(t,Ge()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:zs(t,$t,pr);break;case 3:if(Wr(t,r),(r&130023424)===r&&(e=Xp+500-Ge(),10<e)){if(qu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Mt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=sf(zs.bind(null,t,$t,pr),e);break}zs(t,$t,pr);break;case 4:if(Wr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-kn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lI(r/1960))-r,10<r){t.timeoutHandle=sf(zs.bind(null,t,$t,pr),r);break}zs(t,$t,pr);break;case 5:zs(t,$t,pr);break;default:throw Error($(329))}}}return Qt(t,Ge()),t.callbackNode===n?wE.bind(null,t):null}function Cf(t,e){var n=Ca;return t.current.memoizedState.isDehydrated&&(ei(t,e).flags|=256),t=uc(t,e),t!==2&&(e=$t,$t=n,e!==null&&Af(e)),t}function Af(t){$t===null?$t=t:$t.push.apply($t,t)}function uI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Dn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wr(t,e){for(e&=~Yp,e&=~Wc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kn(e),r=1<<n;t[n]=-1,e&=~r}}function Zy(t){if(ve&6)throw Error($(327));Yi();var e=qu(t,0);if(!(e&1))return Qt(t,Ge()),null;var n=uc(t,e);if(t.tag!==0&&n===2){var r=Yh(t);r!==0&&(e=r,n=Cf(t,r))}if(n===1)throw n=Ya,ei(t,0),Wr(t,e),Qt(t,Ge()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zs(t,$t,pr),Qt(t,Ge()),null}function Jp(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(vo=Ge()+500,zc&&ks())}}function ai(t){es!==null&&es.tag===0&&!(ve&6)&&Yi();var e=ve;ve|=1;var n=yn.transition,r=Te;try{if(yn.transition=null,Te=1,t)return t()}finally{Te=r,yn.transition=n,ve=e,!(ve&6)&&ks()}}function Zp(){Jt=Hi.current,Oe(Hi)}function ei(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,jA(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(Dp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yu();break;case 3:go(),Oe(qt),Oe(bt),zp();break;case 5:Bp(r);break;case 4:go();break;case 13:Oe(Le);break;case 19:Oe(Le);break;case 10:Lp(r.type._context);break;case 22:case 23:Zp()}n=n.return}if(ut=t,Xe=t=cs(t.current,null),gt=Jt=e,nt=0,Ya=null,Yp=Wc=oi=0,$t=Ca=null,qs!==null){for(e=0;e<qs.length;e++)if(n=qs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}qs=null}return t}function _E(t,e){do{var n=Xe;try{if(Mp(),Au.current=ic,sc){for(var r=Fe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}sc=!1}if(ii=0,at=et=Fe=null,Ta=!1,Qa=0,Kp.current=null,n===null||n.return===null){nt=1,Ya=e,Xe=null;break}e:{var i=t,o=n.return,l=n,u=e;if(e=gt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Uy(o);if(p!==null){p.flags&=-257,By(p,o,l,i,e),p.mode&1&&jy(i,c,e),e=p,u=c;var T=e.updateQueue;if(T===null){var w=new Set;w.add(u),e.updateQueue=w}else T.add(u);break e}else{if(!(e&1)){jy(i,c,e),em();break e}u=Error($(426))}}else if(Me&&l.mode&1){var E=Uy(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),By(E,o,l,i,e),Op(yo(u,l));break e}}i=u=yo(u,l),nt!==4&&(nt=2),Ca===null?Ca=[i]:Ca.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=rE(i,u,e);Dy(i,v);break e;case 1:l=u;var y=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ls===null||!ls.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=sE(i,l,e);Dy(i,k);break e}}i=i.return}while(i!==null)}TE(n)}catch(O){e=O,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function EE(){var t=oc.current;return oc.current=ic,t===null?ic:t}function em(){(nt===0||nt===3||nt===2)&&(nt=4),ut===null||!(oi&268435455)&&!(Wc&268435455)||Wr(ut,gt)}function uc(t,e){var n=ve;ve|=2;var r=EE();(ut!==t||gt!==e)&&(pr=null,ei(t,e));do try{cI();break}catch(s){_E(t,s)}while(!0);if(Mp(),ve=n,oc.current=r,Xe!==null)throw Error($(261));return ut=null,gt=0,nt}function cI(){for(;Xe!==null;)xE(Xe)}function dI(){for(;Xe!==null&&!MC();)xE(Xe)}function xE(t){var e=CE(t.alternate,t,Jt);t.memoizedProps=t.pendingProps,e===null?TE(t):Xe=e,Kp.current=null}function TE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=sI(n,e),n!==null){n.flags&=32767,Xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nt=6,Xe=null;return}}else if(n=rI(n,e,Jt),n!==null){Xe=n;return}if(e=e.sibling,e!==null){Xe=e;return}Xe=e=t}while(e!==null);nt===0&&(nt=5)}function zs(t,e,n){var r=Te,s=yn.transition;try{yn.transition=null,Te=1,hI(t,e,n,r)}finally{yn.transition=s,Te=r}return null}function hI(t,e,n,r){do Yi();while(es!==null);if(ve&6)throw Error($(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(WC(t,i),t===ut&&(Xe=ut=null,gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||iu||(iu=!0,AE(Hu,function(){return Yi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=yn.transition,yn.transition=null;var o=Te;Te=1;var l=ve;ve|=4,Kp.current=null,oI(t,n),yE(n,t),NA(nf),Wu=!!tf,nf=tf=null,t.current=n,aI(n),LC(),ve=l,Te=o,yn.transition=i}else t.current=n;if(iu&&(iu=!1,es=t,lc=s),i=t.pendingLanes,i===0&&(ls=null),UC(n.stateNode),Qt(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ac)throw ac=!1,t=Tf,Tf=null,t;return lc&1&&t.tag!==0&&Yi(),i=t.pendingLanes,i&1?t===Sf?Aa++:(Aa=0,Sf=t):Aa=0,ks(),null}function Yi(){if(es!==null){var t=r0(lc),e=yn.transition,n=Te;try{if(yn.transition=null,Te=16>t?16:t,es===null)var r=!1;else{if(t=es,es=null,lc=0,ve&6)throw Error($(331));var s=ve;for(ve|=4,Y=t.current;Y!==null;){var i=Y,o=i.child;if(Y.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(Y=c;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:Sa(8,d,i)}var f=d.child;if(f!==null)f.return=d,Y=f;else for(;Y!==null;){d=Y;var m=d.sibling,p=d.return;if(pE(d),d===c){Y=null;break}if(m!==null){m.return=p,Y=m;break}Y=p}}}var T=i.alternate;if(T!==null){var w=T.child;if(w!==null){T.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}Y=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Y=o;else e:for(;Y!==null;){if(i=Y,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Sa(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Y=v;break e}Y=i.return}}var y=t.current;for(Y=y;Y!==null;){o=Y;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Y=_;else e:for(o=y;Y!==null;){if(l=Y,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:qc(9,l)}}catch(O){He(l,l.return,O)}if(l===o){Y=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,Y=k;break e}Y=l.return}}if(ve=s,ks(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Lc,t)}catch{}r=!0}return r}finally{Te=n,yn.transition=e}}return!1}function ev(t,e,n){e=yo(n,e),e=rE(t,e,1),t=as(t,e,1),e=Mt(),t!==null&&(fl(t,1,e),Qt(t,e))}function He(t,e,n){if(t.tag===3)ev(t,t,n);else for(;e!==null;){if(e.tag===3){ev(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ls===null||!ls.has(r))){t=yo(n,t),t=sE(e,t,1),e=as(e,t,1),t=Mt(),e!==null&&(fl(e,1,t),Qt(e,t));break}}e=e.return}}function fI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mt(),t.pingedLanes|=t.suspendedLanes&n,ut===t&&(gt&n)===n&&(nt===4||nt===3&&(gt&130023424)===gt&&500>Ge()-Xp?ei(t,0):Yp|=n),Qt(t,e)}function SE(t,e){e===0&&(t.mode&1?(e=Kl,Kl<<=1,!(Kl&130023424)&&(Kl=4194304)):e=1);var n=Mt();t=Tr(t,e),t!==null&&(fl(t,e,n),Qt(t,n))}function pI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),SE(t,n)}function mI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),SE(t,n)}var CE;CE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qt.current)Ht=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ht=!1,nI(t,e,n);Ht=!!(t.flags&131072)}else Ht=!1,Me&&e.flags&1048576&&b0(e,Zu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ru(t,e),t=e.pendingProps;var s=fo(e,bt.current);Ki(e,n),s=Hp(null,e,r,t,s,n);var i=qp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wt(r)?(i=!0,Xu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,jp(e),s.updater=Hc,e.stateNode=s,s._reactInternals=e,hf(e,r,t,n),e=mf(null,e,r,!0,i,n)):(e.tag=0,Me&&i&&Np(e),Dt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ru(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=yI(r),t=Sn(r,t),s){case 0:e=pf(null,e,r,t,n);break e;case 1:e=Hy(null,e,r,t,n);break e;case 11:e=zy(null,e,r,t,n);break e;case 14:e=$y(null,e,r,Sn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sn(r,s),pf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sn(r,s),Hy(t,e,r,s,n);case 3:e:{if(lE(e),t===null)throw Error($(387));r=e.pendingProps,i=e.memoizedState,s=i.element,V0(t,e),nc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=yo(Error($(423)),e),e=qy(t,e,r,n,s);break e}else if(r!==s){s=yo(Error($(424)),e),e=qy(t,e,r,n,s);break e}else for(en=os(e.stateNode.containerInfo.firstChild),nn=e,Me=!0,bn=null,n=D0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(po(),r===s){e=Sr(t,e,n);break e}Dt(t,e,r,n)}e=e.child}return e;case 5:return M0(e),t===null&&uf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,rf(r,s)?o=null:i!==null&&rf(r,i)&&(e.flags|=32),aE(t,e),Dt(t,e,o,n),e.child;case 6:return t===null&&uf(e),null;case 13:return uE(t,e,n);case 4:return Up(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=mo(e,null,r,n):Dt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sn(r,s),zy(t,e,r,s,n);case 7:return Dt(t,e,e.pendingProps,n),e.child;case 8:return Dt(t,e,e.pendingProps.children,n),e.child;case 12:return Dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,be(ec,r._currentValue),r._currentValue=o,i!==null)if(Dn(i.value,o)){if(i.children===s.children&&!qt.current){e=Sr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=wr(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),cf(i.return,n,e),l.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),cf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Dt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ki(e,n),s=vn(s),r=r(s),e.flags|=1,Dt(t,e,r,n),e.child;case 14:return r=e.type,s=Sn(r,e.pendingProps),s=Sn(r.type,s),$y(t,e,r,s,n);case 15:return iE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sn(r,s),Ru(t,e),e.tag=1,Wt(r)?(t=!0,Xu(e)):t=!1,Ki(e,n),nE(e,r,s),hf(e,r,s,n),mf(null,e,r,!0,t,n);case 19:return cE(t,e,n);case 22:return oE(t,e,n)}throw Error($(156,e.tag))};function AE(t,e){return Z_(t,e)}function gI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,e,n,r){return new gI(t,e,n,r)}function tm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yI(t){if(typeof t=="function")return tm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_p)return 11;if(t===Ep)return 14}return 2}function cs(t,e){var n=t.alternate;return n===null?(n=gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ku(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")tm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Oi:return ti(n.children,s,i,e);case wp:o=8,s|=8;break;case Vh:return t=gn(12,n,e,s|2),t.elementType=Vh,t.lanes=i,t;case Mh:return t=gn(13,n,e,s),t.elementType=Mh,t.lanes=i,t;case Lh:return t=gn(19,n,e,s),t.elementType=Lh,t.lanes=i,t;case M_:return Qc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case O_:o=10;break e;case V_:o=9;break e;case _p:o=11;break e;case Ep:o=14;break e;case $r:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=gn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ti(t,e,n,r){return t=gn(7,t,r,e),t.lanes=n,t}function Qc(t,e,n,r){return t=gn(22,t,r,e),t.elementType=M_,t.lanes=n,t.stateNode={isHidden:!1},t}function dh(t,e,n){return t=gn(6,t,null,e),t.lanes=n,t}function hh(t,e,n){return e=gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vI(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wd(0),this.expirationTimes=Wd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function nm(t,e,n,r,s,i,o,l,u){return t=new vI(t,e,n,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=gn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jp(i),t}function wI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Di,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function IE(t){if(!t)return vs;t=t._reactInternals;e:{if(fi(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(Wt(n))return I0(t,n,e)}return e}function RE(t,e,n,r,s,i,o,l,u){return t=nm(n,r,!0,t,s,i,o,l,u),t.context=IE(null),n=t.current,r=Mt(),s=us(n),i=wr(r,s),i.callback=e??null,as(n,i,s),t.current.lanes=s,fl(t,s,r),Qt(t,r),t}function Gc(t,e,n,r){var s=e.current,i=Mt(),o=us(s);return n=IE(n),e.context===null?e.context=n:e.pendingContext=n,e=wr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=as(s,e,o),t!==null&&(Nn(t,s,o,i),Cu(t,s,o)),o}function cc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function rm(t,e){tv(t,e),(t=t.alternate)&&tv(t,e)}function _I(){return null}var bE=typeof reportError=="function"?reportError:function(t){console.error(t)};function sm(t){this._internalRoot=t}Kc.prototype.render=sm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Gc(t,e,null,null)};Kc.prototype.unmount=sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ai(function(){Gc(null,t,null,null)}),e[xr]=null}};function Kc(t){this._internalRoot=t}Kc.prototype.unstable_scheduleHydration=function(t){if(t){var e=o0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qr.length&&e!==0&&e<qr[n].priority;n++);qr.splice(n,0,t),n===0&&l0(t)}};function im(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function nv(){}function EI(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=cc(o);i.call(c)}}var o=RE(e,r,t,0,null,!1,!1,"",nv);return t._reactRootContainer=o,t[xr]=o.current,za(t.nodeType===8?t.parentNode:t),ai(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=cc(u);l.call(c)}}var u=nm(t,0,!1,null,null,!1,!1,"",nv);return t._reactRootContainer=u,t[xr]=u.current,za(t.nodeType===8?t.parentNode:t),ai(function(){Gc(e,u,n,r)}),u}function Xc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=cc(o);l.call(u)}}Gc(e,o,t,s)}else o=EI(n,e,t,s,r);return cc(o)}s0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=fa(e.pendingLanes);n!==0&&(Sp(e,n|1),Qt(e,Ge()),!(ve&6)&&(vo=Ge()+500,ks()))}break;case 13:ai(function(){var r=Tr(t,1);if(r!==null){var s=Mt();Nn(r,t,1,s)}}),rm(t,1)}};Cp=function(t){if(t.tag===13){var e=Tr(t,134217728);if(e!==null){var n=Mt();Nn(e,t,134217728,n)}rm(t,134217728)}};i0=function(t){if(t.tag===13){var e=us(t),n=Tr(t,e);if(n!==null){var r=Mt();Nn(n,t,e,r)}rm(t,e)}};o0=function(){return Te};a0=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};Qh=function(t,e,n){switch(e){case"input":if(Uh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Bc(r);if(!s)throw Error($(90));F_(r),Uh(r,s)}}}break;case"textarea":U_(t,n);break;case"select":e=n.value,e!=null&&qi(t,!!n.multiple,e,!1)}};Q_=Jp;G_=ai;var xI={usingClientEntryPoint:!1,Events:[ml,Fi,Bc,q_,W_,Jp]},oa={findFiberByHostInstance:Hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TI={bundleType:oa.bundleType,version:oa.version,rendererPackageName:oa.rendererPackageName,rendererConfig:oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=X_(t),t===null?null:t.stateNode},findFiberByHostInstance:oa.findFiberByHostInstance||_I,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{Lc=ou.inject(TI),Yn=ou}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xI;on.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!im(e))throw Error($(200));return wI(t,e,null,n)};on.createRoot=function(t,e){if(!im(t))throw Error($(299));var n=!1,r="",s=bE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=nm(t,1,!1,null,null,n,!1,r,s),t[xr]=e.current,za(t.nodeType===8?t.parentNode:t),new sm(e)};on.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=X_(e),t=t===null?null:t.stateNode,t};on.flushSync=function(t){return ai(t)};on.hydrate=function(t,e,n){if(!Yc(e))throw Error($(200));return Xc(null,t,e,!0,n)};on.hydrateRoot=function(t,e,n){if(!im(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=bE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=RE(e,null,t,1,n??null,s,!1,i,o),t[xr]=e.current,za(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Kc(e)};on.render=function(t,e,n){if(!Yc(e))throw Error($(200));return Xc(null,t,e,!1,n)};on.unmountComponentAtNode=function(t){if(!Yc(t))throw Error($(40));return t._reactRootContainer?(ai(function(){Xc(null,null,t,!1,function(){t._reactRootContainer=null,t[xr]=null})}),!0):!1};on.unstable_batchedUpdates=Jp;on.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yc(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Xc(t,e,n,!1,r)};on.version="18.3.1-next-f1338f8080-20240426";function PE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PE)}catch(t){console.error(t)}}PE(),P_.exports=on;var yl=P_.exports;const kE=y_(yl);var NE,rv=yl;NE=rv.createRoot,rv.hydrateRoot;const SI=1,CI=1e6;let fh=0;function AI(){return fh=(fh+1)%Number.MAX_SAFE_INTEGER,fh.toString()}const ph=new Map,sv=t=>{if(ph.has(t))return;const e=setTimeout(()=>{ph.delete(t),Ia({type:"REMOVE_TOAST",toastId:t})},CI);ph.set(t,e)},II=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,SI)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?sv(n):t.toasts.forEach(r=>{sv(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Nu=[];let Du={toasts:[]};function Ia(t){Du=II(Du,t),Nu.forEach(e=>{e(Du)})}function Ye({...t}){const e=AI(),n=s=>Ia({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Ia({type:"DISMISS_TOAST",toastId:e});return Ia({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function RI(){const[t,e]=b.useState(Du);return b.useEffect(()=>(Nu.push(e),()=>{const n=Nu.indexOf(e);n>-1&&Nu.splice(n,1)}),[t]),{...t,toast:Ye,dismiss:n=>Ia({type:"DISMISS_TOAST",toastId:n})}}function tt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function iv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function DE(...t){return e=>{let n=!1;const r=t.map(s=>{const i=iv(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():iv(t[s],null)}}}}function On(...t){return b.useCallback(DE(...t),t)}function Jc(t,e=[]){let n=[];function r(i,o){const l=b.createContext(o),u=n.length;n=[...n,o];const c=f=>{var v;const{scope:m,children:p,...T}=f,w=((v=m==null?void 0:m[t])==null?void 0:v[u])||l,E=b.useMemo(()=>T,Object.values(T));return C.jsx(w.Provider,{value:E,children:p})};c.displayName=i+"Provider";function d(f,m){var w;const p=((w=m==null?void 0:m[t])==null?void 0:w[u])||l,T=b.useContext(p);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>b.createContext(o));return function(l){const u=(l==null?void 0:l[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return s.scopeName=t,[r,bI(s,...e)]}function bI(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:u,scopeName:c})=>{const f=u(i)[`__scope${c}`];return{...l,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function dc(t){const e=kI(t),n=b.forwardRef((r,s)=>{const{children:i,...o}=r,l=b.Children.toArray(i),u=l.find(DI);if(u){const c=u.props.children,d=l.map(f=>f===u?b.Children.count(c)>1?b.Children.only(null):b.isValidElement(c)?c.props.children:null:f);return C.jsx(e,{...o,ref:s,children:b.isValidElement(c)?b.cloneElement(c,void 0,d):null})}return C.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var PI=dc("Slot");function kI(t){const e=b.forwardRef((n,r)=>{const{children:s,...i}=n;if(b.isValidElement(s)){const o=VI(s),l=OI(i,s.props);return s.type!==b.Fragment&&(l.ref=r?DE(r,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var OE=Symbol("radix.slottable");function NI(t){const e=({children:n})=>C.jsx(C.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=OE,e}function DI(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===OE}function OI(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const u=i(...l);return s(...l),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function VI(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function MI(t){const e=t+"CollectionProvider",[n,r]=Jc(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:E,children:v}=w,y=H.useRef(null),_=H.useRef(new Map).current;return C.jsx(s,{scope:E,itemMap:_,collectionRef:y,children:v})};o.displayName=e;const l=t+"CollectionSlot",u=dc(l),c=H.forwardRef((w,E)=>{const{scope:v,children:y}=w,_=i(l,v),k=On(E,_.collectionRef);return C.jsx(u,{ref:k,children:y})});c.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",m=dc(d),p=H.forwardRef((w,E)=>{const{scope:v,children:y,..._}=w,k=H.useRef(null),O=On(E,k),V=i(d,v);return H.useEffect(()=>(V.itemMap.set(k,{ref:k,..._}),()=>void V.itemMap.delete(k))),C.jsx(m,{[f]:"",ref:O,children:y})});p.displayName=d;function T(w){const E=i(t+"CollectionConsumer",w);return H.useCallback(()=>{const y=E.collectionRef.current;if(!y)return[];const _=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(E.itemMap.values()).sort((V,A)=>_.indexOf(V.ref.current)-_.indexOf(A.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},T,r]}var LI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Kt=LI.reduce((t,e)=>{const n=dc(`Primitive.${e}`),r=b.forwardRef((s,i)=>{const{asChild:o,...l}=s,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(u,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function VE(t,e){t&&yl.flushSync(()=>t.dispatchEvent(e))}function ws(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function FI(t,e=globalThis==null?void 0:globalThis.document){const n=ws(t);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var jI="DismissableLayer",If="dismissableLayer.update",UI="dismissableLayer.pointerDownOutside",BI="dismissableLayer.focusOutside",ov,ME=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),om=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=t,c=b.useContext(ME),[d,f]=b.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=b.useState({}),T=On(e,A=>f(A)),w=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=w.indexOf(E),y=d?w.indexOf(d):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,k=y>=v,O=$I(A=>{const x=A.target,I=[...c.branches].some(R=>R.contains(x));!k||I||(s==null||s(A),o==null||o(A),A.defaultPrevented||l==null||l())},m),V=HI(A=>{const x=A.target;[...c.branches].some(R=>R.contains(x))||(i==null||i(A),o==null||o(A),A.defaultPrevented||l==null||l())},m);return FI(A=>{y===c.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},m),b.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(ov=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),av(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=ov)}},[d,m,n,c]),b.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),av())},[d,c]),b.useEffect(()=>{const A=()=>p({});return document.addEventListener(If,A),()=>document.removeEventListener(If,A)},[]),C.jsx(Kt.div,{...u,ref:T,style:{pointerEvents:_?k?"auto":"none":void 0,...t.style},onFocusCapture:tt(t.onFocusCapture,V.onFocusCapture),onBlurCapture:tt(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:tt(t.onPointerDownCapture,O.onPointerDownCapture)})});om.displayName=jI;var zI="DismissableLayerBranch",LE=b.forwardRef((t,e)=>{const n=b.useContext(ME),r=b.useRef(null),s=On(e,r);return b.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),C.jsx(Kt.div,{...t,ref:s})});LE.displayName=zI;function $I(t,e=globalThis==null?void 0:globalThis.document){const n=ws(t),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let u=function(){FE(UI,n,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function HI(t,e=globalThis==null?void 0:globalThis.document){const n=ws(t),r=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!r.current&&FE(BI,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function av(){const t=new CustomEvent(If);document.dispatchEvent(t)}function FE(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?VE(s,i):s.dispatchEvent(i)}var qI=om,WI=LE,_s=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},QI="Portal",jE=b.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=b.useState(!1);_s(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?kE.createPortal(C.jsx(Kt.div,{...r,ref:e}),o):null});jE.displayName=QI;function GI(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var am=t=>{const{present:e,children:n}=t,r=KI(e),s=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),i=On(r.ref,YI(s));return typeof n=="function"||r.isPresent?b.cloneElement(s,{ref:i}):null};am.displayName="Presence";function KI(t){const[e,n]=b.useState(),r=b.useRef(null),s=b.useRef(t),i=b.useRef("none"),o=t?"mounted":"unmounted",[l,u]=GI(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const c=au(r.current);i.current=l==="mounted"?c:"none"},[l]),_s(()=>{const c=r.current,d=s.current;if(d!==t){const m=i.current,p=au(c);t?u("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),_s(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=p=>{const w=au(r.current).includes(p.animationName);if(p.target===e&&w&&(u("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},m=p=>{p.target===e&&(i.current=au(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function au(t){return(t==null?void 0:t.animationName)||"none"}function YI(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var XI=R_[" useInsertionEffect ".trim().toString()]||_s;function JI({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=ZI({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:s;{const d=b.useRef(t!==void 0);b.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const c=b.useCallback(d=>{var f;if(l){const m=eR(d)?d(t):d;m!==t&&((f=o.current)==null||f.call(o,m))}else i(d)},[l,t,i,o]);return[u,c]}function ZI({defaultProp:t,onChange:e}){const[n,r]=b.useState(t),s=b.useRef(n),i=b.useRef(e);return XI(()=>{i.current=e},[e]),b.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function eR(t){return typeof t=="function"}var tR=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),nR="VisuallyHidden",Zc=b.forwardRef((t,e)=>C.jsx(Kt.span,{...t,ref:e,style:{...tR,...t.style}}));Zc.displayName=nR;var rR=Zc,lm="ToastProvider",[um,sR,iR]=MI("Toast"),[UE,AL]=Jc("Toast",[iR]),[oR,ed]=UE(lm),BE=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[l,u]=b.useState(null),[c,d]=b.useState(0),f=b.useRef(!1),m=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${lm}\`. Expected non-empty \`string\`.`),C.jsx(um.Provider,{scope:e,children:C.jsx(oR,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:l,onViewportChange:u,onToastAdd:b.useCallback(()=>d(p=>p+1),[]),onToastRemove:b.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};BE.displayName=lm;var zE="ToastViewport",aR=["F8"],Rf="toast.viewportPause",bf="toast.viewportResume",$E=b.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=aR,label:s="Notifications ({hotkey})",...i}=t,o=ed(zE,n),l=sR(n),u=b.useRef(null),c=b.useRef(null),d=b.useRef(null),f=b.useRef(null),m=On(e,f,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;b.useEffect(()=>{const E=v=>{var _;r.length!==0&&r.every(k=>v[k]||v.code===k)&&((_=f.current)==null||_.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),b.useEffect(()=>{const E=u.current,v=f.current;if(T&&E&&v){const y=()=>{if(!o.isClosePausedRef.current){const V=new CustomEvent(Rf);v.dispatchEvent(V),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const V=new CustomEvent(bf);v.dispatchEvent(V),o.isClosePausedRef.current=!1}},k=V=>{!E.contains(V.relatedTarget)&&_()},O=()=>{E.contains(document.activeElement)||_()};return E.addEventListener("focusin",y),E.addEventListener("focusout",k),E.addEventListener("pointermove",y),E.addEventListener("pointerleave",O),window.addEventListener("blur",y),window.addEventListener("focus",_),()=>{E.removeEventListener("focusin",y),E.removeEventListener("focusout",k),E.removeEventListener("pointermove",y),E.removeEventListener("pointerleave",O),window.removeEventListener("blur",y),window.removeEventListener("focus",_)}}},[T,o.isClosePausedRef]);const w=b.useCallback(({tabbingDirection:E})=>{const y=l().map(_=>{const k=_.ref.current,O=[k,..._R(k)];return E==="forwards"?O:O.reverse()});return(E==="forwards"?y.reverse():y).flat()},[l]);return b.useEffect(()=>{const E=f.current;if(E){const v=y=>{var O,V,A;const _=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!_){const x=document.activeElement,I=y.shiftKey;if(y.target===E&&I){(O=c.current)==null||O.focus();return}const D=w({tabbingDirection:I?"backwards":"forwards"}),P=D.findIndex(q=>q===x);mh(D.slice(P+1))?y.preventDefault():I?(V=c.current)==null||V.focus():(A=d.current)==null||A.focus()}};return E.addEventListener("keydown",v),()=>E.removeEventListener("keydown",v)}},[l,w]),C.jsxs(WI,{ref:u,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&C.jsx(Pf,{ref:c,onFocusFromOutsideViewport:()=>{const E=w({tabbingDirection:"forwards"});mh(E)}}),C.jsx(um.Slot,{scope:n,children:C.jsx(Kt.ol,{tabIndex:-1,...i,ref:m})}),T&&C.jsx(Pf,{ref:d,onFocusFromOutsideViewport:()=>{const E=w({tabbingDirection:"backwards"});mh(E)}})]})});$E.displayName=zE;var HE="ToastFocusProxy",Pf=b.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=ed(HE,n);return C.jsx(Zc,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const l=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(l))&&r()}})});Pf.displayName=HE;var vl="Toast",lR="toast.swipeStart",uR="toast.swipeMove",cR="toast.swipeCancel",dR="toast.swipeEnd",qE=b.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[l,u]=JI({prop:r,defaultProp:s??!0,onChange:i,caller:vl});return C.jsx(am,{present:n||l,children:C.jsx(pR,{open:l,...o,ref:e,onClose:()=>u(!1),onPause:ws(t.onPause),onResume:ws(t.onResume),onSwipeStart:tt(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:tt(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:tt(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:tt(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),u(!1)})})})});qE.displayName=vl;var[hR,fR]=UE(vl,{onClose(){}}),pR=b.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:u,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...T}=t,w=ed(vl,n),[E,v]=b.useState(null),y=On(e,q=>v(q)),_=b.useRef(null),k=b.useRef(null),O=s||w.duration,V=b.useRef(0),A=b.useRef(O),x=b.useRef(0),{onToastAdd:I,onToastRemove:R}=w,N=ws(()=>{var le;(E==null?void 0:E.contains(document.activeElement))&&((le=w.viewport)==null||le.focus()),o()}),D=b.useCallback(q=>{!q||q===1/0||(window.clearTimeout(x.current),V.current=new Date().getTime(),x.current=window.setTimeout(N,q))},[N]);b.useEffect(()=>{const q=w.viewport;if(q){const le=()=>{D(A.current),c==null||c()},ne=()=>{const te=new Date().getTime()-V.current;A.current=A.current-te,window.clearTimeout(x.current),u==null||u()};return q.addEventListener(Rf,ne),q.addEventListener(bf,le),()=>{q.removeEventListener(Rf,ne),q.removeEventListener(bf,le)}}},[w.viewport,O,u,c,D]),b.useEffect(()=>{i&&!w.isClosePausedRef.current&&D(O)},[i,O,w.isClosePausedRef,D]),b.useEffect(()=>(I(),()=>R()),[I,R]);const P=b.useMemo(()=>E?JE(E):null,[E]);return w.viewport?C.jsxs(C.Fragment,{children:[P&&C.jsx(mR,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),C.jsx(hR,{scope:n,onClose:N,children:yl.createPortal(C.jsx(um.ItemSlot,{scope:n,children:C.jsx(qI,{asChild:!0,onEscapeKeyDown:tt(l,()=>{w.isFocusedToastEscapeKeyDownRef.current||N(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:C.jsx(Kt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,...T,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:tt(t.onKeyDown,q=>{q.key==="Escape"&&(l==null||l(q.nativeEvent),q.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:tt(t.onPointerDown,q=>{q.button===0&&(_.current={x:q.clientX,y:q.clientY})}),onPointerMove:tt(t.onPointerMove,q=>{if(!_.current)return;const le=q.clientX-_.current.x,ne=q.clientY-_.current.y,te=!!k.current,F=["left","right"].includes(w.swipeDirection),z=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,Q=F?z(0,le):0,ie=F?0:z(0,ne),X=q.pointerType==="touch"?10:2,Z={x:Q,y:ie},ce={originalEvent:q,delta:Z};te?(k.current=Z,lu(uR,f,ce,{discrete:!1})):lv(Z,w.swipeDirection,X)?(k.current=Z,lu(lR,d,ce,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(le)>X||Math.abs(ne)>X)&&(_.current=null)}),onPointerUp:tt(t.onPointerUp,q=>{const le=k.current,ne=q.target;if(ne.hasPointerCapture(q.pointerId)&&ne.releasePointerCapture(q.pointerId),k.current=null,_.current=null,le){const te=q.currentTarget,F={originalEvent:q,delta:le};lv(le,w.swipeDirection,w.swipeThreshold)?lu(dR,p,F,{discrete:!0}):lu(cR,m,F,{discrete:!0}),te.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),mR=t=>{const{__scopeToast:e,children:n,...r}=t,s=ed(vl,e),[i,o]=b.useState(!1),[l,u]=b.useState(!1);return vR(()=>o(!0)),b.useEffect(()=>{const c=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(c)},[]),l?null:C.jsx(jE,{asChild:!0,children:C.jsx(Zc,{...r,children:i&&C.jsxs(C.Fragment,{children:[s.label," ",n]})})})},gR="ToastTitle",WE=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return C.jsx(Kt.div,{...r,ref:e})});WE.displayName=gR;var yR="ToastDescription",QE=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return C.jsx(Kt.div,{...r,ref:e})});QE.displayName=yR;var GE="ToastAction",KE=b.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?C.jsx(XE,{altText:n,asChild:!0,children:C.jsx(cm,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${GE}\`. Expected non-empty \`string\`.`),null)});KE.displayName=GE;var YE="ToastClose",cm=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=fR(YE,n);return C.jsx(XE,{asChild:!0,children:C.jsx(Kt.button,{type:"button",...r,ref:e,onClick:tt(t.onClick,s.onClose)})})});cm.displayName=YE;var XE=b.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return C.jsx(Kt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function JE(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),wR(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...JE(r))}}),e}function lu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?VE(s,i):s.dispatchEvent(i)}var lv=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function vR(t=()=>{}){const e=ws(t);_s(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function wR(t){return t.nodeType===t.ELEMENT_NODE}function _R(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function mh(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var ER=BE,ZE=$E,e1=qE,t1=WE,n1=QE,r1=KE,s1=cm;function i1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=i1(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function o1(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=i1(t))&&(r&&(r+=" "),r+=e);return r}const uv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,cv=o1,dm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return cv(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],f=i==null?void 0:i[c];if(d===null)return null;const m=uv(d)||uv(f);return s[c][m]}),l=n&&Object.entries(n).reduce((c,d)=>{let[f,m]=d;return m===void 0||(c[f]=m),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(T=>{let[w,E]=T;return Array.isArray(E)?E.includes({...i,...l}[w]):{...i,...l}[w]===E})?[...c,f,m]:c},[]);return cv(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a1=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},u)=>b.createElement("svg",{ref:u,...TR,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:a1("lucide",s),...l},[...o.map(([c,d])=>b.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=(t,e)=>{const n=b.forwardRef(({className:r,...s},i)=>b.createElement(SR,{ref:i,iconNode:e,className:a1(`lucide-${xR(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=st("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=st("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=st("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=st("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=st("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=st("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=st("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=st("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=st("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=st("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=st("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=st("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=st("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=st("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=st("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=st("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=st("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=st("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=st("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hm="-",VR=t=>{const e=LR(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(hm);return l[0]===""&&l.length!==1&&l.shift(),c1(l,e)||MR(o)},getConflictingClassGroupIds:(o,l)=>{const u=n[o]||[];return l&&r[o]?[...u,...r[o]]:u}}},c1=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?c1(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(hm);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},pv=/^\[(.+)\]$/,MR=t=>{if(pv.test(t)){const e=pv.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},LR=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return jR(Object.entries(t.classGroups),n).forEach(([i,o])=>{Nf(o,r,i,e)}),r},Nf=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:mv(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(FR(s)){Nf(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Nf(o,mv(e,i),n,r)})})},mv=(t,e)=>{let n=t;return e.split(hm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},FR=t=>t.isThemeGetter,jR=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[n,s]}):t,UR=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},d1="!",BR=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=l=>{const u=[];let c=0,d=0,f;for(let E=0;E<l.length;E++){let v=l[E];if(c===0){if(v===s&&(r||l.slice(E,E+i)===e)){u.push(l.slice(d,E)),d=E+i;continue}if(v==="/"){f=E;continue}}v==="["?c++:v==="]"&&c--}const m=u.length===0?l:l.substring(d),p=m.startsWith(d1),T=p?m.substring(1):m,w=f&&f>d?f-d:void 0;return{modifiers:u,hasImportantModifier:p,baseClassName:T,maybePostfixModifierPosition:w}};return n?l=>n({className:l,parseClassName:o}):o},zR=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},$R=t=>({cache:UR(t.cacheSize),parseClassName:BR(t),...VR(t)}),HR=/\s+/,qR=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(HR);let l="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=n(c);let T=!!p,w=r(T?m.substring(0,p):m);if(!w){if(!T){l=c+(l.length>0?" "+l:l);continue}if(w=r(m),!w){l=c+(l.length>0?" "+l:l);continue}T=!1}const E=zR(d).join(":"),v=f?E+d1:E,y=v+w;if(i.includes(y))continue;i.push(y);const _=s(w,T);for(let k=0;k<_.length;++k){const O=_[k];i.push(v+O)}l=c+(l.length>0?" "+l:l)}return l};function WR(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=h1(e))&&(r&&(r+=" "),r+=n);return r}const h1=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=h1(t[r]))&&(n&&(n+=" "),n+=e);return n};function QR(t,...e){let n,r,s,i=o;function o(u){const c=e.reduce((d,f)=>f(d),t());return n=$R(c),r=n.cache.get,s=n.cache.set,i=l,l(u)}function l(u){const c=r(u);if(c)return c;const d=qR(u,n);return s(u,d),d}return function(){return i(WR.apply(null,arguments))}}const ke=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},f1=/^\[(?:([a-z-]+):)?(.+)\]$/i,GR=/^\d+\/\d+$/,KR=new Set(["px","full","screen"]),YR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,JR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ZR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eb=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hr=t=>Xi(t)||KR.has(t)||GR.test(t),Ur=t=>ko(t,"length",lb),Xi=t=>!!t&&!Number.isNaN(Number(t)),yh=t=>ko(t,"number",Xi),aa=t=>!!t&&Number.isInteger(Number(t)),tb=t=>t.endsWith("%")&&Xi(t.slice(0,-1)),ue=t=>f1.test(t),Br=t=>YR.test(t),nb=new Set(["length","size","percentage"]),rb=t=>ko(t,nb,p1),sb=t=>ko(t,"position",p1),ib=new Set(["image","url"]),ob=t=>ko(t,ib,cb),ab=t=>ko(t,"",ub),la=()=>!0,ko=(t,e,n)=>{const r=f1.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},lb=t=>XR.test(t)&&!JR.test(t),p1=()=>!1,ub=t=>ZR.test(t),cb=t=>eb.test(t),db=()=>{const t=ke("colors"),e=ke("spacing"),n=ke("blur"),r=ke("brightness"),s=ke("borderColor"),i=ke("borderRadius"),o=ke("borderSpacing"),l=ke("borderWidth"),u=ke("contrast"),c=ke("grayscale"),d=ke("hueRotate"),f=ke("invert"),m=ke("gap"),p=ke("gradientColorStops"),T=ke("gradientColorStopPositions"),w=ke("inset"),E=ke("margin"),v=ke("opacity"),y=ke("padding"),_=ke("saturate"),k=ke("scale"),O=ke("sepia"),V=ke("skew"),A=ke("space"),x=ke("translate"),I=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",ue,e],D=()=>[ue,e],P=()=>["",hr,Ur],q=()=>["auto",Xi,ue],le=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",ue],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[Xi,ue];return{cacheSize:500,separator:":",theme:{colors:[la],spacing:[hr,Ur],blur:["none","",Br,ue],brightness:ie(),borderColor:[t],borderRadius:["none","","full",Br,ue],borderSpacing:D(),borderWidth:P(),contrast:ie(),grayscale:z(),hueRotate:ie(),invert:z(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[tb,Ur],inset:N(),margin:N(),opacity:ie(),padding:D(),saturate:ie(),scale:ie(),sepia:z(),skew:ie(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[Br]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...le(),ue]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",aa,ue]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",aa,ue]}],"grid-cols":[{"grid-cols":[la]}],"col-start-end":[{col:["auto",{span:["full",aa,ue]},ue]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[la]}],"row-start-end":[{row:["auto",{span:[aa,ue]},ue]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,e]}],"min-w":[{"min-w":[ue,e,"min","max","fit"]}],"max-w":[{"max-w":[ue,e,"none","full","min","max","fit","prose",{screen:[Br]},Br]}],h:[{h:[ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Br,Ur]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",yh]}],"font-family":[{font:[la]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",Xi,yh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",hr,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",hr,Ur]}],"underline-offset":[{"underline-offset":["auto",hr,ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...le(),sb]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",rb]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ob]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[hr,ue]}],"outline-w":[{outline:[hr,Ur]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[hr,Ur]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Br,ab]}],"shadow-color":[{shadow:[la]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Br,ue]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[aa,ue]}],"translate-x":[{"translate-x":[x]}],"translate-y":[{"translate-y":[x]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[hr,Ur,yh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},hb=QR(db);function Pt(...t){return hb(o1(t))}const fb=ER,m1=b.forwardRef(({className:t,...e},n)=>C.jsx(ZE,{ref:n,className:Pt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));m1.displayName=ZE.displayName;const pb=dm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),g1=b.forwardRef(({className:t,variant:e,...n},r)=>C.jsx(e1,{ref:r,className:Pt(pb({variant:e}),t),...n}));g1.displayName=e1.displayName;const mb=b.forwardRef(({className:t,...e},n)=>C.jsx(r1,{ref:n,className:Pt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));mb.displayName=r1.displayName;const y1=b.forwardRef(({className:t,...e},n)=>C.jsx(s1,{ref:n,className:Pt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:C.jsx(OR,{className:"h-4 w-4"})}));y1.displayName=s1.displayName;const v1=b.forwardRef(({className:t,...e},n)=>C.jsx(t1,{ref:n,className:Pt("text-sm font-semibold",t),...e}));v1.displayName=t1.displayName;const w1=b.forwardRef(({className:t,...e},n)=>C.jsx(n1,{ref:n,className:Pt("text-sm opacity-90",t),...e}));w1.displayName=n1.displayName;function gb(){const{toasts:t}=RI();return C.jsxs(fb,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return C.jsxs(g1,{...i,children:[C.jsxs("div",{className:"grid gap-1",children:[n&&C.jsx(v1,{children:n}),r&&C.jsx(w1,{children:r})]}),s,C.jsx(y1,{})]},e)}),C.jsx(m1,{})]})}var gv=["light","dark"],yb="(prefers-color-scheme: dark)",vb=b.createContext(void 0),wb={setTheme:t=>{},themes:[]},_b=()=>{var t;return(t=b.useContext(vb))!=null?t:wb};b.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:l,nonce:u})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?gv.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(T,w=!1,E=!0)=>{let v=o?o[T]:T,y=w?T+"|| ''":`'${v}'`,_="";return s&&E&&!w&&gv.includes(T)&&(_+=`d.style.colorScheme = '${T}';`),n==="class"?w||v?_+=`c.add(${y})`:_+="null":v&&(_+=`d[s](n,${y})`),_},p=t?`!function(){${d}${m(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${yb}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${c?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return b.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:p}})});var Eb=t=>{switch(t){case"success":return Sb;case"info":return Ab;case"warning":return Cb;case"error":return Ib;default:return null}},xb=Array(12).fill(0),Tb=({visible:t,className:e})=>H.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},H.createElement("div",{className:"sonner-spinner"},xb.map((n,r)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Sb=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Cb=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Ab=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ib=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Rb=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),bb=()=>{let[t,e]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Df=1,Pb=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Df++,o=this.toasts.find(u=>u.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...e,id:i,title:r}),{...u,...e,id:i,dismissible:l,title:r}):u):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,l=s.then(async c=>{if(o=["resolve",c],H.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(Nb(c)&&!c.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:d,description:f})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(c):n.success,f=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:d,description:f})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(c):n.error,f=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:d,description:f})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),u=()=>new Promise((c,d)=>l.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Df++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Bt=new Pb,kb=(t,e)=>{let n=(e==null?void 0:e.id)||Df++;return Bt.addToast({title:t,...e,id:n}),n},Nb=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Db=kb,Ob=()=>Bt.toasts,Vb=()=>Bt.getActiveToasts();Object.assign(Db,{success:Bt.success,info:Bt.info,warning:Bt.warning,error:Bt.error,custom:Bt.custom,message:Bt.message,promise:Bt.promise,dismiss:Bt.dismiss,loading:Bt.loading},{getHistory:Ob,getToasts:Vb});function Mb(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Mb(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function uu(t){return t.label!==void 0}var Lb=3,Fb="32px",jb="16px",yv=4e3,Ub=356,Bb=14,zb=20,$b=200;function Tn(...t){return t.filter(Boolean).join(" ")}function Hb(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var qb=t=>{var e,n,r,s,i,o,l,u,c,d,f;let{invert:m,toast:p,unstyled:T,interacting:w,setHeights:E,visibleToasts:v,heights:y,index:_,toasts:k,expanded:O,removeToast:V,defaultRichColors:A,closeButton:x,style:I,cancelButtonStyle:R,actionButtonStyle:N,className:D="",descriptionClassName:P="",duration:q,position:le,gap:ne,loadingIcon:te,expandByDefault:F,classNames:z,icons:Q,closeButtonAriaLabel:ie="Close toast",pauseWhenPageIsHidden:X}=t,[Z,ce]=H.useState(null),[Ae,it]=H.useState(null),[pe,kr]=H.useState(!1),[Fn,ln]=H.useState(!1),[Yt,jn]=H.useState(!1),[un,Nr]=H.useState(!1),[Ns,Ds]=H.useState(!1),[jo,Os]=H.useState(0),[ar,_i]=H.useState(0),Dr=H.useRef(p.duration||q||yv),Al=H.useRef(null),_n=H.useRef(null),Uo=_===0,Il=_+1<=v,xe=p.type,Be=p.dismissible!==!1,Ei=p.className||"",Rl=p.descriptionClassName||"",Vs=H.useMemo(()=>y.findIndex(re=>re.toastId===p.id)||0,[y,p.id]),Ad=H.useMemo(()=>{var re;return(re=p.closeButton)!=null?re:x},[p.closeButton,x]),Or=H.useMemo(()=>p.duration||q||yv,[p.duration,q]),xi=H.useRef(0),lr=H.useRef(0),Ti=H.useRef(0),Vr=H.useRef(null),[Id,Bo]=le.split("-"),zo=H.useMemo(()=>y.reduce((re,ye,Se)=>Se>=Vs?re:re+ye.height,0),[y,Vs]),$o=bb(),Ms=p.invert||m,Ls=xe==="loading";lr.current=H.useMemo(()=>Vs*ne+zo,[Vs,zo]),H.useEffect(()=>{Dr.current=Or},[Or]),H.useEffect(()=>{kr(!0)},[]),H.useEffect(()=>{let re=_n.current;if(re){let ye=re.getBoundingClientRect().height;return _i(ye),E(Se=>[{toastId:p.id,height:ye,position:p.position},...Se]),()=>E(Se=>Se.filter(ct=>ct.toastId!==p.id))}},[E,p.id]),H.useLayoutEffect(()=>{if(!pe)return;let re=_n.current,ye=re.style.height;re.style.height="auto";let Se=re.getBoundingClientRect().height;re.style.height=ye,_i(Se),E(ct=>ct.find(jt=>jt.toastId===p.id)?ct.map(jt=>jt.toastId===p.id?{...jt,height:Se}:jt):[{toastId:p.id,height:Se,position:p.position},...ct])},[pe,p.title,p.description,E,p.id]);let cn=H.useCallback(()=>{ln(!0),Os(lr.current),E(re=>re.filter(ye=>ye.toastId!==p.id)),setTimeout(()=>{V(p)},$b)},[p,V,E,lr]);H.useEffect(()=>{if(p.promise&&xe==="loading"||p.duration===1/0||p.type==="loading")return;let re;return O||w||X&&$o?(()=>{if(Ti.current<xi.current){let ye=new Date().getTime()-xi.current;Dr.current=Dr.current-ye}Ti.current=new Date().getTime()})():Dr.current!==1/0&&(xi.current=new Date().getTime(),re=setTimeout(()=>{var ye;(ye=p.onAutoClose)==null||ye.call(p,p),cn()},Dr.current)),()=>clearTimeout(re)},[O,w,p,xe,X,$o,cn]),H.useEffect(()=>{p.delete&&cn()},[cn,p.delete]);function ur(){var re,ye,Se;return Q!=null&&Q.loading?H.createElement("div",{className:Tn(z==null?void 0:z.loader,(re=p==null?void 0:p.classNames)==null?void 0:re.loader,"sonner-loader"),"data-visible":xe==="loading"},Q.loading):te?H.createElement("div",{className:Tn(z==null?void 0:z.loader,(ye=p==null?void 0:p.classNames)==null?void 0:ye.loader,"sonner-loader"),"data-visible":xe==="loading"},te):H.createElement(Tb,{className:Tn(z==null?void 0:z.loader,(Se=p==null?void 0:p.classNames)==null?void 0:Se.loader),visible:xe==="loading"})}return H.createElement("li",{tabIndex:0,ref:_n,className:Tn(D,Ei,z==null?void 0:z.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,z==null?void 0:z.default,z==null?void 0:z[xe],(n=p==null?void 0:p.classNames)==null?void 0:n[xe]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:A,"data-styled":!(p.jsx||p.unstyled||T),"data-mounted":pe,"data-promise":!!p.promise,"data-swiped":Ns,"data-removed":Fn,"data-visible":Il,"data-y-position":Id,"data-x-position":Bo,"data-index":_,"data-front":Uo,"data-swiping":Yt,"data-dismissible":Be,"data-type":xe,"data-invert":Ms,"data-swipe-out":un,"data-swipe-direction":Ae,"data-expanded":!!(O||F&&pe),style:{"--index":_,"--toasts-before":_,"--z-index":k.length-_,"--offset":`${Fn?jo:lr.current}px`,"--initial-height":F?"auto":`${ar}px`,...I,...p.style},onDragEnd:()=>{jn(!1),ce(null),Vr.current=null},onPointerDown:re=>{Ls||!Be||(Al.current=new Date,Os(lr.current),re.target.setPointerCapture(re.pointerId),re.target.tagName!=="BUTTON"&&(jn(!0),Vr.current={x:re.clientX,y:re.clientY}))},onPointerUp:()=>{var re,ye,Se,ct;if(un||!Be)return;Vr.current=null;let jt=Number(((re=_n.current)==null?void 0:re.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ve=Number(((ye=_n.current)==null?void 0:ye.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Un=new Date().getTime()-((Se=Al.current)==null?void 0:Se.getTime()),dt=Z==="x"?jt:Ve,Ut=Math.abs(dt)/Un;if(Math.abs(dt)>=zb||Ut>.11){Os(lr.current),(ct=p.onDismiss)==null||ct.call(p,p),it(Z==="x"?jt>0?"right":"left":Ve>0?"down":"up"),cn(),Nr(!0),Ds(!1);return}jn(!1),ce(null)},onPointerMove:re=>{var ye,Se,ct,jt;if(!Vr.current||!Be||((ye=window.getSelection())==null?void 0:ye.toString().length)>0)return;let Ve=re.clientY-Vr.current.y,Un=re.clientX-Vr.current.x,dt=(Se=t.swipeDirections)!=null?Se:Hb(le);!Z&&(Math.abs(Un)>1||Math.abs(Ve)>1)&&ce(Math.abs(Un)>Math.abs(Ve)?"x":"y");let Ut={x:0,y:0};Z==="y"?(dt.includes("top")||dt.includes("bottom"))&&(dt.includes("top")&&Ve<0||dt.includes("bottom")&&Ve>0)&&(Ut.y=Ve):Z==="x"&&(dt.includes("left")||dt.includes("right"))&&(dt.includes("left")&&Un<0||dt.includes("right")&&Un>0)&&(Ut.x=Un),(Math.abs(Ut.x)>0||Math.abs(Ut.y)>0)&&Ds(!0),(ct=_n.current)==null||ct.style.setProperty("--swipe-amount-x",`${Ut.x}px`),(jt=_n.current)==null||jt.style.setProperty("--swipe-amount-y",`${Ut.y}px`)}},Ad&&!p.jsx?H.createElement("button",{"aria-label":ie,"data-disabled":Ls,"data-close-button":!0,onClick:Ls||!Be?()=>{}:()=>{var re;cn(),(re=p.onDismiss)==null||re.call(p,p)},className:Tn(z==null?void 0:z.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=Q==null?void 0:Q.close)!=null?i:Rb):null,p.jsx||b.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:H.createElement(H.Fragment,null,xe||p.icon||p.promise?H.createElement("div",{"data-icon":"",className:Tn(z==null?void 0:z.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||ur():null,p.type!=="loading"?p.icon||(Q==null?void 0:Q[xe])||Eb(xe):null):null,H.createElement("div",{"data-content":"",className:Tn(z==null?void 0:z.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},H.createElement("div",{"data-title":"",className:Tn(z==null?void 0:z.title,(u=p==null?void 0:p.classNames)==null?void 0:u.title)},typeof p.title=="function"?p.title():p.title),p.description?H.createElement("div",{"data-description":"",className:Tn(P,Rl,z==null?void 0:z.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),b.isValidElement(p.cancel)?p.cancel:p.cancel&&uu(p.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||R,onClick:re=>{var ye,Se;uu(p.cancel)&&Be&&((Se=(ye=p.cancel).onClick)==null||Se.call(ye,re),cn())},className:Tn(z==null?void 0:z.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,b.isValidElement(p.action)?p.action:p.action&&uu(p.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||N,onClick:re=>{var ye,Se;uu(p.action)&&((Se=(ye=p.action).onClick)==null||Se.call(ye,re),!re.defaultPrevented&&cn())},className:Tn(z==null?void 0:z.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function vv(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Wb(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?jb:Fb;function u(c){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=l:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):u(l)}),n}var Qb=b.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:u,mobileOffset:c,theme:d="light",richColors:f,duration:m,style:p,visibleToasts:T=Lb,toastOptions:w,dir:E=vv(),gap:v=Bb,loadingIcon:y,icons:_,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:O}=t,[V,A]=H.useState([]),x=H.useMemo(()=>Array.from(new Set([r].concat(V.filter(X=>X.position).map(X=>X.position)))),[V,r]),[I,R]=H.useState([]),[N,D]=H.useState(!1),[P,q]=H.useState(!1),[le,ne]=H.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=H.useRef(null),F=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=H.useRef(null),Q=H.useRef(!1),ie=H.useCallback(X=>{A(Z=>{var ce;return(ce=Z.find(Ae=>Ae.id===X.id))!=null&&ce.delete||Bt.dismiss(X.id),Z.filter(({id:Ae})=>Ae!==X.id)})},[]);return H.useEffect(()=>Bt.subscribe(X=>{if(X.dismiss){A(Z=>Z.map(ce=>ce.id===X.id?{...ce,delete:!0}:ce));return}setTimeout(()=>{kE.flushSync(()=>{A(Z=>{let ce=Z.findIndex(Ae=>Ae.id===X.id);return ce!==-1?[...Z.slice(0,ce),{...Z[ce],...X},...Z.slice(ce+1)]:[X,...Z]})})})}),[]),H.useEffect(()=>{if(d!=="system"){ne(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:Z})=>{ne(Z?"dark":"light")})}catch{X.addListener(({matches:ce})=>{try{ne(ce?"dark":"light")}catch(Ae){console.error(Ae)}})}},[d]),H.useEffect(()=>{V.length<=1&&D(!1)},[V]),H.useEffect(()=>{let X=Z=>{var ce,Ae;s.every(it=>Z[it]||Z.code===it)&&(D(!0),(ce=te.current)==null||ce.focus()),Z.code==="Escape"&&(document.activeElement===te.current||(Ae=te.current)!=null&&Ae.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[s]),H.useEffect(()=>{if(te.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,Q.current=!1)}},[te.current]),H.createElement("section",{ref:e,"aria-label":`${k} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},x.map((X,Z)=>{var ce;let[Ae,it]=X.split("-");return V.length?H.createElement("ol",{key:X,dir:E==="auto"?vv():E,tabIndex:-1,ref:te,className:l,"data-sonner-toaster":!0,"data-theme":le,"data-y-position":Ae,"data-lifted":N&&V.length>1&&!i,"data-x-position":it,style:{"--front-toast-height":`${((ce=I[0])==null?void 0:ce.height)||0}px`,"--width":`${Ub}px`,"--gap":`${v}px`,...p,...Wb(u,c)},onBlur:pe=>{Q.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(Q.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,z.current=pe.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{P||D(!1)},onDragEnd:()=>D(!1),onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||q(!0)},onPointerUp:()=>q(!1)},V.filter(pe=>!pe.position&&Z===0||pe.position===X).map((pe,kr)=>{var Fn,ln;return H.createElement(qb,{key:pe.id,icons:_,index:kr,toast:pe,defaultRichColors:f,duration:(Fn=w==null?void 0:w.duration)!=null?Fn:m,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:n,visibleToasts:T,closeButton:(ln=w==null?void 0:w.closeButton)!=null?ln:o,interacting:P,position:X,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:ie,toasts:V.filter(Yt=>Yt.position==pe.position),heights:I.filter(Yt=>Yt.position==pe.position),setHeights:R,expandByDefault:i,gap:v,loadingIcon:y,expanded:N,pauseWhenPageIsHidden:O,swipeDirections:t.swipeDirections})})):null}))});const Gb=({...t})=>{const{theme:e="system"}=_b();return C.jsx(Qb,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},Kb=["top","right","bottom","left"],Es=Math.min,Zt=Math.max,pc=Math.round,cu=Math.floor,Jn=t=>({x:t,y:t}),Yb={left:"right",right:"left",bottom:"top",top:"bottom"},Xb={start:"end",end:"start"};function Of(t,e,n){return Zt(t,Es(e,n))}function Cr(t,e){return typeof t=="function"?t(e):t}function Ar(t){return t.split("-")[0]}function No(t){return t.split("-")[1]}function fm(t){return t==="x"?"y":"x"}function pm(t){return t==="y"?"height":"width"}const Jb=new Set(["top","bottom"]);function Gn(t){return Jb.has(Ar(t))?"y":"x"}function mm(t){return fm(Gn(t))}function Zb(t,e,n){n===void 0&&(n=!1);const r=No(t),s=mm(t),i=pm(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=mc(o)),[o,mc(o)]}function eP(t){const e=mc(t);return[Vf(t),e,Vf(e)]}function Vf(t){return t.replace(/start|end/g,e=>Xb[e])}const wv=["left","right"],_v=["right","left"],tP=["top","bottom"],nP=["bottom","top"];function rP(t,e,n){switch(t){case"top":case"bottom":return n?e?_v:wv:e?wv:_v;case"left":case"right":return e?tP:nP;default:return[]}}function sP(t,e,n,r){const s=No(t);let i=rP(Ar(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Vf)))),i}function mc(t){return t.replace(/left|right|bottom|top/g,e=>Yb[e])}function iP(t){return{top:0,right:0,bottom:0,left:0,...t}}function _1(t){return typeof t!="number"?iP(t):{top:t,right:t,bottom:t,left:t}}function gc(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Ev(t,e,n){let{reference:r,floating:s}=t;const i=Gn(e),o=mm(e),l=pm(o),u=Ar(e),c=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let p;switch(u){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(No(e)){case"start":p[o]-=m*(n&&c?-1:1);break;case"end":p[o]+=m*(n&&c?-1:1);break}return p}const oP=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=Ev(c,r,u),m=r,p={},T=0;for(let w=0;w<l.length;w++){const{name:E,fn:v}=l[w],{x:y,y:_,data:k,reset:O}=await v({x:d,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});d=y??d,f=_??f,p={...p,[E]:{...p[E],...k}},O&&T<=50&&(T++,typeof O=="object"&&(O.placement&&(m=O.placement),O.rects&&(c=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:d,y:f}=Ev(c,m,u)),w=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:p}};async function Xa(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=Cr(e,t),T=_1(p),E=l[m?f==="floating"?"reference":"floating":f],v=gc(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:u})),y=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),k=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},O=gc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:_,strategy:u}):y);return{top:(v.top-O.top+T.top)/k.y,bottom:(O.bottom-v.bottom+T.bottom)/k.y,left:(v.left-O.left+T.left)/k.x,right:(O.right-v.right+T.right)/k.x}}const aP=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:u}=e,{element:c,padding:d=0}=Cr(t,e)||{};if(c==null)return{};const f=_1(d),m={x:n,y:r},p=mm(s),T=pm(p),w=await o.getDimensions(c),E=p==="y",v=E?"top":"left",y=E?"bottom":"right",_=E?"clientHeight":"clientWidth",k=i.reference[T]+i.reference[p]-m[p]-i.floating[T],O=m[p]-i.reference[p],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let A=V?V[_]:0;(!A||!await(o.isElement==null?void 0:o.isElement(V)))&&(A=l.floating[_]||i.floating[T]);const x=k/2-O/2,I=A/2-w[T]/2-1,R=Es(f[v],I),N=Es(f[y],I),D=R,P=A-w[T]-N,q=A/2-w[T]/2+x,le=Of(D,q,P),ne=!u.arrow&&No(s)!=null&&q!==le&&i.reference[T]/2-(q<D?R:N)-w[T]/2<0,te=ne?q<D?q-D:q-P:0;return{[p]:m[p]+te,data:{[p]:le,centerOffset:q-le-te,...ne&&{alignmentOffset:te}},reset:ne}}}),lP=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:u,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:w=!0,...E}=Cr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Ar(s),y=Gn(l),_=Ar(l)===l,k=await(u.isRTL==null?void 0:u.isRTL(c.floating)),O=m||(_||!w?[mc(l)]:eP(l)),V=T!=="none";!m&&V&&O.push(...sP(l,w,T,k));const A=[l,...O],x=await Xa(e,E),I=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&I.push(x[v]),f){const q=Zb(s,o,k);I.push(x[q[0]],x[q[1]])}if(R=[...R,{placement:s,overflows:I}],!I.every(q=>q<=0)){var N,D;const q=(((N=i.flip)==null?void 0:N.index)||0)+1,le=A[q];if(le&&(!(f==="alignment"?y!==Gn(le):!1)||R.every(F=>F.overflows[0]>0&&Gn(F.placement)===y)))return{data:{index:q,overflows:R},reset:{placement:le}};let ne=(D=R.filter(te=>te.overflows[0]<=0).sort((te,F)=>te.overflows[1]-F.overflows[1])[0])==null?void 0:D.placement;if(!ne)switch(p){case"bestFit":{var P;const te=(P=R.filter(F=>{if(V){const z=Gn(F.placement);return z===y||z==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(z=>z>0).reduce((z,Q)=>z+Q,0)]).sort((F,z)=>F[1]-z[1])[0])==null?void 0:P[0];te&&(ne=te);break}case"initialPlacement":ne=l;break}if(s!==ne)return{reset:{placement:ne}}}return{}}}};function xv(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Tv(t){return Kb.some(e=>t[e]>=0)}const uP=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Cr(t,e);switch(r){case"referenceHidden":{const i=await Xa(e,{...s,elementContext:"reference"}),o=xv(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Tv(o)}}}case"escaped":{const i=await Xa(e,{...s,altBoundary:!0}),o=xv(i,n.floating);return{data:{escapedOffsets:o,escaped:Tv(o)}}}default:return{}}}}},E1=new Set(["left","top"]);async function cP(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ar(n),l=No(n),u=Gn(n)==="y",c=E1.has(o)?-1:1,d=i&&u?-1:1,f=Cr(e,t);let{mainAxis:m,crossAxis:p,alignmentAxis:T}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof T=="number"&&(p=l==="end"?T*-1:T),u?{x:p*d,y:m*c}:{x:m*c,y:p*d}}const dP=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=e,u=await cP(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},hP=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:E=>{let{x:v,y}=E;return{x:v,y}}},...u}=Cr(t,e),c={x:n,y:r},d=await Xa(e,u),f=Gn(Ar(s)),m=fm(f);let p=c[m],T=c[f];if(i){const E=m==="y"?"top":"left",v=m==="y"?"bottom":"right",y=p+d[E],_=p-d[v];p=Of(y,p,_)}if(o){const E=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=T+d[E],_=T-d[v];T=Of(y,T,_)}const w=l.fn({...e,[m]:p,[f]:T});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[m]:i,[f]:o}}}}}},fP=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:u=!0,crossAxis:c=!0}=Cr(t,e),d={x:n,y:r},f=Gn(s),m=fm(f);let p=d[m],T=d[f];const w=Cr(l,e),E=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(u){const _=m==="y"?"height":"width",k=i.reference[m]-i.floating[_]+E.mainAxis,O=i.reference[m]+i.reference[_]-E.mainAxis;p<k?p=k:p>O&&(p=O)}if(c){var v,y;const _=m==="y"?"width":"height",k=E1.has(Ar(s)),O=i.reference[f]-i.floating[_]+(k&&((v=o.offset)==null?void 0:v[f])||0)+(k?0:E.crossAxis),V=i.reference[f]+i.reference[_]+(k?0:((y=o.offset)==null?void 0:y[f])||0)-(k?E.crossAxis:0);T<O?T=O:T>V&&(T=V)}return{[m]:p,[f]:T}}}},pP=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:u=()=>{},...c}=Cr(t,e),d=await Xa(e,c),f=Ar(s),m=No(s),p=Gn(s)==="y",{width:T,height:w}=i.floating;let E,v;f==="top"||f==="bottom"?(E=f,v=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,E=m==="end"?"top":"bottom");const y=w-d.top-d.bottom,_=T-d.left-d.right,k=Es(w-d[E],y),O=Es(T-d[v],_),V=!e.middlewareData.shift;let A=k,x=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(x=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=y),V&&!m){const R=Zt(d.left,0),N=Zt(d.right,0),D=Zt(d.top,0),P=Zt(d.bottom,0);p?x=T-2*(R!==0||N!==0?R+N:Zt(d.left,d.right)):A=w-2*(D!==0||P!==0?D+P:Zt(d.top,d.bottom))}await u({...e,availableWidth:x,availableHeight:A});const I=await o.getDimensions(l.floating);return T!==I.width||w!==I.height?{reset:{rects:!0}}:{}}}};function td(){return typeof window<"u"}function Do(t){return x1(t)?(t.nodeName||"").toLowerCase():"#document"}function rn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function or(t){var e;return(e=(x1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function x1(t){return td()?t instanceof Node||t instanceof rn(t).Node:!1}function Vn(t){return td()?t instanceof Element||t instanceof rn(t).Element:!1}function rr(t){return td()?t instanceof HTMLElement||t instanceof rn(t).HTMLElement:!1}function Sv(t){return!td()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof rn(t).ShadowRoot}const mP=new Set(["inline","contents"]);function wl(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Mn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!mP.has(s)}const gP=new Set(["table","td","th"]);function yP(t){return gP.has(Do(t))}const vP=[":popover-open",":modal"];function nd(t){return vP.some(e=>{try{return t.matches(e)}catch{return!1}})}const wP=["transform","translate","scale","rotate","perspective"],_P=["transform","translate","scale","rotate","perspective","filter"],EP=["paint","layout","strict","content"];function gm(t){const e=ym(),n=Vn(t)?Mn(t):t;return wP.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||_P.some(r=>(n.willChange||"").includes(r))||EP.some(r=>(n.contain||"").includes(r))}function xP(t){let e=xs(t);for(;rr(e)&&!wo(e);){if(gm(e))return e;if(nd(e))return null;e=xs(e)}return null}function ym(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const TP=new Set(["html","body","#document"]);function wo(t){return TP.has(Do(t))}function Mn(t){return rn(t).getComputedStyle(t)}function rd(t){return Vn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function xs(t){if(Do(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Sv(t)&&t.host||or(t);return Sv(e)?e.host:e}function T1(t){const e=xs(t);return wo(e)?t.ownerDocument?t.ownerDocument.body:t.body:rr(e)&&wl(e)?e:T1(e)}function Ja(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=T1(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=rn(s);if(i){const l=Mf(o);return e.concat(o,o.visualViewport||[],wl(s)?s:[],l&&n?Ja(l):[])}return e.concat(s,Ja(s,[],n))}function Mf(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function S1(t){const e=Mn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=rr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=pc(n)!==i||pc(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function vm(t){return Vn(t)?t:t.contextElement}function Ji(t){const e=vm(t);if(!rr(e))return Jn(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=S1(e);let o=(i?pc(n.width):n.width)/r,l=(i?pc(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const SP=Jn(0);function C1(t){const e=rn(t);return!ym()||!e.visualViewport?SP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function CP(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==rn(t)?!1:e}function li(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=vm(t);let o=Jn(1);e&&(r?Vn(r)&&(o=Ji(r)):o=Ji(t));const l=CP(i,n,r)?C1(i):Jn(0);let u=(s.left+l.x)/o.x,c=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const m=rn(i),p=r&&Vn(r)?rn(r):r;let T=m,w=Mf(T);for(;w&&r&&p!==T;){const E=Ji(w),v=w.getBoundingClientRect(),y=Mn(w),_=v.left+(w.clientLeft+parseFloat(y.paddingLeft))*E.x,k=v.top+(w.clientTop+parseFloat(y.paddingTop))*E.y;u*=E.x,c*=E.y,d*=E.x,f*=E.y,u+=_,c+=k,T=rn(w),w=Mf(T)}}return gc({width:d,height:f,x:u,y:c})}function wm(t,e){const n=rd(t).scrollLeft;return e?e.left+n:li(or(t)).left+n}function A1(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:wm(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function AP(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=or(r),l=e?nd(e.floating):!1;if(r===o||l&&i)return n;let u={scrollLeft:0,scrollTop:0},c=Jn(1);const d=Jn(0),f=rr(r);if((f||!f&&!i)&&((Do(r)!=="body"||wl(o))&&(u=rd(r)),rr(r))){const p=li(r);c=Ji(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const m=o&&!f&&!i?A1(o,u,!0):Jn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+d.x+m.x,y:n.y*c.y-u.scrollTop*c.y+d.y+m.y}}function IP(t){return Array.from(t.getClientRects())}function RP(t){const e=or(t),n=rd(t),r=t.ownerDocument.body,s=Zt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Zt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+wm(t);const l=-n.scrollTop;return Mn(r).direction==="rtl"&&(o+=Zt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}function bP(t,e){const n=rn(t),r=or(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,u=0;if(s){i=s.width,o=s.height;const c=ym();(!c||c&&e==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}return{width:i,height:o,x:l,y:u}}const PP=new Set(["absolute","fixed"]);function kP(t,e){const n=li(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=rr(t)?Ji(t):Jn(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,u=s*i.x,c=r*i.y;return{width:o,height:l,x:u,y:c}}function Cv(t,e,n){let r;if(e==="viewport")r=bP(t,n);else if(e==="document")r=RP(or(t));else if(Vn(e))r=kP(e,n);else{const s=C1(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return gc(r)}function I1(t,e){const n=xs(t);return n===e||!Vn(n)||wo(n)?!1:Mn(n).position==="fixed"||I1(n,e)}function NP(t,e){const n=e.get(t);if(n)return n;let r=Ja(t,[],!1).filter(l=>Vn(l)&&Do(l)!=="body"),s=null;const i=Mn(t).position==="fixed";let o=i?xs(t):t;for(;Vn(o)&&!wo(o);){const l=Mn(o),u=gm(o);!u&&l.position==="fixed"&&(s=null),(i?!u&&!s:!u&&l.position==="static"&&!!s&&PP.has(s.position)||wl(o)&&!u&&I1(t,o))?r=r.filter(d=>d!==o):s=l,o=xs(o)}return e.set(t,r),r}function DP(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?nd(e)?[]:NP(e,this._c):[].concat(n),r],l=o[0],u=o.reduce((c,d)=>{const f=Cv(e,d,s);return c.top=Zt(f.top,c.top),c.right=Es(f.right,c.right),c.bottom=Es(f.bottom,c.bottom),c.left=Zt(f.left,c.left),c},Cv(e,l,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function OP(t){const{width:e,height:n}=S1(t);return{width:e,height:n}}function VP(t,e,n){const r=rr(e),s=or(e),i=n==="fixed",o=li(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const u=Jn(0);function c(){u.x=wm(s)}if(r||!r&&!i)if((Do(e)!=="body"||wl(s))&&(l=rd(e)),r){const p=li(e,!0,i,e);u.x=p.x+e.clientLeft,u.y=p.y+e.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?A1(s,l):Jn(0),f=o.left+l.scrollLeft-u.x-d.x,m=o.top+l.scrollTop-u.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function vh(t){return Mn(t).position==="static"}function Av(t,e){if(!rr(t)||Mn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return or(t)===n&&(n=n.ownerDocument.body),n}function R1(t,e){const n=rn(t);if(nd(t))return n;if(!rr(t)){let s=xs(t);for(;s&&!wo(s);){if(Vn(s)&&!vh(s))return s;s=xs(s)}return n}let r=Av(t,e);for(;r&&yP(r)&&vh(r);)r=Av(r,e);return r&&wo(r)&&vh(r)&&!gm(r)?n:r||xP(t)||n}const MP=async function(t){const e=this.getOffsetParent||R1,n=this.getDimensions,r=await n(t.floating);return{reference:VP(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function LP(t){return Mn(t).direction==="rtl"}const FP={convertOffsetParentRelativeRectToViewportRelativeRect:AP,getDocumentElement:or,getClippingRect:DP,getOffsetParent:R1,getElementRects:MP,getClientRects:IP,getDimensions:OP,getScale:Ji,isElement:Vn,isRTL:LP};function b1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function jP(t,e){let n=null,r;const s=or(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),i();const c=t.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=c;if(l||e(),!m||!p)return;const T=cu(f),w=cu(s.clientWidth-(d+m)),E=cu(s.clientHeight-(f+p)),v=cu(d),_={rootMargin:-T+"px "+-w+"px "+-E+"px "+-v+"px",threshold:Zt(0,Es(1,u))||1};let k=!0;function O(V){const A=V[0].intersectionRatio;if(A!==u){if(!k)return o();A?o(!1,A):r=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!b1(c,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(O,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,_)}n.observe(t)}return o(!0),i}function UP(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=vm(t),d=s||i?[...c?Ja(c):[],...Ja(e)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const f=c&&l?jP(c,n):null;let m=-1,p=null;o&&(p=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(e)})),n()}),c&&!u&&p.observe(c),p.observe(e));let T,w=u?li(t):null;u&&E();function E(){const v=li(t);w&&!b1(w,v)&&n(),w=v,T=requestAnimationFrame(E)}return n(),()=>{var v;d.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,u&&cancelAnimationFrame(T)}}const BP=dP,zP=hP,$P=lP,HP=pP,qP=uP,Iv=aP,WP=fP,QP=(t,e,n)=>{const r=new Map,s={platform:FP,...n},i={...s.platform,_c:r};return oP(t,e,{...s,platform:i})};var GP=typeof document<"u",KP=function(){},Ou=GP?b.useLayoutEffect:KP;function yc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!yc(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!yc(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function P1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Rv(t,e){const n=P1(t);return Math.round(e*n)/n}function wh(t){const e=b.useRef(t);return Ou(()=>{e.current=t}),e}function YP(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:u,open:c}=t,[d,f]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=b.useState(r);yc(m,r)||p(r);const[T,w]=b.useState(null),[E,v]=b.useState(null),y=b.useCallback(F=>{F!==V.current&&(V.current=F,w(F))},[]),_=b.useCallback(F=>{F!==A.current&&(A.current=F,v(F))},[]),k=i||T,O=o||E,V=b.useRef(null),A=b.useRef(null),x=b.useRef(d),I=u!=null,R=wh(u),N=wh(s),D=wh(c),P=b.useCallback(()=>{if(!V.current||!A.current)return;const F={placement:e,strategy:n,middleware:m};N.current&&(F.platform=N.current),QP(V.current,A.current,F).then(z=>{const Q={...z,isPositioned:D.current!==!1};q.current&&!yc(x.current,Q)&&(x.current=Q,yl.flushSync(()=>{f(Q)}))})},[m,e,n,N,D]);Ou(()=>{c===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[c]);const q=b.useRef(!1);Ou(()=>(q.current=!0,()=>{q.current=!1}),[]),Ou(()=>{if(k&&(V.current=k),O&&(A.current=O),k&&O){if(R.current)return R.current(k,O,P);P()}},[k,O,P,R,I]);const le=b.useMemo(()=>({reference:V,floating:A,setReference:y,setFloating:_}),[y,_]),ne=b.useMemo(()=>({reference:k,floating:O}),[k,O]),te=b.useMemo(()=>{const F={position:n,left:0,top:0};if(!ne.floating)return F;const z=Rv(ne.floating,d.x),Q=Rv(ne.floating,d.y);return l?{...F,transform:"translate("+z+"px, "+Q+"px)",...P1(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:Q}},[n,l,ne.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:P,refs:le,elements:ne,floatingStyles:te}),[d,P,le,ne,te])}const XP=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Iv({element:r.current,padding:s}).fn(n):{}:r?Iv({element:r,padding:s}).fn(n):{}}}},JP=(t,e)=>({...BP(t),options:[t,e]}),ZP=(t,e)=>({...zP(t),options:[t,e]}),e2=(t,e)=>({...WP(t),options:[t,e]}),t2=(t,e)=>({...$P(t),options:[t,e]}),n2=(t,e)=>({...HP(t),options:[t,e]}),r2=(t,e)=>({...qP(t),options:[t,e]}),s2=(t,e)=>({...XP(t),options:[t,e]});var i2="Arrow",k1=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return C.jsx(Kt.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:C.jsx("polygon",{points:"0,0 30,0 15,10"})})});k1.displayName=i2;var o2=k1;function a2(t){const[e,n]=b.useState(void 0);return _s(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const u=i.borderBoxSize,c=Array.isArray(u)?u[0]:u;o=c.inlineSize,l=c.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var N1="Popper",[D1,O1]=Jc(N1),[RL,V1]=D1(N1),M1="PopperAnchor",L1=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=V1(M1,n),o=b.useRef(null),l=On(e,o);return b.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:C.jsx(Kt.div,{...s,ref:l})});L1.displayName=M1;var _m="PopperContent",[l2,u2]=D1(_m),F1=b.forwardRef((t,e)=>{var pe,kr,Fn,ln,Yt,jn;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:T,...w}=t,E=V1(_m,n),[v,y]=b.useState(null),_=On(e,un=>y(un)),[k,O]=b.useState(null),V=a2(k),A=(V==null?void 0:V.width)??0,x=(V==null?void 0:V.height)??0,I=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(c)?c:[c],D=N.length>0,P={padding:R,boundary:N.filter(d2),altBoundary:D},{refs:q,floatingStyles:le,placement:ne,isPositioned:te,middlewareData:F}=YP({strategy:"fixed",placement:I,whileElementsMounted:(...un)=>UP(...un,{animationFrame:p==="always"}),elements:{reference:E.anchor},middleware:[JP({mainAxis:s+x,alignmentAxis:o}),u&&ZP({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?e2():void 0,...P}),u&&t2({...P}),n2({...P,apply:({elements:un,rects:Nr,availableWidth:Ns,availableHeight:Ds})=>{const{width:jo,height:Os}=Nr.reference,ar=un.floating.style;ar.setProperty("--radix-popper-available-width",`${Ns}px`),ar.setProperty("--radix-popper-available-height",`${Ds}px`),ar.setProperty("--radix-popper-anchor-width",`${jo}px`),ar.setProperty("--radix-popper-anchor-height",`${Os}px`)}}),k&&s2({element:k,padding:l}),h2({arrowWidth:A,arrowHeight:x}),m&&r2({strategy:"referenceHidden",...P})]}),[z,Q]=B1(ne),ie=ws(T);_s(()=>{te&&(ie==null||ie())},[te,ie]);const X=(pe=F.arrow)==null?void 0:pe.x,Z=(kr=F.arrow)==null?void 0:kr.y,ce=((Fn=F.arrow)==null?void 0:Fn.centerOffset)!==0,[Ae,it]=b.useState();return _s(()=>{v&&it(window.getComputedStyle(v).zIndex)},[v]),C.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:te?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ae,"--radix-popper-transform-origin":[(ln=F.transformOrigin)==null?void 0:ln.x,(Yt=F.transformOrigin)==null?void 0:Yt.y].join(" "),...((jn=F.hide)==null?void 0:jn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:C.jsx(l2,{scope:n,placedSide:z,onArrowChange:O,arrowX:X,arrowY:Z,shouldHideArrow:ce,children:C.jsx(Kt.div,{"data-side":z,"data-align":Q,...w,ref:_,style:{...w.style,animation:te?void 0:"none"}})})})});F1.displayName=_m;var j1="PopperArrow",c2={top:"bottom",right:"left",bottom:"top",left:"right"},U1=b.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=u2(j1,r),o=c2[i.placedSide];return C.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:C.jsx(o2,{...s,ref:n,style:{...s.style,display:"block"}})})});U1.displayName=j1;function d2(t){return t!==null}var h2=t=>({name:"transformOrigin",options:t,fn(e){var E,v,y;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,l=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[c,d]=B1(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,p=(((y=s.arrow)==null?void 0:y.y)??0)+u/2;let T="",w="";return c==="bottom"?(T=o?f:`${m}px`,w=`${-u}px`):c==="top"?(T=o?f:`${m}px`,w=`${r.floating.height+u}px`):c==="right"?(T=`${-u}px`,w=o?f:`${p}px`):c==="left"&&(T=`${r.floating.width+u}px`,w=o?f:`${p}px`),{data:{x:T,y:w}}}});function B1(t){const[e,n="center"]=t.split("-");return[e,n]}var f2=L1,p2=F1,m2=U1,[sd,bL]=Jc("Tooltip",[O1]),Em=O1(),z1="TooltipProvider",g2=700,bv="tooltip.open",[y2,$1]=sd(z1),H1=t=>{const{__scopeTooltip:e,delayDuration:n=g2,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=b.useRef(!0),l=b.useRef(!1),u=b.useRef(0);return b.useEffect(()=>{const c=u.current;return()=>window.clearTimeout(c)},[]),C.jsx(y2,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(c=>{l.current=c},[]),disableHoverableContent:s,children:i})};H1.displayName=z1;var q1="Tooltip",[PL,id]=sd(q1),Lf="TooltipTrigger",v2=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=id(Lf,n),i=$1(Lf,n),o=Em(n),l=b.useRef(null),u=On(e,l,s.onTriggerChange),c=b.useRef(!1),d=b.useRef(!1),f=b.useCallback(()=>c.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),C.jsx(f2,{asChild:!0,...o,children:C.jsx(Kt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:tt(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:tt(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:tt(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:tt(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:tt(t.onBlur,s.onClose),onClick:tt(t.onClick,s.onClose)})})});v2.displayName=Lf;var w2="TooltipPortal",[kL,_2]=sd(w2,{forceMount:void 0}),_o="TooltipContent",W1=b.forwardRef((t,e)=>{const n=_2(_o,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=id(_o,t.__scopeTooltip);return C.jsx(am,{present:r||o.open,children:o.disableHoverableContent?C.jsx(Q1,{side:s,...i,ref:e}):C.jsx(E2,{side:s,...i,ref:e})})}),E2=b.forwardRef((t,e)=>{const n=id(_o,t.__scopeTooltip),r=$1(_o,t.__scopeTooltip),s=b.useRef(null),i=On(e,s),[o,l]=b.useState(null),{trigger:u,onClose:c}=n,d=s.current,{onPointerInTransitChange:f}=r,m=b.useCallback(()=>{l(null),f(!1)},[f]),p=b.useCallback((T,w)=>{const E=T.currentTarget,v={x:T.clientX,y:T.clientY},y=A2(v,E.getBoundingClientRect()),_=I2(v,y),k=R2(w.getBoundingClientRect()),O=P2([..._,...k]);l(O),f(!0)},[f]);return b.useEffect(()=>()=>m(),[m]),b.useEffect(()=>{if(u&&d){const T=E=>p(E,d),w=E=>p(E,u);return u.addEventListener("pointerleave",T),d.addEventListener("pointerleave",w),()=>{u.removeEventListener("pointerleave",T),d.removeEventListener("pointerleave",w)}}},[u,d,p,m]),b.useEffect(()=>{if(o){const T=w=>{const E=w.target,v={x:w.clientX,y:w.clientY},y=(u==null?void 0:u.contains(E))||(d==null?void 0:d.contains(E)),_=!b2(v,o);y?m():_&&(m(),c())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[u,d,o,c,m]),C.jsx(Q1,{...t,ref:i})}),[x2,T2]=sd(q1,{isInside:!1}),S2=NI("TooltipContent"),Q1=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,u=id(_o,n),c=Em(n),{onClose:d}=u;return b.useEffect(()=>(document.addEventListener(bv,d),()=>document.removeEventListener(bv,d)),[d]),b.useEffect(()=>{if(u.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(u.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[u.trigger,d]),C.jsx(om,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:C.jsxs(p2,{"data-state":u.stateAttribute,...c,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[C.jsx(S2,{children:r}),C.jsx(x2,{scope:n,isInside:!0,children:C.jsx(rR,{id:u.contentId,role:"tooltip",children:s||r})})]})})});W1.displayName=_o;var G1="TooltipArrow",C2=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Em(n);return T2(G1,n).isInside?null:C.jsx(m2,{...s,...r,ref:e})});C2.displayName=G1;function A2(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function I2(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function R2(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function b2(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],u=e[o],c=l.x,d=l.y,f=u.x,m=u.y;d>r!=m>r&&n<(f-c)*(r-d)/(m-d)+c&&(s=!s)}return s}function P2(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),k2(e)}function k2(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var N2=H1,K1=W1;const D2=N2,O2=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>C.jsx(K1,{ref:r,sideOffset:e,className:Pt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));O2.displayName=K1.displayName;var od=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ad=typeof window>"u"||"Deno"in globalThis;function Cn(){}function V2(t,e){return typeof t=="function"?t(e):t}function M2(t){return typeof t=="number"&&t>=0&&t!==1/0}function L2(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ff(t,e){return typeof t=="function"?t(e):t}function F2(t,e){return typeof t=="function"?t(e):t}function Pv(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==xm(o,e.options))return!1}else if(!el(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function kv(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Za(e.options.mutationKey)!==Za(i))return!1}else if(!el(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function xm(t,e){return((e==null?void 0:e.queryKeyHashFn)||Za)(t)}function Za(t){return JSON.stringify(t,(e,n)=>jf(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function el(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>el(t[n],e[n])):!1}function Y1(t,e){if(t===e)return t;const n=Nv(t)&&Nv(e);if(n||jf(t)&&jf(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,l=n?[]:{},u=new Set(r);let c=0;for(let d=0;d<o;d++){const f=n?d:i[d];(!n&&u.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,c++):(l[f]=Y1(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&c++)}return s===o&&c===s?t:l}return e}function Nv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function jf(t){if(!Dv(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Dv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Dv(t){return Object.prototype.toString.call(t)==="[object Object]"}function j2(t){return new Promise(e=>{setTimeout(e,t)})}function U2(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Y1(t,e):e}function B2(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function z2(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Tm=Symbol();function X1(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Tm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Gs,Gr,ro,u_,$2=(u_=class extends od{constructor(){super();_e(this,Gs);_e(this,Gr);_e(this,ro);ae(this,ro,e=>{if(!ad&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){j(this,Gr)||this.setEventListener(j(this,ro))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,Gr))==null||e.call(this),ae(this,Gr,void 0))}setEventListener(e){var n;ae(this,ro,e),(n=j(this,Gr))==null||n.call(this),ae(this,Gr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){j(this,Gs)!==e&&(ae(this,Gs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof j(this,Gs)=="boolean"?j(this,Gs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Gs=new WeakMap,Gr=new WeakMap,ro=new WeakMap,u_),J1=new $2,so,Kr,io,c_,H2=(c_=class extends od{constructor(){super();_e(this,so,!0);_e(this,Kr);_e(this,io);ae(this,io,e=>{if(!ad&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){j(this,Kr)||this.setEventListener(j(this,io))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,Kr))==null||e.call(this),ae(this,Kr,void 0))}setEventListener(e){var n;ae(this,io,e),(n=j(this,Kr))==null||n.call(this),ae(this,Kr,e(this.setOnline.bind(this)))}setOnline(e){j(this,so)!==e&&(ae(this,so,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return j(this,so)}},so=new WeakMap,Kr=new WeakMap,io=new WeakMap,c_),vc=new H2;function q2(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function W2(t){return Math.min(1e3*2**t,3e4)}function Z1(t){return(t??"online")==="online"?vc.isOnline():!0}var ex=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function _h(t){return t instanceof ex}function tx(t){let e=!1,n=0,r=!1,s;const i=q2(),o=w=>{var E;r||(m(new ex(w)),(E=t.abort)==null||E.call(t))},l=()=>{e=!0},u=()=>{e=!1},c=()=>J1.isFocused()&&(t.networkMode==="always"||vc.isOnline())&&t.canRun(),d=()=>Z1(t.networkMode)&&t.canRun(),f=w=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,w),s==null||s(),i.resolve(w))},m=w=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,w),s==null||s(),i.reject(w))},p=()=>new Promise(w=>{var E;s=v=>{(r||c())&&w(v)},(E=t.onPause)==null||E.call(t)}).then(()=>{var w;s=void 0,r||(w=t.onContinue)==null||w.call(t)}),T=()=>{if(r)return;let w;const E=n===0?t.initialPromise:void 0;try{w=E??t.fn()}catch(v){w=Promise.reject(v)}Promise.resolve(w).then(f).catch(v=>{var V;if(r)return;const y=t.retry??(ad?0:3),_=t.retryDelay??W2,k=typeof _=="function"?_(n,v):_,O=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(e||!O){m(v);return}n++,(V=t.onFail)==null||V.call(t,n,v),j2(k).then(()=>c()?void 0:p()).then(()=>{e?m(v):T()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:u,canStart:d,start:()=>(d()?T():p().then(T),i)}}var Q2=t=>setTimeout(t,0);function G2(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=Q2;const i=l=>{e?t.push(l):s(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||o()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Vt=G2(),Ks,d_,nx=(d_=class{constructor(){_e(this,Ks)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),M2(this.gcTime)&&ae(this,Ks,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ad?1/0:5*60*1e3))}clearGcTimeout(){j(this,Ks)&&(clearTimeout(j(this,Ks)),ae(this,Ks,void 0))}},Ks=new WeakMap,d_),oo,Ys,dn,Xs,Ct,cl,Js,An,fr,h_,K2=(h_=class extends nx{constructor(n){super();_e(this,An);_e(this,oo);_e(this,Ys);_e(this,dn);_e(this,Xs);_e(this,Ct);_e(this,cl);_e(this,Js);ae(this,Js,!1),ae(this,cl,n.defaultOptions),this.setOptions(n.options),this.observers=[],ae(this,Xs,n.client),ae(this,dn,j(this,Xs).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ae(this,oo,X2(this.options)),this.state=n.state??j(this,oo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=j(this,Ct))==null?void 0:n.promise}setOptions(n){this.options={...j(this,cl),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&j(this,dn).remove(this)}setData(n,r){const s=U2(this.state.data,n,this.options);return Et(this,An,fr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Et(this,An,fr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=j(this,Ct))==null?void 0:s.promise;return(i=j(this,Ct))==null||i.cancel(n),r?r.then(Cn).catch(Cn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(j(this,oo))}isActive(){return this.observers.some(n=>F2(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Tm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Ff(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!L2(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=j(this,Ct))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=j(this,Ct))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),j(this,dn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(j(this,Ct)&&(j(this,Js)?j(this,Ct).cancel({revert:!0}):j(this,Ct).cancelRetry()),this.scheduleGc()),j(this,dn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Et(this,An,fr).call(this,{type:"invalidate"})}fetch(n,r){var d,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(j(this,Ct))return j(this,Ct).continueRetry(),j(this,Ct).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(T=>T.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(ae(this,Js,!0),s.signal)})},o=()=>{const p=X1(this.options,r),w=(()=>{const E={client:j(this,Xs),queryKey:this.queryKey,meta:this.meta};return i(E),E})();return ae(this,Js,!1),this.options.persister?this.options.persister(p,w,this):p(w)},u=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:j(this,Xs),state:this.state,fetchFn:o};return i(p),p})();(d=this.options.behavior)==null||d.onFetch(u,this),ae(this,Ys,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=u.fetchOptions)==null?void 0:f.meta))&&Et(this,An,fr).call(this,{type:"fetch",meta:(m=u.fetchOptions)==null?void 0:m.meta});const c=p=>{var T,w,E,v;_h(p)&&p.silent||Et(this,An,fr).call(this,{type:"error",error:p}),_h(p)||((w=(T=j(this,dn).config).onError)==null||w.call(T,p,this),(v=(E=j(this,dn).config).onSettled)==null||v.call(E,this.state.data,p,this)),this.scheduleGc()};return ae(this,Ct,tx({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var T,w,E,v;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(y){c(y);return}(w=(T=j(this,dn).config).onSuccess)==null||w.call(T,p,this),(v=(E=j(this,dn).config).onSettled)==null||v.call(E,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,T)=>{Et(this,An,fr).call(this,{type:"failed",failureCount:p,error:T})},onPause:()=>{Et(this,An,fr).call(this,{type:"pause"})},onContinue:()=>{Et(this,An,fr).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),j(this,Ct).start()}},oo=new WeakMap,Ys=new WeakMap,dn=new WeakMap,Xs=new WeakMap,Ct=new WeakMap,cl=new WeakMap,Js=new WeakMap,An=new WeakSet,fr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Y2(s.data,this.options),fetchMeta:n.meta??null};case"success":return ae(this,Ys,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return _h(i)&&i.revert&&j(this,Ys)?{...j(this,Ys),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Vt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),j(this,dn).notify({query:this,type:"updated",action:n})})},h_);function Y2(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Z1(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function X2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Hn,f_,J2=(f_=class extends od{constructor(e={}){super();_e(this,Hn);this.config=e,ae(this,Hn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??xm(s,n);let o=this.get(i);return o||(o=new K2({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){j(this,Hn).has(e.queryHash)||(j(this,Hn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=j(this,Hn).get(e.queryHash);n&&(e.destroy(),n===e&&j(this,Hn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Vt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return j(this,Hn).get(e)}getAll(){return[...j(this,Hn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Pv(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Pv(e,r)):n}notify(e){Vt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Vt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Vt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Hn=new WeakMap,f_),qn,Nt,Zs,Wn,zr,p_,Z2=(p_=class extends nx{constructor(n){super();_e(this,Wn);_e(this,qn);_e(this,Nt);_e(this,Zs);this.mutationId=n.mutationId,ae(this,Nt,n.mutationCache),ae(this,qn,[]),this.state=n.state||ek(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){j(this,qn).includes(n)||(j(this,qn).push(n),this.clearGcTimeout(),j(this,Nt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ae(this,qn,j(this,qn).filter(r=>r!==n)),this.scheduleGc(),j(this,Nt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){j(this,qn).length||(this.state.status==="pending"?this.scheduleGc():j(this,Nt).remove(this))}continue(){var n;return((n=j(this,Zs))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,l,u,c,d,f,m,p,T,w,E,v,y,_,k,O,V,A,x,I;const r=()=>{Et(this,Wn,zr).call(this,{type:"continue"})};ae(this,Zs,tx({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,N)=>{Et(this,Wn,zr).call(this,{type:"failed",failureCount:R,error:N})},onPause:()=>{Et(this,Wn,zr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>j(this,Nt).canRun(this)}));const s=this.state.status==="pending",i=!j(this,Zs).canStart();try{if(s)r();else{Et(this,Wn,zr).call(this,{type:"pending",variables:n,isPaused:i}),await((l=(o=j(this,Nt).config).onMutate)==null?void 0:l.call(o,n,this));const N=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,n));N!==this.state.context&&Et(this,Wn,zr).call(this,{type:"pending",context:N,variables:n,isPaused:i})}const R=await j(this,Zs).start();return await((f=(d=j(this,Nt).config).onSuccess)==null?void 0:f.call(d,R,n,this.state.context,this)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,R,n,this.state.context)),await((w=(T=j(this,Nt).config).onSettled)==null?void 0:w.call(T,R,null,this.state.variables,this.state.context,this)),await((v=(E=this.options).onSettled)==null?void 0:v.call(E,R,null,n,this.state.context)),Et(this,Wn,zr).call(this,{type:"success",data:R}),R}catch(R){try{throw await((_=(y=j(this,Nt).config).onError)==null?void 0:_.call(y,R,n,this.state.context,this)),await((O=(k=this.options).onError)==null?void 0:O.call(k,R,n,this.state.context)),await((A=(V=j(this,Nt).config).onSettled)==null?void 0:A.call(V,void 0,R,this.state.variables,this.state.context,this)),await((I=(x=this.options).onSettled)==null?void 0:I.call(x,void 0,R,n,this.state.context)),R}finally{Et(this,Wn,zr).call(this,{type:"error",error:R})}}finally{j(this,Nt).runNext(this)}}},qn=new WeakMap,Nt=new WeakMap,Zs=new WeakMap,Wn=new WeakSet,zr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Vt.batch(()=>{j(this,qn).forEach(s=>{s.onMutationUpdate(n)}),j(this,Nt).notify({mutation:this,type:"updated",action:n})})},p_);function ek(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gr,In,dl,m_,tk=(m_=class extends od{constructor(e={}){super();_e(this,gr);_e(this,In);_e(this,dl);this.config=e,ae(this,gr,new Set),ae(this,In,new Map),ae(this,dl,0)}build(e,n,r){const s=new Z2({mutationCache:this,mutationId:++$l(this,dl)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){j(this,gr).add(e);const n=du(e);if(typeof n=="string"){const r=j(this,In).get(n);r?r.push(e):j(this,In).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(j(this,gr).delete(e)){const n=du(e);if(typeof n=="string"){const r=j(this,In).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&j(this,In).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=du(e);if(typeof n=="string"){const r=j(this,In).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=du(e);if(typeof n=="string"){const s=(r=j(this,In).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Vt.batch(()=>{j(this,gr).forEach(e=>{this.notify({type:"removed",mutation:e})}),j(this,gr).clear(),j(this,In).clear()})}getAll(){return Array.from(j(this,gr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>kv(n,r))}findAll(e={}){return this.getAll().filter(n=>kv(e,n))}notify(e){Vt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Vt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Cn))))}},gr=new WeakMap,In=new WeakMap,dl=new WeakMap,m_);function du(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Ov(t){return{onFetch:(e,n)=>{var d,f,m,p,T;const r=e.options,s=(m=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((T=e.state.data)==null?void 0:T.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const c=async()=>{let w=!1;const E=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},v=X1(e.options,e.fetchOptions),y=async(_,k,O)=>{if(w)return Promise.reject();if(k==null&&_.pages.length)return Promise.resolve(_);const A=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:k,direction:O?"backward":"forward",meta:e.options.meta};return E(N),N})(),x=await v(A),{maxPages:I}=e.options,R=O?z2:B2;return{pages:R(_.pages,x,I),pageParams:R(_.pageParams,k,I)}};if(s&&i.length){const _=s==="backward",k=_?nk:Vv,O={pages:i,pageParams:o},V=k(r,O);l=await y(O,V,_)}else{const _=t??i.length;do{const k=u===0?o[0]??r.initialPageParam:Vv(r,l);if(u>0&&k==null)break;l=await y(l,k),u++}while(u<_)}return l};e.options.persister?e.fetchFn=()=>{var w,E;return(E=(w=e.options).persister)==null?void 0:E.call(w,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function Vv(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function nk(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var $e,Yr,Xr,ao,lo,Jr,uo,co,g_,rk=(g_=class{constructor(t={}){_e(this,$e);_e(this,Yr);_e(this,Xr);_e(this,ao);_e(this,lo);_e(this,Jr);_e(this,uo);_e(this,co);ae(this,$e,t.queryCache||new J2),ae(this,Yr,t.mutationCache||new tk),ae(this,Xr,t.defaultOptions||{}),ae(this,ao,new Map),ae(this,lo,new Map),ae(this,Jr,0)}mount(){$l(this,Jr)._++,j(this,Jr)===1&&(ae(this,uo,J1.subscribe(async t=>{t&&(await this.resumePausedMutations(),j(this,$e).onFocus())})),ae(this,co,vc.subscribe(async t=>{t&&(await this.resumePausedMutations(),j(this,$e).onOnline())})))}unmount(){var t,e;$l(this,Jr)._--,j(this,Jr)===0&&((t=j(this,uo))==null||t.call(this),ae(this,uo,void 0),(e=j(this,co))==null||e.call(this),ae(this,co,void 0))}isFetching(t){return j(this,$e).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return j(this,Yr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=j(this,$e).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=j(this,$e).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Ff(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return j(this,$e).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=j(this,$e).get(r.queryHash),i=s==null?void 0:s.state.data,o=V2(e,i);if(o!==void 0)return j(this,$e).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Vt.batch(()=>j(this,$e).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=j(this,$e).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=j(this,$e);Vt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=j(this,$e);return Vt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Vt.batch(()=>j(this,$e).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Cn).catch(Cn)}invalidateQueries(t,e={}){return Vt.batch(()=>(j(this,$e).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Vt.batch(()=>j(this,$e).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Cn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Cn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=j(this,$e).build(this,e);return n.isStaleByTime(Ff(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Cn).catch(Cn)}fetchInfiniteQuery(t){return t.behavior=Ov(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Cn).catch(Cn)}ensureInfiniteQueryData(t){return t.behavior=Ov(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return vc.isOnline()?j(this,Yr).resumePausedMutations():Promise.resolve()}getQueryCache(){return j(this,$e)}getMutationCache(){return j(this,Yr)}getDefaultOptions(){return j(this,Xr)}setDefaultOptions(t){ae(this,Xr,t)}setQueryDefaults(t,e){j(this,ao).set(Za(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...j(this,ao).values()],n={};return e.forEach(r=>{el(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){j(this,lo).set(Za(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...j(this,lo).values()],n={};return e.forEach(r=>{el(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...j(this,Xr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=xm(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Tm&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...j(this,Xr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){j(this,$e).clear(),j(this,Yr).clear()}},$e=new WeakMap,Yr=new WeakMap,Xr=new WeakMap,ao=new WeakMap,lo=new WeakMap,Jr=new WeakMap,uo=new WeakMap,co=new WeakMap,g_),sk=b.createContext(void 0),ik=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),C.jsx(sk.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wc(){return wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wc.apply(this,arguments)}var ts;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ts||(ts={}));const Mv="popstate";function ok(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return Uf("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:sx(s)}return lk(e,n,null,t)}function Gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ak(){return Math.random().toString(36).substr(2,8)}function Lv(t,e){return{usr:t.state,key:t.key,idx:e}}function Uf(t,e,n,r){return n===void 0&&(n=null),wc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ld(e):e,{state:n,key:e&&e.key||r||ak()})}function sx(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ld(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function lk(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=ts.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(wc({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=ts.Pop;let E=d(),v=E==null?null:E-c;c=E,u&&u({action:l,location:w.location,delta:v})}function m(E,v){l=ts.Push;let y=Uf(w.location,E,v);c=d()+1;let _=Lv(y,c),k=w.createHref(y);try{o.pushState(_,"",k)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(k)}i&&u&&u({action:l,location:w.location,delta:1})}function p(E,v){l=ts.Replace;let y=Uf(w.location,E,v);c=d();let _=Lv(y,c),k=w.createHref(y);o.replaceState(_,"",k),i&&u&&u({action:l,location:w.location,delta:0})}function T(E){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof E=="string"?E:sx(E);return y=y.replace(/ $/,"%20"),Gt(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let w={get action(){return l},get location(){return t(s,o)},listen(E){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Mv,f),u=E,()=>{s.removeEventListener(Mv,f),u=null}},createHref(E){return e(s,E)},createURL:T,encodeLocation(E){let v=T(E);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:p,go(E){return o.go(E)}};return w}var Fv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Fv||(Fv={}));function uk(t,e,n){return n===void 0&&(n="/"),ck(t,e,n)}function ck(t,e,n,r){let s=typeof e=="string"?ld(e):e,i=ax(s.pathname||"/",n);if(i==null)return null;let o=ix(t);dk(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=Tk(i);l=_k(o[u],c)}return l}function ix(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(Gt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Zi([r,u.relativePath]),d=n.concat(u);i.children&&i.children.length>0&&(Gt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ix(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:vk(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let u of ox(i.path))s(i,o,u)}),e}function ox(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=ox(r.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function dk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hk=/^:[\w-]+$/,fk=3,pk=2,mk=1,gk=10,yk=-2,jv=t=>t==="*";function vk(t,e){let n=t.split("/"),r=n.length;return n.some(jv)&&(r+=yk),e&&(r+=pk),n.filter(s=>!jv(s)).reduce((s,i)=>s+(hk.test(i)?fk:i===""?mk:gk),r)}function wk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function _k(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=Ek({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Zi([i,f.pathname]),pathnameBase:Sk(Zi([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Zi([i,f.pathnameBase]))}return o}function Ek(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=xk(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let w=l[f]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const T=l[f];return p&&!T?c[m]=void 0:c[m]=(T||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function xk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),rx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Tk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ax(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Zi=t=>t.join("/").replace(/\/\/+/g,"/"),Sk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function Ck(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const lx=["post","put","patch","delete"];new Set(lx);const Ak=["get",...lx];new Set(Ak);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _c(){return _c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_c.apply(this,arguments)}const Ik=b.createContext(null),Rk=b.createContext(null),ux=b.createContext(null),ud=b.createContext(null),cd=b.createContext({outlet:null,matches:[],isDataRoute:!1}),cx=b.createContext(null);function Sm(){return b.useContext(ud)!=null}function dx(){return Sm()||Gt(!1),b.useContext(ud).location}function bk(t,e){return Pk(t,e)}function Pk(t,e,n,r){Sm()||Gt(!1);let{navigator:s}=b.useContext(ux),{matches:i}=b.useContext(cd),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=dx(),d;if(e){var f;let E=typeof e=="string"?ld(e):e;u==="/"||(f=E.pathname)!=null&&f.startsWith(u)||Gt(!1),d=E}else d=c;let m=d.pathname||"/",p=m;if(u!=="/"){let E=u.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(E.length).join("/")}let T=uk(t,{pathname:p}),w=Vk(T&&T.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:Zi([u,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:Zi([u,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&w?b.createElement(ud.Provider,{value:{location:_c({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ts.Pop}},w):w}function kk(){let t=jk(),e=Ck(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,null)}const Nk=b.createElement(kk,null);class Dk extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(cd.Provider,{value:this.props.routeContext},b.createElement(cx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ok(t){let{routeContext:e,match:n,children:r}=t,s=b.useContext(Ik);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(cd.Provider,{value:e},r)}function Vk(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Gt(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:p}=n,T=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||T){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let p,T=!1,w=null,E=null;n&&(p=l&&f.route.id?l[f.route.id]:void 0,w=f.route.errorElement||Nk,u&&(c<0&&m===0?(Uk("route-fallback"),T=!0,E=null):c===m&&(T=!0,E=f.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,m+1)),y=()=>{let _;return p?_=w:T?_=E:f.route.Component?_=b.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,b.createElement(Ok,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?b.createElement(Dk,{location:n.location,revalidation:n.revalidation,component:w,error:p,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var hx=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(hx||{});function Mk(t){let e=b.useContext(Rk);return e||Gt(!1),e}function Lk(t){let e=b.useContext(cd);return e||Gt(!1),e}function Fk(t){let e=Lk(),n=e.matches[e.matches.length-1];return n.route.id||Gt(!1),n.route.id}function jk(){var t;let e=b.useContext(cx),n=Mk(hx.UseRouteError),r=Fk();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}const Uv={};function Uk(t,e,n){Uv[t]||(Uv[t]=!0)}function Bk(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Bf(t){Gt(!1)}function zk(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ts.Pop,navigator:i,static:o=!1,future:l}=t;Sm()&&Gt(!1);let u=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:u,navigator:i,static:o,future:_c({v7_relativeSplatPath:!1},l)}),[u,l,i,o]);typeof r=="string"&&(r=ld(r));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:T="default"}=r,w=b.useMemo(()=>{let E=ax(d,u);return E==null?null:{location:{pathname:E,search:f,hash:m,state:p,key:T},navigationType:s}},[u,d,f,m,p,T,s]);return w==null?null:b.createElement(ux.Provider,{value:c},b.createElement(ud.Provider,{children:n,value:w}))}function $k(t){let{children:e,location:n}=t;return bk(zf(e),n)}new Promise(()=>{});function zf(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let i=[...e,s];if(r.type===b.Fragment){n.push.apply(n,zf(r.props.children,i));return}r.type!==Bf&&Gt(!1),!r.props.index||!r.props.children||Gt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=zf(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Hk="6";try{window.__reactRouterVersion=Hk}catch{}const qk="startTransition",Bv=R_[qk];function Wk(t){let{basename:e,children:n,future:r,window:s}=t,i=b.useRef();i.current==null&&(i.current=ok({window:s,v5Compat:!0}));let o=i.current,[l,u]=b.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=b.useCallback(f=>{c&&Bv?Bv(()=>u(f)):u(f)},[u,c]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>Bk(r),[r]),b.createElement(zk,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var zv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(zv||(zv={}));var $v;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($v||($v={}));const Qk=dm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-smooth focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-soft",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-soft",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-soft",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",primary:"bg-gradient-primary text-primary-foreground hover:shadow-medium shadow-soft transform transition-bounce hover:scale-[1.02] active:scale-[0.98]",success:"bg-gradient-success text-success-foreground hover:shadow-medium shadow-soft transform transition-bounce hover:scale-[1.02] active:scale-[0.98]",capture:"bg-gradient-primary text-primary-foreground hover:shadow-strong shadow-medium transform transition-bounce hover:scale-[1.05] active:scale-[0.95] font-semibold"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ie=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?PI:"button";return C.jsx(o,{className:Pt(Qk({variant:e,size:n,className:t})),ref:i,...s})});Ie.displayName="Button";const fx=b.forwardRef(({className:t,type:e,...n},r)=>C.jsx("input",{type:e,className:Pt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));fx.displayName="Input";const Ot=b.forwardRef(({className:t,...e},n)=>C.jsx("div",{ref:n,className:Pt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ot.displayName="Card";const Gk=b.forwardRef(({className:t,...e},n)=>C.jsx("div",{ref:n,className:Pt("flex flex-col space-y-1.5 p-6",t),...e}));Gk.displayName="CardHeader";const Kk=b.forwardRef(({className:t,...e},n)=>C.jsx("h3",{ref:n,className:Pt("text-2xl font-semibold leading-none tracking-tight",t),...e}));Kk.displayName="CardTitle";const Yk=b.forwardRef(({className:t,...e},n)=>C.jsx("p",{ref:n,className:Pt("text-sm text-muted-foreground",t),...e}));Yk.displayName="CardDescription";const Xk=b.forwardRef(({className:t,...e},n)=>C.jsx("div",{ref:n,className:Pt("p-6 pt-0",t),...e}));Xk.displayName="CardContent";const Jk=b.forwardRef(({className:t,...e},n)=>C.jsx("div",{ref:n,className:Pt("flex items-center p-6 pt-0",t),...e}));Jk.displayName="CardFooter";const Zk=({onAuthenticated:t})=>{const[e,n]=b.useState(""),[r,s]=b.useState(!1),i=async o=>{if(o.preventDefault(),!e.trim()){Ye({title:"Name Required",description:"Please enter the customer name to continue.",variant:"destructive"});return}s(!0),setTimeout(()=>{e.trim().length>=2?(t(e),Ye({title:"Access Granted",description:"Welcome to customer photo system.",variant:"default"})):Ye({title:"Invalid Name",description:"Please enter a valid customer name and try again.",variant:"destructive"}),s(!1)},1500)};return C.jsx("div",{className:"min-h-screen bg-gradient-background flex items-center justify-center p-4",children:C.jsxs(Ot,{className:"w-full max-w-md p-8 shadow-strong",children:[C.jsxs("div",{className:"text-center mb-8",children:[C.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-gradient-primary rounded-full flex items-center justify-center shadow-medium",children:C.jsx(kR,{className:"h-8 w-8 text-primary-foreground"})}),C.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Customer Photo System"}),C.jsx("p",{className:"text-muted-foreground",children:"Capture customer photos with location data"})]}),C.jsxs("form",{onSubmit:i,className:"space-y-6",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx("label",{htmlFor:"customer-name",className:"text-sm font-medium text-foreground",children:"Customer Name"}),C.jsxs("div",{className:"relative",children:[C.jsx(bR,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),C.jsx(fx,{id:"customer-name",type:"text",placeholder:"Enter customer name",value:e,onChange:o=>n(o.target.value),className:"pl-10",disabled:r,autoComplete:"off"})]})]}),C.jsx(Ie,{type:"submit",variant:"primary",size:"lg",className:"w-full",disabled:r,children:r?C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-foreground mr-2"}),"Validating..."]}):"Access System"})]}),C.jsx("div",{className:"mt-6 text-center",children:C.jsx("p",{className:"text-xs text-muted-foreground",children:"Authorized personnel only • Data retained for 24h only"})})]})})},eN=({onCapture:t,disabled:e})=>{const n=b.useRef(null),r=b.useRef(null),s=b.useRef(null),[i,o]=b.useState(null),[l,u]=b.useState(!1),[c,d]=b.useState(null),[f,m]=b.useState(""),[p,T]=b.useState("camera");b.useEffect(()=>(w(),()=>{E()}),[]);const w=async()=>{try{m("");const O=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:640},height:{ideal:480}}});n.current&&(n.current.srcObject=O,o(O),u(!0))}catch{const V="Camera access denied. Please allow camera permissions and refresh.";m(V),Ye({title:"Camera Error",description:V,variant:"destructive"})}},E=()=>{i&&(i.getTracks().forEach(O=>O.stop()),o(null),u(!1))},v=()=>{if(!n.current||!r.current)return;const O=n.current,V=r.current,A=V.getContext("2d");A&&(V.width=O.videoWidth,V.height=O.videoHeight,A.drawImage(O,0,0),V.toBlob(x=>{if(x){const I=V.toDataURL("image/jpeg",.8);d(I),E(),t(x)}},"image/jpeg",.8))},y=O=>{var x;const V=(x=O.target.files)==null?void 0:x[0];if(!V)return;if(!V.type.startsWith("image/")){Ye({title:"Invalid File",description:"Please select an image file (JPG, PNG, etc.)",variant:"destructive"});return}if(V.size>10*1024*1024){Ye({title:"File Too Large",description:"Please select an image smaller than 10MB",variant:"destructive"});return}const A=new FileReader;A.onload=I=>{var N;const R=(N=I.target)==null?void 0:N.result;d(R),E(),t(V)},A.readAsDataURL(V)},_=()=>{var O;(O=s.current)==null||O.click()},k=()=>{d(null),p==="camera"&&w(),s.current&&(s.current.value="")};return f?C.jsxs(Ot,{className:"p-6 text-center bg-destructive/10 border-destructive/20",children:[C.jsx(gh,{className:"mx-auto mb-4 h-12 w-12 text-destructive"}),C.jsx("p",{className:"text-destructive font-medium mb-4",children:f}),C.jsx(Ie,{onClick:w,variant:"outline",children:"Try Again"})]}):C.jsxs(Ot,{className:"overflow-hidden bg-gradient-primary shadow-medium",children:[C.jsxs("div",{className:"relative aspect-[4/3] bg-card",children:[c?C.jsx("img",{src:c,alt:"Captured photo",className:"w-full h-full object-cover"}):p==="camera"?C.jsx("video",{ref:n,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"}):C.jsx("div",{className:"w-full h-full flex items-center justify-center bg-muted",children:C.jsxs("div",{className:"text-center",children:[C.jsx(hc,{className:"mx-auto h-16 w-16 text-muted-foreground mb-4"}),C.jsx("p",{className:"text-muted-foreground",children:"Select an image from gallery"})]})}),!c&&l&&p==="camera"&&C.jsx("div",{className:"absolute inset-0 border-4 border-primary/20 rounded-lg",children:C.jsx("div",{className:"absolute top-4 left-4 right-4 bg-primary/90 text-primary-foreground px-3 py-2 rounded-md text-sm font-medium text-center",children:"Position the subject in the center"})})]}),C.jsx("div",{className:"p-4 bg-card space-y-3",children:c?C.jsxs("div",{className:"flex gap-3",children:[C.jsxs(Ie,{onClick:k,variant:"outline",className:"flex-1",disabled:e,children:[C.jsx(PR,{className:"mr-2 h-4 w-4"}),"Retake"]}),C.jsxs(Ie,{variant:"success",className:"flex-1",disabled:e,children:[C.jsx(l1,{className:"mr-2 h-4 w-4"}),"Use Photo"]})]}):C.jsxs("div",{className:"space-y-3",children:[C.jsxs("div",{className:"flex gap-2",children:[C.jsxs(Ie,{onClick:()=>{T("camera"),w()},variant:p==="camera"?"default":"outline",size:"sm",className:"flex-1",children:[C.jsx(gh,{className:"mr-2 h-4 w-4"}),"Camera"]}),C.jsxs(Ie,{onClick:()=>{T("upload"),E()},variant:p==="upload"?"default":"outline",size:"sm",className:"flex-1",children:[C.jsx(u1,{className:"mr-2 h-4 w-4"}),"Gallery"]})]}),p==="camera"?C.jsxs(Ie,{onClick:v,disabled:!l||e,variant:"capture",size:"lg",className:"w-full",children:[C.jsx(gh,{className:"mr-2 h-5 w-5"}),"Take Photo"]}):C.jsxs(Ie,{onClick:_,disabled:e,variant:"capture",size:"lg",className:"w-full",children:[C.jsx(hc,{className:"mr-2 h-5 w-5"}),"Select from Gallery"]})]})}),C.jsx("canvas",{ref:r,className:"hidden"}),C.jsx("input",{ref:s,type:"file",accept:"image/*",onChange:y,className:"hidden"})]})},tN=({onLocationCapture:t,disabled:e})=>{const[n,r]=b.useState(null),[s,i]=b.useState(!1),[o,l]=b.useState("");b.useEffect(()=>{u()},[]);const u=()=>{if(!navigator.geolocation){const f="Geolocation is not supported by this browser.";l(f),Ye({title:"Location Error",description:f,variant:"destructive"});return}i(!0),l(""),navigator.geolocation.getCurrentPosition(f=>{const m={latitude:f.coords.latitude,longitude:f.coords.longitude,accuracy:f.coords.accuracy,timestamp:Date.now()};r(m),i(!1),t(m),Ye({title:"Location Captured",description:"Your location has been successfully captured.",variant:"default"})},f=>{let m="Unable to retrieve your location.";switch(f.code){case f.PERMISSION_DENIED:m="Location access denied. Please allow location permissions.";break;case f.POSITION_UNAVAILABLE:m="Location information is unavailable.";break;case f.TIMEOUT:m="Location request timed out. Please try again.";break}l(m),i(!1),Ye({title:"Location Error",description:m,variant:"destructive"})},{enableHighAccuracy:!0,timeout:15e3,maximumAge:6e4})},c=(f,m)=>`${f.toFixed(6)}°, ${m.toFixed(6)}°`,d=f=>f<1e3?`±${Math.round(f)}m`:`±${(f/1e3).toFixed(1)}km`;return o?C.jsx(Ot,{className:"p-6 bg-destructive/10 border-destructive/20",children:C.jsxs("div",{className:"text-center",children:[C.jsx(AR,{className:"mx-auto mb-4 h-12 w-12 text-destructive"}),C.jsx("p",{className:"text-destructive font-medium mb-4",children:o}),C.jsxs(Ie,{onClick:u,variant:"outline",disabled:e,children:[C.jsx(fc,{className:"mr-2 h-4 w-4"}),"Try Again"]})]})}):C.jsx(Ot,{className:"p-6 bg-gradient-background shadow-soft",children:C.jsxs("div",{className:"text-center",children:[C.jsx(kf,{className:"mx-auto mb-4 h-12 w-12 text-primary"}),s?C.jsx("div",{className:"space-y-4",children:C.jsxs("div",{className:"animate-pulse-slow",children:[C.jsx("p",{className:"font-medium text-foreground",children:"Getting your location..."}),C.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"This may take a moment"})]})}):n?C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"bg-success/10 border border-success/20 rounded-lg p-4",children:[C.jsxs("div",{className:"flex items-center justify-center mb-2",children:[C.jsx(l1,{className:"h-5 w-5 text-success mr-2"}),C.jsx("span",{className:"font-medium text-success",children:"Location Captured"})]}),C.jsxs("div",{className:"text-sm space-y-2 text-left",children:[C.jsxs("div",{className:"flex justify-between",children:[C.jsx("span",{className:"text-muted-foreground",children:"Coordinates:"}),C.jsx("span",{className:"font-mono",children:c(n.latitude,n.longitude)})]}),C.jsxs("div",{className:"flex justify-between",children:[C.jsx("span",{className:"text-muted-foreground",children:"Accuracy:"}),C.jsx("span",{className:"font-mono",children:d(n.accuracy)})]}),C.jsxs("div",{className:"flex justify-between",children:[C.jsx("span",{className:"text-muted-foreground",children:"Time:"}),C.jsx("span",{className:"font-mono",children:new Date(n.timestamp).toLocaleTimeString()})]})]})]}),C.jsxs(Ie,{onClick:u,variant:"outline",size:"sm",disabled:e,children:[C.jsx(fc,{className:"mr-2 h-4 w-4"}),"Update Location"]})]}):C.jsxs("div",{className:"space-y-4",children:[C.jsx("p",{className:"font-medium text-foreground",children:"Location Required"}),C.jsx("p",{className:"text-sm text-muted-foreground",children:"We need your current location to verify your check-in"}),C.jsxs(Ie,{onClick:u,variant:"primary",disabled:e,children:[C.jsx(kf,{className:"mr-2 h-4 w-4"}),"Get Location"]})]})]})})},nN=dm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Hv({className:t,variant:e,...n}){return C.jsx("div",{className:Pt(nN({variant:e}),t),...n})}class rN{constructor(){Jo(this,"dbName","SelfieCheckinDB");Jo(this,"dbVersion",1);Jo(this,"imageStoreName","images");Jo(this,"db",null)}async initDB(){return new Promise((e,n)=>{const r=indexedDB.open(this.dbName,this.dbVersion);r.onerror=()=>n(r.error),r.onsuccess=()=>{this.db=r.result,e()},r.onupgradeneeded=s=>{const i=s.target.result;i.objectStoreNames.contains(this.imageStoreName)||i.createObjectStore(this.imageStoreName,{keyPath:"id"}).createIndex("timestamp","timestamp",{unique:!1})}})}async storeImage(e){this.db||await this.initDB();const n=`img_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,r={id:n,blob:e,timestamp:Date.now()};return new Promise((s,i)=>{const u=this.db.transaction([this.imageStoreName],"readwrite").objectStore(this.imageStoreName).add(r);u.onsuccess=()=>s(n),u.onerror=()=>i(u.error)})}async getImage(e){return this.db||await this.initDB(),new Promise((n,r)=>{const o=this.db.transaction([this.imageStoreName],"readonly").objectStore(this.imageStoreName).get(e);o.onsuccess=()=>{const l=o.result;n(l?l.blob:null)},o.onerror=()=>r(o.error)})}storeCheckin(e){const n=`checkin_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,r={id:n,...e},s=this.getAllCheckins();return s.push(r),localStorage.setItem("selfie_checkins",JSON.stringify(s)),n}getAllCheckins(){const e=localStorage.getItem("selfie_checkins");return e?JSON.parse(e):[]}getCheckin(e){return this.getAllCheckins().find(r=>r.id===e)||null}async storeCompleteCheckin(e,n,r,s){try{const i=await this.storeImage(r);return{id:this.storeCheckin({userCode:e,timestamp:Date.now(),location:n,imageId:i,submissionId:s}),userCode:e,timestamp:Date.now(),location:n,imageId:i,submissionId:s}}catch(i){throw console.error("Storage error:",i),new Error("Failed to store check-in data")}}async exportData(){const e=this.getAllCheckins(),n={};for(const r of e){const s=await this.getImage(r.imageId);if(s){const i=new FileReader,o=await new Promise(l=>{i.onload=()=>l(i.result),i.readAsDataURL(s)});n[r.imageId]=o}}return{checkins:e,images:n}}async clearAllData(){return localStorage.removeItem("selfie_checkins"),this.db||await this.initDB(),new Promise((e,n)=>{const i=this.db.transaction([this.imageStoreName],"readwrite").objectStore(this.imageStoreName).clear();i.onsuccess=()=>e(),i.onerror=()=>n(i.error)})}async getStorageStats(){const e=this.getAllCheckins();return this.db||await this.initDB(),new Promise((n,r)=>{const o=this.db.transaction([this.imageStoreName],"readonly").objectStore(this.imageStoreName).count();o.onsuccess=()=>{const l=this.estimateStorageSize();n({totalCheckins:e.length,totalImages:o.result,storageSize:l})},o.onerror=()=>r(o.error)})}estimateStorageSize(){const n=new Blob([localStorage.getItem("selfie_checkins")||""]).size+this.getAllCheckins().length*500*1024;return n<1024*1024?`${(n/1024).toFixed(1)} KB`:`${(n/(1024*1024)).toFixed(1)} MB`}}const ua=new rN,sN=({onBack:t})=>{const[e,n]=b.useState([]),[r,s]=b.useState(!0),[i,o]=b.useState(null),[l,u]=b.useState(null);b.useEffect(()=>{c()},[]);const c=async()=>{try{s(!0);const v=ua.getAllCheckins(),y=await ua.getStorageStats();n(v.reverse()),o(y)}catch(v){console.error("Failed to load data:",v),Ye({title:"Load Error",description:"Failed to load check-in history.",variant:"destructive"})}finally{s(!1)}},d=async v=>{try{const y=await ua.getImage(v);y?u({id:v,blob:y}):Ye({title:"Image Not Found",description:"The image could not be loaded.",variant:"destructive"})}catch(y){console.error("Failed to load image:",y),Ye({title:"Load Error",description:"Failed to load the image.",variant:"destructive"})}},f=(v,y)=>{const _=URL.createObjectURL(v),k=document.createElement("a");k.href=_,k.download=y,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(_)},m=async()=>{try{const v=await ua.exportData(),y=new Blob([JSON.stringify(v,null,2)],{type:"application/json"});f(y,`selfie-checkins-${new Date().toISOString().split("T")[0]}.json`),Ye({title:"Export Complete",description:"All data has been exported successfully.",variant:"default"})}catch(v){console.error("Export failed:",v),Ye({title:"Export Failed",description:"Failed to export data.",variant:"destructive"})}},p=async()=>{if(confirm("Are you sure you want to delete all stored data? This cannot be undone."))try{await ua.clearAllData(),n([]),o({totalCheckins:0,totalImages:0,storageSize:"0 KB"}),Ye({title:"Data Cleared",description:"All stored data has been deleted.",variant:"default"})}catch(v){console.error("Failed to clear data:",v),Ye({title:"Clear Failed",description:"Failed to clear stored data.",variant:"destructive"})}},T=(v,y)=>`${v.toFixed(6)}°, ${y.toFixed(6)}°`,w=v=>new Date(v).toLocaleString(),E=(v,y)=>{const _=`https://www.google.com/maps?q=${v},${y}`;window.open(_,"_blank")};return r?C.jsx("div",{className:"min-h-screen bg-gradient-background flex items-center justify-center p-4",children:C.jsxs(Ot,{className:"p-8 text-center",children:[C.jsx(fc,{className:"mx-auto mb-4 h-8 w-8 animate-spin text-primary"}),C.jsx("p",{className:"text-foreground",children:"Loading check-in history..."})]})}):C.jsx("div",{className:"min-h-screen bg-gradient-background p-4",children:C.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[C.jsxs(Ot,{className:"p-6",children:[C.jsxs("div",{className:"flex items-center justify-between mb-4",children:[C.jsxs("div",{children:[C.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Check-in History"}),C.jsx("p",{className:"text-muted-foreground",children:"View your stored selfie check-ins"})]}),C.jsx(Ie,{onClick:t,variant:"outline",children:"Back to App"})]}),i&&C.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[C.jsxs(Ot,{className:"p-4 text-center",children:[C.jsx("div",{className:"text-2xl font-bold text-primary",children:i.totalCheckins}),C.jsx("div",{className:"text-sm text-muted-foreground",children:"Check-ins"})]}),C.jsxs(Ot,{className:"p-4 text-center",children:[C.jsx("div",{className:"text-2xl font-bold text-primary",children:i.totalImages}),C.jsx("div",{className:"text-sm text-muted-foreground",children:"Images"})]}),C.jsxs(Ot,{className:"p-4 text-center",children:[C.jsx("div",{className:"text-2xl font-bold text-primary",children:i.storageSize}),C.jsx("div",{className:"text-sm text-muted-foreground",children:"Storage Used"})]})]}),C.jsxs("div",{className:"flex gap-3",children:[C.jsxs(Ie,{onClick:m,variant:"outline",size:"sm",children:[C.jsx(dv,{className:"mr-2 h-4 w-4"}),"Export Data"]}),C.jsxs(Ie,{onClick:c,variant:"outline",size:"sm",children:[C.jsx(fc,{className:"mr-2 h-4 w-4"}),"Refresh"]}),C.jsxs(Ie,{onClick:p,variant:"destructive",size:"sm",children:[C.jsx(NR,{className:"mr-2 h-4 w-4"}),"Clear All"]})]})]}),e.length===0?C.jsxs(Ot,{className:"p-8 text-center",children:[C.jsx(hc,{className:"mx-auto mb-4 h-12 w-12 text-muted-foreground"}),C.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No Check-ins Yet"}),C.jsx("p",{className:"text-muted-foreground",children:"Start by taking your first selfie check-in!"})]}):C.jsx("div",{className:"space-y-4",children:e.map(v=>C.jsx(Ot,{className:"p-6",children:C.jsxs("div",{className:"flex items-start justify-between mb-4",children:[C.jsxs("div",{className:"flex-1",children:[C.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[C.jsx(Hv,{variant:"secondary",children:v.submissionId}),C.jsx(Hv,{variant:"outline",children:v.userCode})]}),C.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[C.jsx(CR,{className:"mr-1 h-4 w-4"}),w(v.timestamp)]}),C.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[C.jsx(kf,{className:"mr-1 h-4 w-4"}),T(v.location.latitude,v.location.longitude),C.jsx(Ie,{onClick:()=>E(v.location.latitude,v.location.longitude),variant:"link",size:"sm",className:"ml-2 p-0 h-auto",children:"View on Map"})]})]}),C.jsxs(Ie,{onClick:()=>d(v.imageId),variant:"outline",size:"sm",children:[C.jsx(hc,{className:"mr-2 h-4 w-4"}),"View Selfie"]})]})},v.id))}),l&&C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:C.jsx(Ot,{className:"max-w-2xl w-full max-h-[90vh] overflow-auto",children:C.jsxs("div",{className:"p-6",children:[C.jsxs("div",{className:"flex items-center justify-between mb-4",children:[C.jsx("h3",{className:"text-lg font-medium",children:"Selfie Image"}),C.jsxs("div",{className:"flex gap-2",children:[C.jsxs(Ie,{onClick:()=>f(l.blob,`selfie-${l.id}.jpg`),variant:"outline",size:"sm",children:[C.jsx(dv,{className:"mr-2 h-4 w-4"}),"Download"]}),C.jsx(Ie,{onClick:()=>u(null),variant:"outline",size:"sm",children:"Close"})]})]}),C.jsx("img",{src:URL.createObjectURL(l.blob),alt:"Selfie",className:"w-full h-auto rounded-lg"})]})})})]})})},iN=()=>{};var qv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},oN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},mx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,d=i>>2,f=(i&3)<<4|l>>4;let m=(l&15)<<2|c>>6,p=c&63;u||(p=64,o||(m=64)),r.push(n[d],n[f],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(px(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||c==null||f==null)throw new aN;const m=i<<2|l>>4;if(r.push(m),c!==64){const p=l<<4&240|c>>2;if(r.push(p),f!==64){const T=c<<6&192|f;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lN=function(t){const e=px(t);return mx.encodeByteArray(e,!0)},Ec=function(t){return lN(t).replace(/\./g,"")},uN=function(t){try{return mx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=()=>cN().__FIREBASE_DEFAULTS__,hN=()=>{if(typeof process>"u"||typeof qv>"u")return;const t=qv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uN(t[1]);return e&&JSON.parse(e)},Cm=()=>{try{return iN()||dN()||hN()||fN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pN=t=>{var e,n;return(n=(e=Cm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},gx=t=>{const e=pN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yx=()=>{var t;return(t=Cm())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ec(JSON.stringify(n)),Ec(JSON.stringify(o)),""].join(".")}const Ra={};function gN(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ra))Ra[e]?t.emulator.push(e):t.prod.push(e);return t}function yN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Wv=!1;function _x(t,e){if(typeof window>"u"||typeof document>"u"||!_l(window.location.host)||Ra[t]===e||Ra[t]||Wv)return;Ra[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=gN().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Wv=!0,o()},m}function d(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=yN(r),p=n("text"),T=document.getElementById(p)||document.createElement("span"),w=n("learnmore"),E=document.getElementById(w)||document.createElement("a"),v=n("preprendIcon"),y=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const _=m.element;l(_),d(E,w);const k=c();u(y,v),_.append(y,T,E,k),document.body.appendChild(_)}i?(T.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wN(){var e;const t=(e=Cm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _N(){return!wN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EN(){try{return typeof indexedDB=="object"}catch{return!1}}function xN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN="FirebaseError";class pi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TN,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ex.prototype.create)}}class Ex{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?SN(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new pi(s,l,r)}}function SN(t,e){return t.replace(CN,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const CN=/\{\$([^}]+)}/g;function xc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Qv(i)&&Qv(o)){if(!xc(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Qv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t){return t&&t._delegate?t._delegate:t}class Eo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new mN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RN(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IN(t){return t===$s?void 0:t}function RN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const PN={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},kN=ge.INFO,NN={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},DN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=NN[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xx{constructor(e){this.name=e,this._logLevel=kN,this._logHandler=DN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const ON=(t,e)=>e.some(n=>t instanceof n);let Gv,Kv;function VN(){return Gv||(Gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MN(){return Kv||(Kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tx=new WeakMap,$f=new WeakMap,Sx=new WeakMap,Eh=new WeakMap,Am=new WeakMap;function LN(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ds(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Tx.set(n,t)}).catch(()=>{}),Am.set(e,t),e}function FN(t){if($f.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});$f.set(t,e)}let Hf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $f.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Sx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ds(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jN(t){Hf=t(Hf)}function UN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xh(this),e,...n);return Sx.set(r,e.sort?e.sort():[e]),ds(r)}:MN().includes(t)?function(...e){return t.apply(xh(this),e),ds(Tx.get(this))}:function(...e){return ds(t.apply(xh(this),e))}}function BN(t){return typeof t=="function"?UN(t):(t instanceof IDBTransaction&&FN(t),ON(t,VN())?new Proxy(t,Hf):t)}function ds(t){if(t instanceof IDBRequest)return LN(t);if(Eh.has(t))return Eh.get(t);const e=BN(t);return e!==t&&(Eh.set(t,e),Am.set(e,t)),e}const xh=t=>Am.get(t);function zN(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=ds(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ds(o.result),u.oldVersion,u.newVersion,ds(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const $N=["get","getKey","getAll","getAllKeys","count"],HN=["put","add","delete","clear"],Th=new Map;function Yv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Th.get(e))return Th.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=HN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||$N.includes(n)))return;const i=async function(o,...l){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),s&&u.done]))[0]};return Th.set(e,i),i}jN(t=>({...t,get:(e,n,r)=>Yv(e,n)||t.get(e,n,r),has:(e,n)=>!!Yv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function WN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qf="@firebase/app",Xv="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=new xx("@firebase/app"),QN="@firebase/app-compat",GN="@firebase/analytics-compat",KN="@firebase/analytics",YN="@firebase/app-check-compat",XN="@firebase/app-check",JN="@firebase/auth",ZN="@firebase/auth-compat",eD="@firebase/database",tD="@firebase/data-connect",nD="@firebase/database-compat",rD="@firebase/functions",sD="@firebase/functions-compat",iD="@firebase/installations",oD="@firebase/installations-compat",aD="@firebase/messaging",lD="@firebase/messaging-compat",uD="@firebase/performance",cD="@firebase/performance-compat",dD="@firebase/remote-config",hD="@firebase/remote-config-compat",fD="@firebase/storage",pD="@firebase/storage-compat",mD="@firebase/firestore",gD="@firebase/ai",yD="@firebase/firestore-compat",vD="firebase",wD="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="[DEFAULT]",_D={[qf]:"fire-core",[QN]:"fire-core-compat",[KN]:"fire-analytics",[GN]:"fire-analytics-compat",[XN]:"fire-app-check",[YN]:"fire-app-check-compat",[JN]:"fire-auth",[ZN]:"fire-auth-compat",[eD]:"fire-rtdb",[tD]:"fire-data-connect",[nD]:"fire-rtdb-compat",[rD]:"fire-fn",[sD]:"fire-fn-compat",[iD]:"fire-iid",[oD]:"fire-iid-compat",[aD]:"fire-fcm",[lD]:"fire-fcm-compat",[uD]:"fire-perf",[cD]:"fire-perf-compat",[dD]:"fire-rc",[hD]:"fire-rc-compat",[fD]:"fire-gcs",[pD]:"fire-gcs-compat",[mD]:"fire-fst",[yD]:"fire-fst-compat",[gD]:"fire-vertex","fire-js":"fire-js",[vD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=new Map,ED=new Map,Qf=new Map;function Jv(t,e){try{t.container.addComponent(e)}catch(n){Ir.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function tl(t){const e=t.name;if(Qf.has(e))return Ir.debug(`There were multiple attempts to register component ${e}.`),!1;Qf.set(e,t);for(const n of Tc.values())Jv(n,t);for(const n of ED.values())Jv(n,t);return!0}function Cx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ax(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hs=new Ex("app","Firebase",xD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=wD;function Rx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Wf,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw hs.create("bad-app-name",{appName:String(s)});if(n||(n=yx()),!n)throw hs.create("no-options");const i=Tc.get(s);if(i){if(xc(n,i.options)&&xc(r,i.config))return i;throw hs.create("duplicate-app",{appName:s})}const o=new bN(s);for(const u of Qf.values())o.addComponent(u);const l=new TD(n,r,o);return Tc.set(s,l),l}function bx(t=Wf){const e=Tc.get(t);if(!e&&t===Wf&&yx())return Rx();if(!e)throw hs.create("no-app",{appName:t});return e}function fs(t,e,n){let r=_D[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ir.warn(o.join(" "));return}tl(new Eo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="firebase-heartbeat-database",CD=1,nl="firebase-heartbeat-store";let Sh=null;function Px(){return Sh||(Sh=zN(SD,CD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nl)}catch(n){console.warn(n)}}}}).catch(t=>{throw hs.create("idb-open",{originalErrorMessage:t.message})})),Sh}async function AD(t){try{const n=(await Px()).transaction(nl),r=await n.objectStore(nl).get(kx(t));return await n.done,r}catch(e){if(e instanceof pi)Ir.warn(e.message);else{const n=hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ir.warn(n.message)}}}async function Zv(t,e){try{const r=(await Px()).transaction(nl,"readwrite");await r.objectStore(nl).put(e,kx(t)),await r.done}catch(n){if(n instanceof pi)Ir.warn(n.message);else{const r=hs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ir.warn(r.message)}}}function kx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=1024,RD=30;class bD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ew();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>RD){const o=ND(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ir.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ew(),{heartbeatsToSend:r,unsentEntries:s}=PD(this._heartbeatsCache.heartbeats),i=Ec(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ir.warn(n),""}}}function ew(){return new Date().toISOString().substring(0,10)}function PD(t,e=ID){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),tw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),tw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EN()?xN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Zv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Zv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function tw(t){return Ec(JSON.stringify({version:2,heartbeats:t})).length}function ND(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t){tl(new Eo("platform-logger",e=>new qN(e),"PRIVATE")),tl(new Eo("heartbeat",e=>new bD(e),"PRIVATE")),fs(qf,Xv,t),fs(qf,Xv,"esm2020"),fs("fire-js","")}DD("");var OD="firebase",VD="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fs(OD,VD,"app");var nw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ps,Nx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,x){function I(){}I.prototype=x.prototype,A.D=x.prototype,A.prototype=new I,A.prototype.constructor=A,A.C=function(R,N,D){for(var P=Array(arguments.length-2),q=2;q<arguments.length;q++)P[q-2]=arguments[q];return x.prototype[N].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,x,I){I||(I=0);var R=Array(16);if(typeof x=="string")for(var N=0;16>N;++N)R[N]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(N=0;16>N;++N)R[N]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=A.g[0],I=A.g[1],N=A.g[2];var D=A.g[3],P=x+(D^I&(N^D))+R[0]+3614090360&4294967295;x=I+(P<<7&4294967295|P>>>25),P=D+(N^x&(I^N))+R[1]+3905402710&4294967295,D=x+(P<<12&4294967295|P>>>20),P=N+(I^D&(x^I))+R[2]+606105819&4294967295,N=D+(P<<17&4294967295|P>>>15),P=I+(x^N&(D^x))+R[3]+3250441966&4294967295,I=N+(P<<22&4294967295|P>>>10),P=x+(D^I&(N^D))+R[4]+4118548399&4294967295,x=I+(P<<7&4294967295|P>>>25),P=D+(N^x&(I^N))+R[5]+1200080426&4294967295,D=x+(P<<12&4294967295|P>>>20),P=N+(I^D&(x^I))+R[6]+2821735955&4294967295,N=D+(P<<17&4294967295|P>>>15),P=I+(x^N&(D^x))+R[7]+4249261313&4294967295,I=N+(P<<22&4294967295|P>>>10),P=x+(D^I&(N^D))+R[8]+1770035416&4294967295,x=I+(P<<7&4294967295|P>>>25),P=D+(N^x&(I^N))+R[9]+2336552879&4294967295,D=x+(P<<12&4294967295|P>>>20),P=N+(I^D&(x^I))+R[10]+4294925233&4294967295,N=D+(P<<17&4294967295|P>>>15),P=I+(x^N&(D^x))+R[11]+2304563134&4294967295,I=N+(P<<22&4294967295|P>>>10),P=x+(D^I&(N^D))+R[12]+1804603682&4294967295,x=I+(P<<7&4294967295|P>>>25),P=D+(N^x&(I^N))+R[13]+4254626195&4294967295,D=x+(P<<12&4294967295|P>>>20),P=N+(I^D&(x^I))+R[14]+2792965006&4294967295,N=D+(P<<17&4294967295|P>>>15),P=I+(x^N&(D^x))+R[15]+1236535329&4294967295,I=N+(P<<22&4294967295|P>>>10),P=x+(N^D&(I^N))+R[1]+4129170786&4294967295,x=I+(P<<5&4294967295|P>>>27),P=D+(I^N&(x^I))+R[6]+3225465664&4294967295,D=x+(P<<9&4294967295|P>>>23),P=N+(x^I&(D^x))+R[11]+643717713&4294967295,N=D+(P<<14&4294967295|P>>>18),P=I+(D^x&(N^D))+R[0]+3921069994&4294967295,I=N+(P<<20&4294967295|P>>>12),P=x+(N^D&(I^N))+R[5]+3593408605&4294967295,x=I+(P<<5&4294967295|P>>>27),P=D+(I^N&(x^I))+R[10]+38016083&4294967295,D=x+(P<<9&4294967295|P>>>23),P=N+(x^I&(D^x))+R[15]+3634488961&4294967295,N=D+(P<<14&4294967295|P>>>18),P=I+(D^x&(N^D))+R[4]+3889429448&4294967295,I=N+(P<<20&4294967295|P>>>12),P=x+(N^D&(I^N))+R[9]+568446438&4294967295,x=I+(P<<5&4294967295|P>>>27),P=D+(I^N&(x^I))+R[14]+3275163606&4294967295,D=x+(P<<9&4294967295|P>>>23),P=N+(x^I&(D^x))+R[3]+4107603335&4294967295,N=D+(P<<14&4294967295|P>>>18),P=I+(D^x&(N^D))+R[8]+1163531501&4294967295,I=N+(P<<20&4294967295|P>>>12),P=x+(N^D&(I^N))+R[13]+2850285829&4294967295,x=I+(P<<5&4294967295|P>>>27),P=D+(I^N&(x^I))+R[2]+4243563512&4294967295,D=x+(P<<9&4294967295|P>>>23),P=N+(x^I&(D^x))+R[7]+1735328473&4294967295,N=D+(P<<14&4294967295|P>>>18),P=I+(D^x&(N^D))+R[12]+2368359562&4294967295,I=N+(P<<20&4294967295|P>>>12),P=x+(I^N^D)+R[5]+4294588738&4294967295,x=I+(P<<4&4294967295|P>>>28),P=D+(x^I^N)+R[8]+2272392833&4294967295,D=x+(P<<11&4294967295|P>>>21),P=N+(D^x^I)+R[11]+1839030562&4294967295,N=D+(P<<16&4294967295|P>>>16),P=I+(N^D^x)+R[14]+4259657740&4294967295,I=N+(P<<23&4294967295|P>>>9),P=x+(I^N^D)+R[1]+2763975236&4294967295,x=I+(P<<4&4294967295|P>>>28),P=D+(x^I^N)+R[4]+1272893353&4294967295,D=x+(P<<11&4294967295|P>>>21),P=N+(D^x^I)+R[7]+4139469664&4294967295,N=D+(P<<16&4294967295|P>>>16),P=I+(N^D^x)+R[10]+3200236656&4294967295,I=N+(P<<23&4294967295|P>>>9),P=x+(I^N^D)+R[13]+681279174&4294967295,x=I+(P<<4&4294967295|P>>>28),P=D+(x^I^N)+R[0]+3936430074&4294967295,D=x+(P<<11&4294967295|P>>>21),P=N+(D^x^I)+R[3]+3572445317&4294967295,N=D+(P<<16&4294967295|P>>>16),P=I+(N^D^x)+R[6]+76029189&4294967295,I=N+(P<<23&4294967295|P>>>9),P=x+(I^N^D)+R[9]+3654602809&4294967295,x=I+(P<<4&4294967295|P>>>28),P=D+(x^I^N)+R[12]+3873151461&4294967295,D=x+(P<<11&4294967295|P>>>21),P=N+(D^x^I)+R[15]+530742520&4294967295,N=D+(P<<16&4294967295|P>>>16),P=I+(N^D^x)+R[2]+3299628645&4294967295,I=N+(P<<23&4294967295|P>>>9),P=x+(N^(I|~D))+R[0]+4096336452&4294967295,x=I+(P<<6&4294967295|P>>>26),P=D+(I^(x|~N))+R[7]+1126891415&4294967295,D=x+(P<<10&4294967295|P>>>22),P=N+(x^(D|~I))+R[14]+2878612391&4294967295,N=D+(P<<15&4294967295|P>>>17),P=I+(D^(N|~x))+R[5]+4237533241&4294967295,I=N+(P<<21&4294967295|P>>>11),P=x+(N^(I|~D))+R[12]+1700485571&4294967295,x=I+(P<<6&4294967295|P>>>26),P=D+(I^(x|~N))+R[3]+2399980690&4294967295,D=x+(P<<10&4294967295|P>>>22),P=N+(x^(D|~I))+R[10]+4293915773&4294967295,N=D+(P<<15&4294967295|P>>>17),P=I+(D^(N|~x))+R[1]+2240044497&4294967295,I=N+(P<<21&4294967295|P>>>11),P=x+(N^(I|~D))+R[8]+1873313359&4294967295,x=I+(P<<6&4294967295|P>>>26),P=D+(I^(x|~N))+R[15]+4264355552&4294967295,D=x+(P<<10&4294967295|P>>>22),P=N+(x^(D|~I))+R[6]+2734768916&4294967295,N=D+(P<<15&4294967295|P>>>17),P=I+(D^(N|~x))+R[13]+1309151649&4294967295,I=N+(P<<21&4294967295|P>>>11),P=x+(N^(I|~D))+R[4]+4149444226&4294967295,x=I+(P<<6&4294967295|P>>>26),P=D+(I^(x|~N))+R[11]+3174756917&4294967295,D=x+(P<<10&4294967295|P>>>22),P=N+(x^(D|~I))+R[2]+718787259&4294967295,N=D+(P<<15&4294967295|P>>>17),P=I+(D^(N|~x))+R[9]+3951481745&4294967295,A.g[0]=A.g[0]+x&4294967295,A.g[1]=A.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,A.g[2]=A.g[2]+N&4294967295,A.g[3]=A.g[3]+D&4294967295}r.prototype.u=function(A,x){x===void 0&&(x=A.length);for(var I=x-this.blockSize,R=this.B,N=this.h,D=0;D<x;){if(N==0)for(;D<=I;)s(this,A,D),D+=this.blockSize;if(typeof A=="string"){for(;D<x;)if(R[N++]=A.charCodeAt(D++),N==this.blockSize){s(this,R),N=0;break}}else for(;D<x;)if(R[N++]=A[D++],N==this.blockSize){s(this,R),N=0;break}}this.h=N,this.o+=x},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var x=1;x<A.length-8;++x)A[x]=0;var I=8*this.o;for(x=A.length-8;x<A.length;++x)A[x]=I&255,I/=256;for(this.u(A),A=Array(16),x=I=0;4>x;++x)for(var R=0;32>R;R+=8)A[I++]=this.g[x]>>>R&255;return A};function i(A,x){var I=l;return Object.prototype.hasOwnProperty.call(I,A)?I[A]:I[A]=x(A)}function o(A,x){this.h=x;for(var I=[],R=!0,N=A.length-1;0<=N;N--){var D=A[N]|0;R&&D==x||(I[N]=D,R=!1)}this.g=I}var l={};function u(A){return-128<=A&&128>A?i(A,function(x){return new o([x|0],0>x?-1:0)}):new o([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return E(c(-A));for(var x=[],I=1,R=0;A>=I;R++)x[R]=A/I|0,I*=4294967296;return new o(x,0)}function d(A,x){if(A.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(A.charAt(0)=="-")return E(d(A.substring(1),x));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(x,8)),R=f,N=0;N<A.length;N+=8){var D=Math.min(8,A.length-N),P=parseInt(A.substring(N,N+D),x);8>D?(D=c(Math.pow(x,D)),R=R.j(D).add(c(P))):(R=R.j(I),R=R.add(c(P)))}return R}var f=u(0),m=u(1),p=u(16777216);t=o.prototype,t.m=function(){if(w(this))return-E(this).m();for(var A=0,x=1,I=0;I<this.g.length;I++){var R=this.i(I);A+=(0<=R?R:4294967296+R)*x,x*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(T(this))return"0";if(w(this))return"-"+E(this).toString(A);for(var x=c(Math.pow(A,6)),I=this,R="";;){var N=k(I,x).g;I=v(I,N.j(x));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(A);if(I=N,T(I))return D+R;for(;6>D.length;)D="0"+D;R=D+R}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function T(A){if(A.h!=0)return!1;for(var x=0;x<A.g.length;x++)if(A.g[x]!=0)return!1;return!0}function w(A){return A.h==-1}t.l=function(A){return A=v(this,A),w(A)?-1:T(A)?0:1};function E(A){for(var x=A.g.length,I=[],R=0;R<x;R++)I[R]=~A.g[R];return new o(I,~A.h).add(m)}t.abs=function(){return w(this)?E(this):this},t.add=function(A){for(var x=Math.max(this.g.length,A.g.length),I=[],R=0,N=0;N<=x;N++){var D=R+(this.i(N)&65535)+(A.i(N)&65535),P=(D>>>16)+(this.i(N)>>>16)+(A.i(N)>>>16);R=P>>>16,D&=65535,P&=65535,I[N]=P<<16|D}return new o(I,I[I.length-1]&-2147483648?-1:0)};function v(A,x){return A.add(E(x))}t.j=function(A){if(T(this)||T(A))return f;if(w(this))return w(A)?E(this).j(E(A)):E(E(this).j(A));if(w(A))return E(this.j(E(A)));if(0>this.l(p)&&0>A.l(p))return c(this.m()*A.m());for(var x=this.g.length+A.g.length,I=[],R=0;R<2*x;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var N=0;N<A.g.length;N++){var D=this.i(R)>>>16,P=this.i(R)&65535,q=A.i(N)>>>16,le=A.i(N)&65535;I[2*R+2*N]+=P*le,y(I,2*R+2*N),I[2*R+2*N+1]+=D*le,y(I,2*R+2*N+1),I[2*R+2*N+1]+=P*q,y(I,2*R+2*N+1),I[2*R+2*N+2]+=D*q,y(I,2*R+2*N+2)}for(R=0;R<x;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=x;R<2*x;R++)I[R]=0;return new o(I,0)};function y(A,x){for(;(A[x]&65535)!=A[x];)A[x+1]+=A[x]>>>16,A[x]&=65535,x++}function _(A,x){this.g=A,this.h=x}function k(A,x){if(T(x))throw Error("division by zero");if(T(A))return new _(f,f);if(w(A))return x=k(E(A),x),new _(E(x.g),E(x.h));if(w(x))return x=k(A,E(x)),new _(E(x.g),x.h);if(30<A.g.length){if(w(A)||w(x))throw Error("slowDivide_ only works with positive integers.");for(var I=m,R=x;0>=R.l(A);)I=O(I),R=O(R);var N=V(I,1),D=V(R,1);for(R=V(R,2),I=V(I,2);!T(R);){var P=D.add(R);0>=P.l(A)&&(N=N.add(I),D=P),R=V(R,1),I=V(I,1)}return x=v(A,N.j(x)),new _(N,x)}for(N=f;0<=A.l(x);){for(I=Math.max(1,Math.floor(A.m()/x.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),D=c(I),P=D.j(x);w(P)||0<P.l(A);)I-=R,D=c(I),P=D.j(x);T(D)&&(D=m),N=N.add(D),A=v(A,P)}return new _(N,A)}t.A=function(A){return k(this,A).h},t.and=function(A){for(var x=Math.max(this.g.length,A.g.length),I=[],R=0;R<x;R++)I[R]=this.i(R)&A.i(R);return new o(I,this.h&A.h)},t.or=function(A){for(var x=Math.max(this.g.length,A.g.length),I=[],R=0;R<x;R++)I[R]=this.i(R)|A.i(R);return new o(I,this.h|A.h)},t.xor=function(A){for(var x=Math.max(this.g.length,A.g.length),I=[],R=0;R<x;R++)I[R]=this.i(R)^A.i(R);return new o(I,this.h^A.h)};function O(A){for(var x=A.g.length+1,I=[],R=0;R<x;R++)I[R]=A.i(R)<<1|A.i(R-1)>>>31;return new o(I,A.h)}function V(A,x){var I=x>>5;x%=32;for(var R=A.g.length-I,N=[],D=0;D<R;D++)N[D]=0<x?A.i(D+I)>>>x|A.i(D+I+1)<<32-x:A.i(D+I);return new o(N,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Nx=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,ps=o}).apply(typeof nw<"u"?nw:typeof self<"u"?self:typeof window<"u"?window:{});var hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Dx,ma,Ox,Vu,Gf,Vx,Mx,Lx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,g){return a==Array.prototype||a==Object.prototype||(a[h]=g.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof hu=="object"&&hu];for(var h=0;h<a.length;++h){var g=a[h];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(a,h){if(h)e:{var g=r;a=a.split(".");for(var S=0;S<a.length-1;S++){var M=a[S];if(!(M in g))break e;g=g[M]}a=a[a.length-1],S=g[a],h=h(S),h!=S&&h!=null&&e(g,a,{configurable:!0,writable:!0,value:h})}}function i(a,h){a instanceof String&&(a+="");var g=0,S=!1,M={next:function(){if(!S&&g<a.length){var L=g++;return{value:h(L,a[L]),done:!1}}return S=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(a){return a||function(){return i(this,function(h,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function d(a,h,g){return a.call.apply(a.bind,arguments)}function f(a,h,g){if(!a)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,S),a.apply(h,M)}}return function(){return a.apply(h,arguments)}}function m(a,h,g){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function p(a,h){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),a.apply(this,S)}}function T(a,h){function g(){}g.prototype=h.prototype,a.aa=h.prototype,a.prototype=new g,a.prototype.constructor=a,a.Qb=function(S,M,L){for(var W=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)W[Ce-2]=arguments[Ce];return h.prototype[M].apply(S,W)}}function w(a){const h=a.length;if(0<h){const g=Array(h);for(let S=0;S<h;S++)g[S]=a[S];return g}return[]}function E(a,h){for(let g=1;g<arguments.length;g++){const S=arguments[g];if(u(S)){const M=a.length||0,L=S.length||0;a.length=M+L;for(let W=0;W<L;W++)a[M+W]=S[W]}else a.push(S)}}class v{constructor(h,g){this.i=h,this.j=g,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function y(a){return/^[\s\xa0]*$/.test(a)}function _(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function k(a){return k[" "](a),a}k[" "]=function(){};var O=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function V(a,h,g){for(const S in a)h.call(g,a[S],S,a)}function A(a,h){for(const g in a)h.call(void 0,a[g],g,a)}function x(a){const h={};for(const g in a)h[g]=a[g];return h}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(a,h){let g,S;for(let M=1;M<arguments.length;M++){S=arguments[M];for(g in S)a[g]=S[g];for(let L=0;L<I.length;L++)g=I[L],Object.prototype.hasOwnProperty.call(S,g)&&(a[g]=S[g])}}function N(a){var h=1;a=a.split(":");const g=[];for(;0<h&&a.length;)g.push(a.shift()),h--;return a.length&&g.push(a.join(":")),g}function D(a){l.setTimeout(()=>{throw a},0)}function P(){var a=z;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class q{constructor(){this.h=this.g=null}add(h,g){const S=le.get();S.set(h,g),this.h?this.h.next=S:this.g=S,this.h=S}}var le=new v(()=>new ne,a=>a.reset());class ne{constructor(){this.next=this.g=this.h=null}set(h,g){this.h=h,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let te,F=!1,z=new q,Q=()=>{const a=l.Promise.resolve(void 0);te=()=>{a.then(ie)}};var ie=()=>{for(var a;a=P();){try{a.h.call(a.g)}catch(g){D(g)}var h=le;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}F=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const g=()=>{};l.addEventListener("test",g,h),l.removeEventListener("test",g,h)}catch{}return a}();function Ae(a,h){if(Z.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var g=this.type=a.type,S=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(O){e:{try{k(h.nodeName);var M=!0;break e}catch{}M=!1}M||(h=null)}}else g=="mouseover"?h=a.fromElement:g=="mouseout"&&(h=a.toElement);this.relatedTarget=h,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:it[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ae.aa.h.call(this)}}T(Ae,Z);var it={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),kr=0;function Fn(a,h,g,S,M){this.listener=a,this.proxy=null,this.src=h,this.type=g,this.capture=!!S,this.ha=M,this.key=++kr,this.da=this.fa=!1}function ln(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Yt(a){this.src=a,this.g={},this.h=0}Yt.prototype.add=function(a,h,g,S,M){var L=a.toString();a=this.g[L],a||(a=this.g[L]=[],this.h++);var W=un(a,h,S,M);return-1<W?(h=a[W],g||(h.fa=!1)):(h=new Fn(h,this.src,L,!!S,M),h.fa=g,a.push(h)),h};function jn(a,h){var g=h.type;if(g in a.g){var S=a.g[g],M=Array.prototype.indexOf.call(S,h,void 0),L;(L=0<=M)&&Array.prototype.splice.call(S,M,1),L&&(ln(h),a.g[g].length==0&&(delete a.g[g],a.h--))}}function un(a,h,g,S){for(var M=0;M<a.length;++M){var L=a[M];if(!L.da&&L.listener==h&&L.capture==!!g&&L.ha==S)return M}return-1}var Nr="closure_lm_"+(1e6*Math.random()|0),Ns={};function Ds(a,h,g,S,M){if(Array.isArray(h)){for(var L=0;L<h.length;L++)Ds(a,h[L],g,S,M);return null}return g=Il(g),a&&a[pe]?a.K(h,g,c(S)?!!S.capture:!1,M):jo(a,h,g,!1,S,M)}function jo(a,h,g,S,M,L){if(!h)throw Error("Invalid event type");var W=c(M)?!!M.capture:!!M,Ce=_n(a);if(Ce||(a[Nr]=Ce=new Yt(a)),g=Ce.add(h,g,S,W,L),g.proxy)return g;if(S=Os(),g.proxy=S,S.src=a,S.listener=g,a.addEventListener)ce||(M=W),M===void 0&&(M=!1),a.addEventListener(h.toString(),S,M);else if(a.attachEvent)a.attachEvent(Dr(h.toString()),S);else if(a.addListener&&a.removeListener)a.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Os(){function a(g){return h.call(a.src,a.listener,g)}const h=Al;return a}function ar(a,h,g,S,M){if(Array.isArray(h))for(var L=0;L<h.length;L++)ar(a,h[L],g,S,M);else S=c(S)?!!S.capture:!!S,g=Il(g),a&&a[pe]?(a=a.i,h=String(h).toString(),h in a.g&&(L=a.g[h],g=un(L,g,S,M),-1<g&&(ln(L[g]),Array.prototype.splice.call(L,g,1),L.length==0&&(delete a.g[h],a.h--)))):a&&(a=_n(a))&&(h=a.g[h.toString()],a=-1,h&&(a=un(h,g,S,M)),(g=-1<a?h[a]:null)&&_i(g))}function _i(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[pe])jn(h.i,a);else{var g=a.type,S=a.proxy;h.removeEventListener?h.removeEventListener(g,S,a.capture):h.detachEvent?h.detachEvent(Dr(g),S):h.addListener&&h.removeListener&&h.removeListener(S),(g=_n(h))?(jn(g,a),g.h==0&&(g.src=null,h[Nr]=null)):ln(a)}}}function Dr(a){return a in Ns?Ns[a]:Ns[a]="on"+a}function Al(a,h){if(a.da)a=!0;else{h=new Ae(h,this);var g=a.listener,S=a.ha||a.src;a.fa&&_i(a),a=g.call(S,h)}return a}function _n(a){return a=a[Nr],a instanceof Yt?a:null}var Uo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Il(a){return typeof a=="function"?a:(a[Uo]||(a[Uo]=function(h){return a.handleEvent(h)}),a[Uo])}function xe(){X.call(this),this.i=new Yt(this),this.M=this,this.F=null}T(xe,X),xe.prototype[pe]=!0,xe.prototype.removeEventListener=function(a,h,g,S){ar(this,a,h,g,S)};function Be(a,h){var g,S=a.F;if(S)for(g=[];S;S=S.F)g.push(S);if(a=a.M,S=h.type||h,typeof h=="string")h=new Z(h,a);else if(h instanceof Z)h.target=h.target||a;else{var M=h;h=new Z(S,a),R(h,M)}if(M=!0,g)for(var L=g.length-1;0<=L;L--){var W=h.g=g[L];M=Ei(W,S,!0,h)&&M}if(W=h.g=a,M=Ei(W,S,!0,h)&&M,M=Ei(W,S,!1,h)&&M,g)for(L=0;L<g.length;L++)W=h.g=g[L],M=Ei(W,S,!1,h)&&M}xe.prototype.N=function(){if(xe.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var g=a.g[h],S=0;S<g.length;S++)ln(g[S]);delete a.g[h],a.h--}}this.F=null},xe.prototype.K=function(a,h,g,S){return this.i.add(String(a),h,!1,g,S)},xe.prototype.L=function(a,h,g,S){return this.i.add(String(a),h,!0,g,S)};function Ei(a,h,g,S){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var M=!0,L=0;L<h.length;++L){var W=h[L];if(W&&!W.da&&W.capture==g){var Ce=W.listener,ht=W.ha||W.src;W.fa&&jn(a.i,W),M=Ce.call(ht,S)!==!1&&M}}return M&&!S.defaultPrevented}function Rl(a,h,g){if(typeof a=="function")g&&(a=m(a,g));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function Vs(a){a.g=Rl(()=>{a.g=null,a.i&&(a.i=!1,Vs(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class Ad extends X{constructor(h,g){super(),this.m=h,this.l=g,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Vs(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(a){X.call(this),this.h=a,this.g={}}T(Or,X);var xi=[];function lr(a){V(a.g,function(h,g){this.g.hasOwnProperty(g)&&_i(h)},a),a.g={}}Or.prototype.N=function(){Or.aa.N.call(this),lr(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ti=l.JSON.stringify,Vr=l.JSON.parse,Id=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Bo(){}Bo.prototype.h=null;function zo(a){return a.h||(a.h=a.i())}function $o(){}var Ms={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ls(){Z.call(this,"d")}T(Ls,Z);function cn(){Z.call(this,"c")}T(cn,Z);var ur={},re=null;function ye(){return re=re||new xe}ur.La="serverreachability";function Se(a){Z.call(this,ur.La,a)}T(Se,Z);function ct(a){const h=ye();Be(h,new Se(h))}ur.STAT_EVENT="statevent";function jt(a,h){Z.call(this,ur.STAT_EVENT,a),this.stat=h}T(jt,Z);function Ve(a){const h=ye();Be(h,new jt(h,a))}ur.Ma="timingevent";function Un(a,h){Z.call(this,ur.Ma,a),this.size=h}T(Un,Z);function dt(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function Ut(){this.g=!0}Ut.prototype.xa=function(){this.g=!1};function IS(a,h,g,S,M,L){a.info(function(){if(a.g)if(L)for(var W="",Ce=L.split("&"),ht=0;ht<Ce.length;ht++){var we=Ce[ht].split("=");if(1<we.length){var wt=we[0];we=we[1];var _t=wt.split("_");W=2<=_t.length&&_t[1]=="type"?W+(wt+"="+we+"&"):W+(wt+"=redacted&")}}else W=null;else W=L;return"XMLHTTP REQ ("+S+") [attempt "+M+"]: "+h+`
`+g+`
`+W})}function RS(a,h,g,S,M,L,W){a.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+M+"]: "+h+`
`+g+`
`+L+" "+W})}function Si(a,h,g,S){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+PS(a,g)+(S?" "+S:"")})}function bS(a,h){a.info(function(){return"TIMEOUT: "+h})}Ut.prototype.info=function(){};function PS(a,h){if(!a.g)return h;if(!h)return null;try{var g=JSON.parse(h);if(g){for(a=0;a<g.length;a++)if(Array.isArray(g[a])){var S=g[a];if(!(2>S.length)){var M=S[1];if(Array.isArray(M)&&!(1>M.length)){var L=M[0];if(L!="noop"&&L!="stop"&&L!="close")for(var W=1;W<M.length;W++)M[W]=""}}}}return Ti(g)}catch{return h}}var bl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ug={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rd;function Pl(){}T(Pl,Bo),Pl.prototype.g=function(){return new XMLHttpRequest},Pl.prototype.i=function(){return{}},Rd=new Pl;function Mr(a,h,g,S){this.j=a,this.i=h,this.l=g,this.R=S||1,this.U=new Or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cg}function cg(){this.i=null,this.g="",this.h=!1}var dg={},bd={};function Pd(a,h,g){a.L=1,a.v=Ol(cr(h)),a.m=g,a.P=!0,hg(a,null)}function hg(a,h){a.F=Date.now(),kl(a),a.A=cr(a.v);var g=a.A,S=a.R;Array.isArray(S)||(S=[String(S)]),Ag(g.i,"t",S),a.C=0,g=a.j.J,a.h=new cg,a.g=Hg(a.j,g?h:null,!a.m),0<a.O&&(a.M=new Ad(m(a.Y,a,a.g),a.O)),h=a.U,g=a.g,S=a.ca;var M="readystatechange";Array.isArray(M)||(M&&(xi[0]=M.toString()),M=xi);for(var L=0;L<M.length;L++){var W=Ds(g,M[L],S||h.handleEvent,!1,h.h||h);if(!W)break;h.g[W.key]=W}h=a.H?x(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),ct(),IS(a.i,a.u,a.A,a.l,a.R,a.m)}Mr.prototype.ca=function(a){a=a.target;const h=this.M;h&&dr(a)==3?h.j():this.Y(a)},Mr.prototype.Y=function(a){try{if(a==this.g)e:{const _t=dr(this.g);var h=this.g.Ba();const Ii=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||Dg(this.g)))){this.J||_t!=4||h==7||(h==8||0>=Ii?ct(3):ct(2)),kd(this);var g=this.g.Z();this.X=g;t:if(fg(this)){var S=Dg(this.g);a="";var M=S.length,L=dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fs(this),Ho(this);var W="";break t}this.h.i=new l.TextDecoder}for(h=0;h<M;h++)this.h.h=!0,a+=this.h.i.decode(S[h],{stream:!(L&&h==M-1)});S.length=0,this.h.g+=a,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=g==200,RS(this.i,this.u,this.A,this.l,this.R,_t,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Ce,ht=this.g;if((Ce=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ce)){var we=Ce;break t}}we=null}if(g=we)Si(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nd(this,g);else{this.o=!1,this.s=3,Ve(12),Fs(this),Ho(this);break e}}if(this.P){g=!0;let En;for(;!this.J&&this.C<W.length;)if(En=kS(this,W),En==bd){_t==4&&(this.s=4,Ve(14),g=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if(En==dg){this.s=4,Ve(15),Si(this.i,this.l,W,"[Invalid Chunk]"),g=!1;break}else Si(this.i,this.l,En,null),Nd(this,En);if(fg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||W.length!=0||this.h.h||(this.s=1,Ve(16),g=!1),this.o=this.o&&g,!g)Si(this.i,this.l,W,"[Invalid Chunked Response]"),Fs(this),Ho(this);else if(0<W.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Fd(wt),wt.M=!0,Ve(11))}}else Si(this.i,this.l,W,null),Nd(this,W);_t==4&&Fs(this),this.o&&!this.J&&(_t==4?Ug(this.j,this):(this.o=!1,kl(this)))}else GS(this.g),g==400&&0<W.indexOf("Unknown SID")?(this.s=3,Ve(12)):(this.s=0,Ve(13)),Fs(this),Ho(this)}}}catch{}finally{}};function fg(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function kS(a,h){var g=a.C,S=h.indexOf(`
`,g);return S==-1?bd:(g=Number(h.substring(g,S)),isNaN(g)?dg:(S+=1,S+g>h.length?bd:(h=h.slice(S,S+g),a.C=S+g,h)))}Mr.prototype.cancel=function(){this.J=!0,Fs(this)};function kl(a){a.S=Date.now()+a.I,pg(a,a.I)}function pg(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=dt(m(a.ba,a),h)}function kd(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Mr.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(bS(this.i,this.A),this.L!=2&&(ct(),Ve(17)),Fs(this),this.s=2,Ho(this)):pg(this,this.S-a)};function Ho(a){a.j.G==0||a.J||Ug(a.j,a)}function Fs(a){kd(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,lr(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function Nd(a,h){try{var g=a.j;if(g.G!=0&&(g.g==a||Dd(g.h,a))){if(!a.K&&Dd(g.h,a)&&g.G==3){try{var S=g.Da.g.parse(h)}catch{S=null}if(Array.isArray(S)&&S.length==3){var M=S;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<a.F)Ul(g),Fl(g);else break e;Ld(g),Ve(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=dt(m(g.Za,g),6e3));if(1>=yg(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Us(g,11)}else if((a.K||g.g==a)&&Ul(g),!y(h))for(M=g.Da.g.parse(h),h=0;h<M.length;h++){let we=M[h];if(g.T=we[0],we=we[1],g.G==2)if(we[0]=="c"){g.K=we[1],g.ia=we[2];const wt=we[3];wt!=null&&(g.la=wt,g.j.info("VER="+g.la));const _t=we[4];_t!=null&&(g.Aa=_t,g.j.info("SVER="+g.Aa));const Ii=we[5];Ii!=null&&typeof Ii=="number"&&0<Ii&&(S=1.5*Ii,g.L=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const En=a.g;if(En){const zl=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zl){var L=S.h;L.g||zl.indexOf("spdy")==-1&&zl.indexOf("quic")==-1&&zl.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Od(L,L.h),L.h=null))}if(S.D){const jd=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;jd&&(S.ya=jd,Pe(S.I,S.D,jd))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-a.F,g.j.info("Handshake RTT: "+g.R+"ms")),S=g;var W=a;if(S.qa=$g(S,S.J?S.ia:null,S.W),W.K){vg(S.h,W);var Ce=W,ht=S.L;ht&&(Ce.I=ht),Ce.B&&(kd(Ce),kl(Ce)),S.g=W}else Fg(S);0<g.i.length&&jl(g)}else we[0]!="stop"&&we[0]!="close"||Us(g,7);else g.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?Us(g,7):Md(g):we[0]!="noop"&&g.l&&g.l.ta(we),g.v=0)}}ct(4)}catch{}}var NS=class{constructor(a,h){this.g=a,this.map=h}};function mg(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gg(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function yg(a){return a.h?1:a.g?a.g.size:0}function Dd(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Od(a,h){a.g?a.g.add(h):a.h=h}function vg(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}mg.prototype.cancel=function(){if(this.i=wg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function wg(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const g of a.g.values())h=h.concat(g.D);return h}return w(a.i)}function DS(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],g=a.length,S=0;S<g;S++)h.push(a[S]);return h}h=[],g=0;for(S in a)h[g++]=a[S];return h}function OS(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var g=0;g<a;g++)h.push(g);return h}h=[],g=0;for(const S in a)h[g++]=S;return h}}}function _g(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var g=OS(a),S=DS(a),M=S.length,L=0;L<M;L++)h.call(void 0,S[L],g&&g[L],a)}var Eg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function VS(a,h){if(a){a=a.split("&");for(var g=0;g<a.length;g++){var S=a[g].indexOf("="),M=null;if(0<=S){var L=a[g].substring(0,S);M=a[g].substring(S+1)}else L=a[g];h(L,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function js(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof js){this.h=a.h,Nl(this,a.j),this.o=a.o,this.g=a.g,Dl(this,a.s),this.l=a.l;var h=a.i,g=new Qo;g.i=h.i,h.g&&(g.g=new Map(h.g),g.h=h.h),xg(this,g),this.m=a.m}else a&&(h=String(a).match(Eg))?(this.h=!1,Nl(this,h[1]||"",!0),this.o=qo(h[2]||""),this.g=qo(h[3]||"",!0),Dl(this,h[4]),this.l=qo(h[5]||"",!0),xg(this,h[6]||"",!0),this.m=qo(h[7]||"")):(this.h=!1,this.i=new Qo(null,this.h))}js.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Wo(h,Tg,!0),":");var g=this.g;return(g||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Wo(h,Tg,!0),"@"),a.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&a.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&a.push("/"),a.push(Wo(g,g.charAt(0)=="/"?FS:LS,!0))),(g=this.i.toString())&&a.push("?",g),(g=this.m)&&a.push("#",Wo(g,US)),a.join("")};function cr(a){return new js(a)}function Nl(a,h,g){a.j=g?qo(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Dl(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function xg(a,h,g){h instanceof Qo?(a.i=h,BS(a.i,a.h)):(g||(h=Wo(h,jS)),a.i=new Qo(h,a.h))}function Pe(a,h,g){a.i.set(h,g)}function Ol(a){return Pe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function qo(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Wo(a,h,g){return typeof a=="string"?(a=encodeURI(a).replace(h,MS),g&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function MS(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Tg=/[#\/\?@]/g,LS=/[#\?:]/g,FS=/[#\?]/g,jS=/[#\?@]/g,US=/#/g;function Qo(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Lr(a){a.g||(a.g=new Map,a.h=0,a.i&&VS(a.i,function(h,g){a.add(decodeURIComponent(h.replace(/\+/g," ")),g)}))}t=Qo.prototype,t.add=function(a,h){Lr(this),this.i=null,a=Ci(this,a);var g=this.g.get(a);return g||this.g.set(a,g=[]),g.push(h),this.h+=1,this};function Sg(a,h){Lr(a),h=Ci(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function Cg(a,h){return Lr(a),h=Ci(a,h),a.g.has(h)}t.forEach=function(a,h){Lr(this),this.g.forEach(function(g,S){g.forEach(function(M){a.call(h,M,S,this)},this)},this)},t.na=function(){Lr(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),g=[];for(let S=0;S<h.length;S++){const M=a[S];for(let L=0;L<M.length;L++)g.push(h[S])}return g},t.V=function(a){Lr(this);let h=[];if(typeof a=="string")Cg(this,a)&&(h=h.concat(this.g.get(Ci(this,a))));else{a=Array.from(this.g.values());for(let g=0;g<a.length;g++)h=h.concat(a[g])}return h},t.set=function(a,h){return Lr(this),this.i=null,a=Ci(this,a),Cg(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function Ag(a,h,g){Sg(a,h),0<g.length&&(a.i=null,a.g.set(Ci(a,h),w(g)),a.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var g=0;g<h.length;g++){var S=h[g];const L=encodeURIComponent(String(S)),W=this.V(S);for(S=0;S<W.length;S++){var M=L;W[S]!==""&&(M+="="+encodeURIComponent(String(W[S]))),a.push(M)}}return this.i=a.join("&")};function Ci(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function BS(a,h){h&&!a.j&&(Lr(a),a.i=null,a.g.forEach(function(g,S){var M=S.toLowerCase();S!=M&&(Sg(this,S),Ag(this,M,g))},a)),a.j=h}function zS(a,h){const g=new Ut;if(l.Image){const S=new Image;S.onload=p(Fr,g,"TestLoadImage: loaded",!0,h,S),S.onerror=p(Fr,g,"TestLoadImage: error",!1,h,S),S.onabort=p(Fr,g,"TestLoadImage: abort",!1,h,S),S.ontimeout=p(Fr,g,"TestLoadImage: timeout",!1,h,S),l.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=a}else h(!1)}function $S(a,h){const g=new Ut,S=new AbortController,M=setTimeout(()=>{S.abort(),Fr(g,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:S.signal}).then(L=>{clearTimeout(M),L.ok?Fr(g,"TestPingServer: ok",!0,h):Fr(g,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),Fr(g,"TestPingServer: error",!1,h)})}function Fr(a,h,g,S,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),S(g)}catch{}}function HS(){this.g=new Id}function qS(a,h,g){const S=g||"";try{_g(a,function(M,L){let W=M;c(M)&&(W=Ti(M)),h.push(S+L+"="+encodeURIComponent(W))})}catch(M){throw h.push(S+"type="+encodeURIComponent("_badmap")),M}}function Vl(a){this.l=a.Ub||null,this.j=a.eb||!1}T(Vl,Bo),Vl.prototype.g=function(){return new Ml(this.l,this.j)},Vl.prototype.i=function(a){return function(){return a}}({});function Ml(a,h){xe.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Ml,xe),t=Ml.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,Ko(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Go(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ko(this)),this.g&&(this.readyState=3,Ko(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ig(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ig(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Go(this):Ko(this),this.readyState==3&&Ig(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Go(this))},t.Qa=function(a){this.g&&(this.response=a,Go(this))},t.ga=function(){this.g&&Go(this)};function Go(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ko(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var g=h.next();!g.done;)g=g.value,a.push(g[0]+": "+g[1]),g=h.next();return a.join(`\r
`)};function Ko(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ml.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Rg(a){let h="";return V(a,function(g,S){h+=S,h+=":",h+=g,h+=`\r
`}),h}function Vd(a,h,g){e:{for(S in g){var S=!1;break e}S=!0}S||(g=Rg(g),typeof a=="string"?g!=null&&encodeURIComponent(String(g)):Pe(a,h,g))}function ze(a){xe.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(ze,xe);var WS=/^https?$/i,QS=["POST","PUT"];t=ze.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rd.g(),this.v=this.o?zo(this.o):zo(Rd),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(L){bg(this,L);return}if(a=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var M in S)g.set(M,S[M]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const L of S.keys())g.set(L,S.get(L));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find(L=>L.toLowerCase()=="content-type"),M=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(QS,h,void 0))||S||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,W]of g)this.g.setRequestHeader(L,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ng(this),this.u=!0,this.g.send(a),this.u=!1}catch(L){bg(this,L)}};function bg(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,Pg(a),Ll(a)}function Pg(a){a.A||(a.A=!0,Be(a,"complete"),Be(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Be(this,"complete"),Be(this,"abort"),Ll(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ll(this,!0)),ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?kg(this):this.bb())},t.bb=function(){kg(this)};function kg(a){if(a.h&&typeof o<"u"&&(!a.v[1]||dr(a)!=4||a.Z()!=2)){if(a.u&&dr(a)==4)Rl(a.Ea,0,a);else if(Be(a,"readystatechange"),dr(a)==4){a.h=!1;try{const W=a.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var g;if(!(g=h)){var S;if(S=W===0){var M=String(a.D).match(Eg)[1]||null;!M&&l.self&&l.self.location&&(M=l.self.location.protocol.slice(0,-1)),S=!WS.test(M?M.toLowerCase():"")}g=S}if(g)Be(a,"complete"),Be(a,"success");else{a.m=6;try{var L=2<dr(a)?a.g.statusText:""}catch{L=""}a.l=L+" ["+a.Z()+"]",Pg(a)}}finally{Ll(a)}}}}function Ll(a,h){if(a.g){Ng(a);const g=a.g,S=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||Be(a,"ready");try{g.onreadystatechange=S}catch{}}}function Ng(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function dr(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<dr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),Vr(h)}};function Dg(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function GS(a){const h={};a=(a.g&&2<=dr(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<a.length;S++){if(y(a[S]))continue;var g=N(a[S]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const L=h[M]||[];h[M]=L,L.push(g)}A(h,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yo(a,h,g){return g&&g.internalChannelParams&&g.internalChannelParams[a]||h}function Og(a){this.Aa=0,this.i=[],this.j=new Ut,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yo("baseRetryDelayMs",5e3,a),this.cb=Yo("retryDelaySeedMs",1e4,a),this.Wa=Yo("forwardChannelMaxRetries",2,a),this.wa=Yo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new mg(a&&a.concurrentRequestLimit),this.Da=new HS,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Og.prototype,t.la=8,t.G=1,t.connect=function(a,h,g,S){Ve(0),this.W=a,this.H=h||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.I=$g(this,null,this.W),jl(this)};function Md(a){if(Vg(a),a.G==3){var h=a.U++,g=cr(a.I);if(Pe(g,"SID",a.K),Pe(g,"RID",h),Pe(g,"TYPE","terminate"),Xo(a,g),h=new Mr(a,a.j,h),h.L=2,h.v=Ol(cr(g)),g=!1,l.navigator&&l.navigator.sendBeacon)try{g=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!g&&l.Image&&(new Image().src=h.v,g=!0),g||(h.g=Hg(h.j,null),h.g.ea(h.v)),h.F=Date.now(),kl(h)}zg(a)}function Fl(a){a.g&&(Fd(a),a.g.cancel(),a.g=null)}function Vg(a){Fl(a),a.u&&(l.clearTimeout(a.u),a.u=null),Ul(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function jl(a){if(!gg(a.h)&&!a.s){a.s=!0;var h=a.Ga;te||Q(),F||(te(),F=!0),z.add(h,a),a.B=0}}function KS(a,h){return yg(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=dt(m(a.Ga,a,h),Bg(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const M=new Mr(this,this.j,a);let L=this.o;if(this.S&&(L?(L=x(L),R(L,this.S)):L=this.S),this.m!==null||this.O||(M.H=L,L=null),this.P)e:{for(var h=0,g=0;g<this.i.length;g++){t:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(h+=S,4096<h){h=g;break e}if(h===4096||g===this.i.length-1){h=g+1;break e}}h=1e3}else h=1e3;h=Lg(this,M,h),g=cr(this.I),Pe(g,"RID",a),Pe(g,"CVER",22),this.D&&Pe(g,"X-HTTP-Session-Id",this.D),Xo(this,g),L&&(this.O?h="headers="+encodeURIComponent(String(Rg(L)))+"&"+h:this.m&&Vd(g,this.m,L)),Od(this.h,M),this.Ua&&Pe(g,"TYPE","init"),this.P?(Pe(g,"$req",h),Pe(g,"SID","null"),M.T=!0,Pd(M,g,null)):Pd(M,g,h),this.G=2}}else this.G==3&&(a?Mg(this,a):this.i.length==0||gg(this.h)||Mg(this))};function Mg(a,h){var g;h?g=h.l:g=a.U++;const S=cr(a.I);Pe(S,"SID",a.K),Pe(S,"RID",g),Pe(S,"AID",a.T),Xo(a,S),a.m&&a.o&&Vd(S,a.m,a.o),g=new Mr(a,a.j,g,a.B+1),a.m===null&&(g.H=a.o),h&&(a.i=h.D.concat(a.i)),h=Lg(a,g,1e3),g.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Od(a.h,g),Pd(g,S,h)}function Xo(a,h){a.H&&V(a.H,function(g,S){Pe(h,S,g)}),a.l&&_g({},function(g,S){Pe(h,S,g)})}function Lg(a,h,g){g=Math.min(a.i.length,g);var S=a.l?m(a.l.Na,a.l,a):null;e:{var M=a.i;let L=-1;for(;;){const W=["count="+g];L==-1?0<g?(L=M[0].g,W.push("ofs="+L)):L=0:W.push("ofs="+L);let Ce=!0;for(let ht=0;ht<g;ht++){let we=M[ht].g;const wt=M[ht].map;if(we-=L,0>we)L=Math.max(0,M[ht].g-100),Ce=!1;else try{qS(wt,W,"req"+we+"_")}catch{S&&S(wt)}}if(Ce){S=W.join("&");break e}}}return a=a.i.splice(0,g),h.D=a,S}function Fg(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;te||Q(),F||(te(),F=!0),z.add(h,a),a.v=0}}function Ld(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=dt(m(a.Fa,a),Bg(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,jg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=dt(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ve(10),Fl(this),jg(this))};function Fd(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function jg(a){a.g=new Mr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=cr(a.qa);Pe(h,"RID","rpc"),Pe(h,"SID",a.K),Pe(h,"AID",a.T),Pe(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&Pe(h,"TO",a.ja),Pe(h,"TYPE","xmlhttp"),Xo(a,h),a.m&&a.o&&Vd(h,a.m,a.o),a.L&&(a.g.I=a.L);var g=a.g;a=a.ia,g.L=1,g.v=Ol(cr(h)),g.m=null,g.P=!0,hg(g,a)}t.Za=function(){this.C!=null&&(this.C=null,Fl(this),Ld(this),Ve(19))};function Ul(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Ug(a,h){var g=null;if(a.g==h){Ul(a),Fd(a),a.g=null;var S=2}else if(Dd(a.h,h))g=h.D,vg(a.h,h),S=1;else return;if(a.G!=0){if(h.o)if(S==1){g=h.m?h.m.length:0,h=Date.now()-h.F;var M=a.B;S=ye(),Be(S,new Un(S,g)),jl(a)}else Fg(a);else if(M=h.s,M==3||M==0&&0<h.X||!(S==1&&KS(a,h)||S==2&&Ld(a)))switch(g&&0<g.length&&(h=a.h,h.i=h.i.concat(g)),M){case 1:Us(a,5);break;case 4:Us(a,10);break;case 3:Us(a,6);break;default:Us(a,2)}}}function Bg(a,h){let g=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(g*=2),g*h}function Us(a,h){if(a.j.info("Error code "+h),h==2){var g=m(a.fb,a),S=a.Xa;const M=!S;S=new js(S||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Nl(S,"https"),Ol(S),M?zS(S.toString(),g):$S(S.toString(),g)}else Ve(2);a.G=0,a.l&&a.l.sa(h),zg(a),Vg(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function zg(a){if(a.G=0,a.ka=[],a.l){const h=wg(a.h);(h.length!=0||a.i.length!=0)&&(E(a.ka,h),E(a.ka,a.i),a.h.i.length=0,w(a.i),a.i.length=0),a.l.ra()}}function $g(a,h,g){var S=g instanceof js?cr(g):new js(g);if(S.g!="")h&&(S.g=h+"."+S.g),Dl(S,S.s);else{var M=l.location;S=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;var L=new js(null);S&&Nl(L,S),h&&(L.g=h),M&&Dl(L,M),g&&(L.l=g),S=L}return g=a.D,h=a.ya,g&&h&&Pe(S,g,h),Pe(S,"VER",a.la),Xo(a,S),S}function Hg(a,h,g){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new ze(new Vl({eb:g})):new ze(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qg(){}t=qg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Bl(){}Bl.prototype.g=function(a,h){return new Xt(a,h)};function Xt(a,h){xe.call(this),this.g=new Og(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!y(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!y(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Ai(this)}T(Xt,xe),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){Md(this.g)},Xt.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var g={};g.__data__=a,a=g}else this.u&&(g={},g.__data__=Ti(a),a=g);h.i.push(new NS(h.Ya++,a)),h.G==3&&jl(h)},Xt.prototype.N=function(){this.g.l=null,delete this.j,Md(this.g),delete this.g,Xt.aa.N.call(this)};function Wg(a){Ls.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const g in h){a=g;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}T(Wg,Ls);function Qg(){cn.call(this),this.status=1}T(Qg,cn);function Ai(a){this.g=a}T(Ai,qg),Ai.prototype.ua=function(){Be(this.g,"a")},Ai.prototype.ta=function(a){Be(this.g,new Wg(a))},Ai.prototype.sa=function(a){Be(this.g,new Qg)},Ai.prototype.ra=function(){Be(this.g,"b")},Bl.prototype.createWebChannel=Bl.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,Lx=function(){return new Bl},Mx=function(){return ye()},Vx=ur,Gf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bl.NO_ERROR=0,bl.TIMEOUT=8,bl.HTTP_ERROR=6,Vu=bl,ug.COMPLETE="complete",Ox=ug,$o.EventType=Ms,Ms.OPEN="a",Ms.CLOSE="b",Ms.ERROR="c",Ms.MESSAGE="d",xe.prototype.listen=xe.prototype.K,ma=$o,ze.prototype.listenOnce=ze.prototype.L,ze.prototype.getLastError=ze.prototype.Ka,ze.prototype.getLastErrorCode=ze.prototype.Ba,ze.prototype.getStatus=ze.prototype.Z,ze.prototype.getResponseJson=ze.prototype.Oa,ze.prototype.getResponseText=ze.prototype.oa,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Ha,Dx=ze}).apply(typeof hu<"u"?hu:typeof self<"u"?self:typeof window<"u"?window:{});const rw="@firebase/firestore",sw="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}At.UNAUTHENTICATED=new At(null),At.GOOGLE_CREDENTIALS=new At("google-credentials-uid"),At.FIRST_PARTY=new At("first-party-uid"),At.MOCK_USER=new At("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new xx("@firebase/firestore");function bi(){return ui.logLevel}function K(t,...e){if(ui.logLevel<=ge.DEBUG){const n=e.map(Im);ui.debug(`Firestore (${Oo}): ${t}`,...n)}}function Rr(t,...e){if(ui.logLevel<=ge.ERROR){const n=e.map(Im);ui.error(`Firestore (${Oo}): ${t}`,...n)}}function xo(t,...e){if(ui.logLevel<=ge.WARN){const n=e.map(Im);ui.warn(`Firestore (${Oo}): ${t}`,...n)}}function Im(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Fx(t,r,n)}function Fx(t,e,n){let r=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Rr(r),new Error(r)}function Ee(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Fx(e,s,r)}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends pi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(At.UNAUTHENTICATED))}shutdown(){}}class LD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class FD{constructor(e){this.t=e,this.currentUser=At.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ee(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ms,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ms)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string",31837,{l:r}),new jx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string",2055,{h:e}),new At(e)}}class jD{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=At.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UD{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new jD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(At.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ax(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ee(this.o===void 0,3512);const r=i=>{i.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new iw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new iw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=zD(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function Kf(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Ch(s)===Ch(i)?he(s,i):Ch(s)?1:-1}return he(t.length,e.length)}const $D=55296,HD=57343;function Ch(t){const e=t.charCodeAt(0);return e>=$D&&e<=HD}function To(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="__name__";class $n{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $n.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $n?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=$n.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return he(e.length,n.length)}static compareSegments(e,n){const r=$n.isNumericId(e),s=$n.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?$n.extractNumericId(e).compare($n.extractNumericId(n)):Kf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ps.fromString(e.substring(4,e.length-2))}}class Re extends $n{construct(e,n,r){return new Re(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Re(n)}static emptyPath(){return new Re([])}}const qD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends $n{construct(e,n,r){return new mt(e,n,r)}static isValidIdentifier(e){return qD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ow}static keyField(){return new mt([ow])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new G(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new G(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new G(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(n)}static emptyPath(){return new mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Re.fromString(e))}static fromName(e){return new J(Re.fromString(e).popFirst(5))}static empty(){return new J(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Re(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t,e,n){if(!n)throw new G(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function WD(t,e,n,r){if(e===!0&&r===!0)throw new G(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function aw(t){if(!J.isDocumentKey(t))throw new G(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lw(t){if(J.isDocumentKey(t))throw new G(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Bx(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function dd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee(12329,{type:typeof t})}function Sc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dd(t);throw new G(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t,e){const n={typeString:t};return e&&(n.value=e),n}function El(t,e){if(!Bx(t))throw new G(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new G(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=-62135596800,cw=1e6;class De{static now(){return De.fromMillis(Date.now())}static fromDate(e){return De.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*cw);return new De(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<uw)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cw}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:De._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(El(e,De._jsonSchema))return new De(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-uw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}De._jsonSchemaVersion="firestore/timestamp/1.0",De._jsonSchema={type:Ze("string",De._jsonSchemaVersion),seconds:Ze("number"),nanoseconds:Ze("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{static fromTimestamp(e){return new se(e)}static min(){return new se(new De(0,0))}static max(){return new se(new De(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=-1;function QD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=se.fromTimestamp(r===1e9?new De(n+1,0):new De(n,r));return new Ts(s,J.empty(),e)}function GD(t){return new Ts(t.readTime,t.key,rl)}class Ts{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ts(se.min(),J.empty(),rl)}static max(){return new Ts(se.max(),J.empty(),rl)}}function KD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==YD)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++l,l===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function JD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=-1;function fd(t){return t==null}function Cc(t){return t===0&&1/t==-1/0}function ZD(t){return typeof t=="number"&&Number.isInteger(t)&&!Cc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="";function e4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dw(e)),e=t4(t.get(n),e);return dw(e)}function t4(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case zx:n+="";break;default:n+=i}}return n}function dw(t){return t+zx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $x(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){this.comparator=e,this.root=n||pt.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pt.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fu(this.root,e,this.comparator,!0)}}class fu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??pt.RED,this.left=s??pt.EMPTY,this.right=i??pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new pt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return pt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ee(27949);return e+(this.isRed()?0:1)}}pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1;pt.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fw(this.data.getIterator())}getIteratorFrom(e){return new fw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rt(this.comparator);return n.data=e,n}}class fw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new Pn([])}unionWith(e){let n=new rt(mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Hx("Invalid base64 string: "+i):i}}(e);return new vt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const n4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ss(t){if(Ee(!!t,39018),typeof t=="string"){let e=0;const n=n4.exec(t);if(Ee(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Cs(t){return typeof t=="string"?vt.fromBase64String(t):vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="server_timestamp",Wx="__type__",Qx="__previous_value__",Gx="__local_write_time__";function Pm(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Wx])==null?void 0:r.stringValue)===qx}function pd(t){const e=t.mapValue.fields[Qx];return Pm(e)?pd(e):e}function sl(t){const e=Ss(t.mapValue.fields[Gx].timestampValue);return new De(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,n,r,s,i,o,l,u,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=d}}const Ac="(default)";class il{constructor(e,n){this.projectId=e,this.database=n||Ac}static empty(){return new il("","")}get isDefaultDatabase(){return this.database===Ac}isEqual(e){return e instanceof il&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="__type__",s4="__max__",pu={mapValue:{}},Yx="__vector__",Ic="value";function As(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pm(t)?4:o4(t)?9007199254740991:i4(t)?10:11:ee(28295,{value:t})}function ir(t,e){if(t===e)return!0;const n=As(t);if(n!==As(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sl(t).isEqual(sl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ss(s.timestampValue),l=Ss(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Cs(s.bytesValue).isEqual(Cs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Qe(s.geoPointValue.latitude)===Qe(i.geoPointValue.latitude)&&Qe(s.geoPointValue.longitude)===Qe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Qe(s.integerValue)===Qe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Qe(s.doubleValue),l=Qe(i.doubleValue);return o===l?Cc(o)===Cc(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return To(t.arrayValue.values||[],e.arrayValue.values||[],ir);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(hw(o)!==hw(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!ir(o[u],l[u])))return!1;return!0}(t,e);default:return ee(52216,{left:t})}}function ol(t,e){return(t.values||[]).find(n=>ir(n,e))!==void 0}function So(t,e){if(t===e)return 0;const n=As(t),r=As(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=Qe(i.integerValue||i.doubleValue),u=Qe(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return pw(t.timestampValue,e.timestampValue);case 4:return pw(sl(t),sl(e));case 5:return Kf(t.stringValue,e.stringValue);case 6:return function(i,o){const l=Cs(i),u=Cs(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const d=he(l[c],u[c]);if(d!==0)return d}return he(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=he(Qe(i.latitude),Qe(o.latitude));return l!==0?l:he(Qe(i.longitude),Qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return mw(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,p,T,w;const l=i.fields||{},u=o.fields||{},c=(m=l[Ic])==null?void 0:m.arrayValue,d=(p=u[Ic])==null?void 0:p.arrayValue,f=he(((T=c==null?void 0:c.values)==null?void 0:T.length)||0,((w=d==null?void 0:d.values)==null?void 0:w.length)||0);return f!==0?f:mw(c,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===pu.mapValue&&o===pu.mapValue)return 0;if(i===pu.mapValue)return 1;if(o===pu.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const m=Kf(u[f],d[f]);if(m!==0)return m;const p=So(l[u[f]],c[d[f]]);if(p!==0)return p}return he(u.length,d.length)}(t.mapValue,e.mapValue);default:throw ee(23264,{he:n})}}function pw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=Ss(t),r=Ss(e),s=he(n.seconds,r.seconds);return s!==0?s:he(n.nanos,r.nanos)}function mw(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=So(n[s],r[s]);if(i)return i}return he(n.length,r.length)}function Co(t){return Yf(t)}function Yf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ss(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Cs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Yf(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Yf(n.fields[o])}`;return s+"}"}(t.mapValue):ee(61005,{value:t})}function Mu(t){switch(As(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pd(t);return e?16+Mu(e):16;case 5:return 2*t.stringValue.length;case 6:return Cs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Mu(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return mi(r.fields,(i,o)=>{s+=i.length+Mu(o)}),s}(t.mapValue);default:throw ee(13486,{value:t})}}function gw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xf(t){return!!t&&"integerValue"in t}function km(t){return!!t&&"arrayValue"in t}function yw(t){return!!t&&"nullValue"in t}function vw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lu(t){return!!t&&"mapValue"in t}function i4(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Kx])==null?void 0:r.stringValue)===Yx}function ba(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return mi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ba(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ba(t.arrayValue.values[n]);return e}return{...t}}function o4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===s4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ba(n)}setAll(e){let n=mt.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=ba(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Lu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Lu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){mi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new pn(ba(this.value))}}function Xx(t){const e=[];return mi(t.fields,(n,r)=>{const s=new mt([n]);if(Lu(r)){const i=Xx(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Rt(e,0,se.min(),se.min(),se.min(),pn.empty(),0)}static newFoundDocument(e,n,r,s){return new Rt(e,1,n,se.min(),r,s,0)}static newNoDocument(e,n){return new Rt(e,2,n,se.min(),se.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new Rt(e,3,n,se.min(),se.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n){this.position=e,this.inclusive=n}}function ww(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=So(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function _w(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ir(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n="asc"){this.field=e,this.dir=n}}function a4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{}class Je extends Jx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new u4(e,n,r):n==="array-contains"?new h4(e,r):n==="in"?new f4(e,r):n==="not-in"?new p4(e,r):n==="array-contains-any"?new m4(e,r):new Je(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new c4(e,r):new d4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(So(n,this.value)):n!==null&&As(this.value)===As(n)&&this.matchesComparison(So(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends Jx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ln(e,n)}matches(e){return Zx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Zx(t){return t.op==="and"}function eT(t){return l4(t)&&Zx(t)}function l4(t){for(const e of t.filters)if(e instanceof Ln)return!1;return!0}function Jf(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+Co(t.value);if(eT(t))return t.filters.map(e=>Jf(e)).join(",");{const e=t.filters.map(n=>Jf(n)).join(",");return`${t.op}(${e})`}}function tT(t,e){return t instanceof Je?function(r,s){return s instanceof Je&&r.op===s.op&&r.field.isEqual(s.field)&&ir(r.value,s.value)}(t,e):t instanceof Ln?function(r,s){return s instanceof Ln&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&tT(o,s.filters[l]),!0):!1}(t,e):void ee(19439)}function nT(t){return t instanceof Je?function(n){return`${n.field.canonicalString()} ${n.op} ${Co(n.value)}`}(t):t instanceof Ln?function(n){return n.op.toString()+" {"+n.getFilters().map(nT).join(" ,")+"}"}(t):"Filter"}class u4 extends Je{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class c4 extends Je{constructor(e,n){super(e,"in",n),this.keys=rT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class d4 extends Je{constructor(e,n){super(e,"not-in",n),this.keys=rT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rT(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class h4 extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return km(n)&&ol(n.arrayValue,this.value)}}class f4 extends Je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ol(this.value.arrayValue,n)}}class p4 extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ol(this.value.arrayValue,n)}}class m4 extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!km(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ol(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function Ew(t,e=null,n=[],r=[],s=null,i=null,o=null){return new g4(t,e,n,r,s,i,o)}function Nm(t){const e=oe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),fd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Co(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Co(r)).join(",")),e.Te=n}return e.Te}function Dm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!a4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_w(t.startAt,e.startAt)&&_w(t.endAt,e.endAt)}function Zf(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function y4(t,e,n,r,s,i,o,l){return new Lo(t,e,n,r,s,i,o,l)}function sT(t){return new Lo(t)}function xw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iT(t){return t.collectionGroup!==null}function Pa(t){const e=oe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new rt(mt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new al(i,r))}),n.has(mt.keyField().canonicalString())||e.Ie.push(new al(mt.keyField(),r))}return e.Ie}function Zn(t){const e=oe(t);return e.Ee||(e.Ee=v4(e,Pa(t))),e.Ee}function v4(t,e){if(t.limitType==="F")return Ew(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new al(s.field,i)});const n=t.endAt?new Rc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Rc(t.startAt.position,t.startAt.inclusive):null;return Ew(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ep(t,e){const n=t.filters.concat([e]);return new Lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function tp(t,e,n){return new Lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function md(t,e){return Dm(Zn(t),Zn(e))&&t.limitType===e.limitType}function oT(t){return`${Nm(Zn(t))}|lt:${t.limitType}`}function Pi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>nT(s)).join(", ")}]`),fd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Co(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Co(s)).join(",")),`Target(${r})`}(Zn(t))}; limitType=${t.limitType})`}function gd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):J.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Pa(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,u){const c=ww(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,Pa(r),s)||r.endAt&&!function(o,l,u){const c=ww(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,Pa(r),s))}(t,e)}function w4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aT(t){return(e,n)=>{let r=!1;for(const s of Pa(t)){const i=_4(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function _4(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,o,l){const u=o.data.field(i),c=l.data.field(i);return u!==null&&c!==null?So(u,c):ee(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){mi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return $x(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=new Ue(J.comparator);function br(){return E4}const lT=new Ue(J.comparator);function ga(...t){let e=lT;for(const n of t)e=e.insert(n.key,n);return e}function uT(t){let e=lT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qs(){return ka()}function cT(){return ka()}function ka(){return new gi(t=>t.toString(),(t,e)=>t.isEqual(e))}const x4=new Ue(J.comparator),T4=new rt(J.comparator);function fe(...t){let e=T4;for(const n of t)e=e.add(n);return e}const S4=new rt(he);function C4(){return S4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cc(e)?"-0":e}}function dT(t){return{integerValue:""+t}}function A4(t,e){return ZD(e)?dT(e):Om(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(){this._=void 0}}function I4(t,e,n){return t instanceof bc?function(s,i){const o={fields:{[Wx]:{stringValue:qx},[Gx]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Pm(i)&&(i=pd(i)),i&&(o.fields[Qx]=i),{mapValue:o}}(n,e):t instanceof ll?fT(t,e):t instanceof ul?pT(t,e):function(s,i){const o=hT(s,i),l=Tw(o)+Tw(s.Ae);return Xf(o)&&Xf(s.Ae)?dT(l):Om(s.serializer,l)}(t,e)}function R4(t,e,n){return t instanceof ll?fT(t,e):t instanceof ul?pT(t,e):n}function hT(t,e){return t instanceof Pc?function(r){return Xf(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class bc extends yd{}class ll extends yd{constructor(e){super(),this.elements=e}}function fT(t,e){const n=mT(e);for(const r of t.elements)n.some(s=>ir(s,r))||n.push(r);return{arrayValue:{values:n}}}class ul extends yd{constructor(e){super(),this.elements=e}}function pT(t,e){let n=mT(e);for(const r of t.elements)n=n.filter(s=>!ir(s,r));return{arrayValue:{values:n}}}class Pc extends yd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Tw(t){return Qe(t.integerValue||t.doubleValue)}function mT(t){return km(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function b4(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ll&&s instanceof ll||r instanceof ul&&s instanceof ul?To(r.elements,s.elements,ir):r instanceof Pc&&s instanceof Pc?ir(r.Ae,s.Ae):r instanceof bc&&s instanceof bc}(t.transform,e.transform)}class P4{constructor(e,n){this.version=e,this.transformResults=n}}class _r{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vd{}function gT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vT(t.key,_r.none()):new xl(t.key,t.data,_r.none());{const n=t.data,r=pn.empty();let s=new rt(mt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new yi(t.key,r,new Pn(s.toArray()),_r.none())}}function k4(t,e,n){t instanceof xl?function(s,i,o){const l=s.value.clone(),u=Cw(s.fieldTransforms,i,o.transformResults);l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof yi?function(s,i,o){if(!Fu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=Cw(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(yT(s)),u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Na(t,e,n,r){return t instanceof xl?function(i,o,l,u){if(!Fu(i.precondition,o))return l;const c=i.value.clone(),d=Aw(i.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof yi?function(i,o,l,u){if(!Fu(i.precondition,o))return l;const c=Aw(i.fieldTransforms,u,o),d=o.data;return d.setAll(yT(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,l){return Fu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function N4(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=hT(r.transform,s||null);i!=null&&(n===null&&(n=pn.empty()),n.set(r.field,i))}return n||null}function Sw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&To(r,s,(i,o)=>b4(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xl extends vd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class yi extends vd{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function yT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Cw(t,e,n){const r=new Map;Ee(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,R4(o,l,n[s]))}return r}function Aw(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,I4(i,o,e))}return r}class vT extends vd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class D4 extends vd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&k4(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Na(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Na(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=cT();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const u=gT(o,l);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,(n,r)=>Sw(n,r))&&To(this.baseMutations,e.baseMutations,(n,r)=>Sw(n,r))}}class Vm{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ee(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return x4}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Vm(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke,me;function L4(t){switch(t){case U.OK:return ee(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return ee(15467,{code:t})}}function wT(t){if(t===void 0)return Rr("GRPC error has no .code"),U.UNKNOWN;switch(t){case Ke.OK:return U.OK;case Ke.CANCELLED:return U.CANCELLED;case Ke.UNKNOWN:return U.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return U.INTERNAL;case Ke.UNAVAILABLE:return U.UNAVAILABLE;case Ke.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Ke.NOT_FOUND:return U.NOT_FOUND;case Ke.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Ke.ABORTED:return U.ABORTED;case Ke.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Ke.DATA_LOSS:return U.DATA_LOSS;default:return ee(39323,{code:t})}}(me=Ke||(Ke={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=new ps([4294967295,4294967295],0);function Iw(t){const e=F4().encode(t),n=new Nx;return n.update(e),new Uint8Array(n.digest())}function Rw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ps([n,r],0),new ps([s,i],0)]}class Mm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ya(`Invalid padding: ${n}`);if(r<0)throw new ya(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ya(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ya(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ps.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(ps.fromNumber(r)));return s.compare(j4)===1&&(s=new ps([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Iw(e),[r,s]=Rw(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Mm(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=Iw(e),[r,s]=Rw(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ya extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Tl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wd(se.min(),s,new Ue(he),br(),fe())}}class Tl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tl(r,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class _T{constructor(e,n){this.targetId=e,this.Ce=n}}class ET{constructor(e,n,r=vt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class bw{constructor(){this.ve=0,this.Fe=Pw(),this.Me=vt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=fe(),n=fe(),r=fe();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ee(38017,{changeType:i})}}),new Tl(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Pw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ee(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class U4{constructor(e){this.Ge=e,this.ze=new Map,this.je=br(),this.Je=mu(),this.He=mu(),this.Ye=new Ue(he)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Zf(i))if(r===0){const o=new J(i.path);this.et(n,o,Rt.newNoDocument(o,se.min()))}else Ee(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=Cs(r).toUint8Array()}catch(u){if(u instanceof Hx)return xo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Mm(o,s,i)}catch(u){return xo(u instanceof ya?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const l=this.ot(o);if(l){if(i.current&&Zf(l.target)){const u=new J(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Rt.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=fe();this.He.forEach((i,o)=>{let l=!0;o.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new wd(e,n,this.Ye,this.je,r);return this.je=br(),this.Je=mu(),this.He=mu(),this.Ye=new Ue(he),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new bw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new rt(he),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new rt(he),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new bw),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function mu(){return new Ue(J.comparator)}function Pw(){return new Ue(J.comparator)}const B4={asc:"ASCENDING",desc:"DESCENDING"},z4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$4={and:"AND",or:"OR"};class H4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function np(t,e){return t.useProto3Json||fd(e)?e:{value:e}}function kc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function q4(t,e){return kc(t,e.toTimestamp())}function er(t){return Ee(!!t,49232),se.fromTimestamp(function(n){const r=Ss(n);return new De(r.seconds,r.nanos)}(t))}function Lm(t,e){return rp(t,e).canonicalString()}function rp(t,e){const n=function(s){return new Re(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function TT(t){const e=Re.fromString(t);return Ee(RT(e),10190,{key:e.toString()}),e}function sp(t,e){return Lm(t.databaseId,e.path)}function Ah(t,e){const n=TT(e);if(n.get(1)!==t.databaseId.projectId)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(CT(n))}function ST(t,e){return Lm(t.databaseId,e)}function W4(t){const e=TT(t);return e.length===4?Re.emptyPath():CT(e)}function ip(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CT(t){return Ee(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function kw(t,e,n){return{name:sp(t,e),fields:n.value.mapValue.fields}}function Q4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ee(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Ee(d===void 0||typeof d=="string",58123),vt.fromBase64String(d||"")):(Ee(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),vt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const d=c.code===void 0?U.UNKNOWN:wT(c.code);return new G(d,c.message||"")}(o);n=new ET(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ah(t,r.document.name),i=er(r.document.updateTime),o=r.document.createTime?er(r.document.createTime):se.min(),l=new pn({mapValue:{fields:r.document.fields}}),u=Rt.newFoundDocument(s,i,o,l),c=r.targetIds||[],d=r.removedTargetIds||[];n=new ju(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ah(t,r.document),i=r.readTime?er(r.readTime):se.min(),o=Rt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new ju([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ah(t,r.document),i=r.removedTargetIds||[];n=new ju([],i,s,null)}else{if(!("filter"in e))return ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new M4(s,i),l=r.targetId;n=new _T(l,o)}}return n}function G4(t,e){let n;if(e instanceof xl)n={update:kw(t,e.key,e.value)};else if(e instanceof vT)n={delete:sp(t,e.key)};else if(e instanceof yi)n={update:kw(t,e.key,e.data),updateMask:rO(e.fieldMask)};else{if(!(e instanceof D4))return ee(16599,{Vt:e.type});n={verify:sp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof bc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ll)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ul)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Pc)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw ee(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:q4(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ee(27497)}(t,e.precondition)),n}function K4(t,e){return t&&t.length>0?(Ee(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?er(s.updateTime):er(i);return o.isEqual(se.min())&&(o=er(i)),new P4(o,s.transformResults||[])}(n,e))):[]}function Y4(t,e){return{documents:[ST(t,e.path)]}}function X4(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ST(t,s);const i=function(c){if(c.length!==0)return IT(Ln.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:ki(m.field),direction:eO(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=np(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function J4(t){let e=W4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ee(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const m=AT(f);return m instanceof Ln&&eT(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(T){return new al(Ni(T.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,fd(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,p=f.values||[];return new Rc(p,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,p=f.values||[];return new Rc(p,m)}(n.endAt)),y4(e,s,o,i,l,"F",u,c)}function Z4(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ni(n.unaryFilter.field);return Je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ni(n.unaryFilter.field);return Je.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ni(n.unaryFilter.field);return Je.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ni(n.unaryFilter.field);return Je.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}}(t):t.fieldFilter!==void 0?function(n){return Je.create(Ni(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ln.create(n.compositeFilter.filters.map(r=>AT(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ee(1026)}}(n.compositeFilter.op))}(t):ee(30097,{filter:t})}function eO(t){return B4[t]}function tO(t){return z4[t]}function nO(t){return $4[t]}function ki(t){return{fieldPath:t.canonicalString()}}function Ni(t){return mt.fromServerFormat(t.fieldPath)}function IT(t){return t instanceof Je?function(n){if(n.op==="=="){if(vw(n.value))return{unaryFilter:{field:ki(n.field),op:"IS_NAN"}};if(yw(n.value))return{unaryFilter:{field:ki(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vw(n.value))return{unaryFilter:{field:ki(n.field),op:"IS_NOT_NAN"}};if(yw(n.value))return{unaryFilter:{field:ki(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ki(n.field),op:tO(n.op),value:n.value}}}(t):t instanceof Ln?function(n){const r=n.getFilters().map(s=>IT(s));return r.length===1?r[0]:{compositeFilter:{op:nO(n.op),filters:r}}}(t):ee(54877,{filter:t})}function rO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function RT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n,r,s,i=se.min(),o=se.min(),l=vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.yt=e}}function iO(t){const e=J4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.Cn=new aO}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Ts.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class aO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new rt(Re.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new rt(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bT=41943040;class zt{static withCacheSize(e){return new zt(e,zt.DEFAULT_COLLECTION_PERCENTILE,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zt.DEFAULT_COLLECTION_PERCENTILE=10,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zt.DEFAULT=new zt(bT,zt.DEFAULT_COLLECTION_PERCENTILE,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zt.DISABLED=new zt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ao(0)}static cr(){return new Ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="LruGarbageCollector",lO=1048576;function Ow([t,e],[n,r]){const s=he(t,n);return s===0?he(e,r):s}class uO{constructor(e){this.Ir=e,this.buffer=new rt(Ow),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Ow(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cO{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){K(Dw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?K(Dw,"Ignoring IndexedDB error during garbage collection: ",n):await Vo(n)}await this.Vr(3e5)})}}class dO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(hd.ce);const r=new uO(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(Nw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nw):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,l,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),bi()<=ge.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function hO(t,e){return new dO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.changes=new gi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Na(r.mutation,s,Pn.empty(),De.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){const s=Qs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ga();return i.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Qs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=br();const o=ka(),l=function(){return ka()}();return n.forEach((u,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof yi)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Na(d.mutation,c,d.mutation.getFieldMask(),De.now())):o.set(c.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>l.set(c,new pO(d,o.get(c)??null))),l))}recalculateAndSaveOverlays(e,n){const r=ka();let s=new Ue((o,l)=>o-l),i=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||Pn.empty();d=l.applyToLocalView(c,d),r.set(u,d);const f=(s.get(l.batchId)||fe()).add(u);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,d=u.value,f=cT();d.forEach(m=>{if(!i.has(m)){const p=gT(n.get(m),r.get(m));p!==null&&f.set(m,p),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(Qs());let l=rl,u=i;return o.next(c=>B.forEach(c,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,fe())).next(d=>({batchId:l,changes:uT(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let s=ga();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ga();return this.indexManager.getCollectionParents(e,i).next(l=>B.forEach(l,u=>{const c=function(f,m){return new Lo(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Rt.newInvalidDocument(d)))});let l=ga();return o.forEach((u,c)=>{const d=i.get(u);d!==void 0&&Na(d.mutation,c,Pn.empty(),De.now()),gd(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:er(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:iO(s.bundledQuery),readTime:er(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this.overlays=new Ue(J.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qs();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=Qs(),i=n.length+1,o=new J(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ue((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Qs(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=Qs(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>l.set(c,d)),!(l.size()>=s)););return B.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new V4(n,r));let i=this.qr.get(n);i===void 0&&(i=fe(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(){this.Qr=new rt(ot.$r),this.Ur=new rt(ot.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ot(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new ot(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new J(new Re([])),r=new ot(n,e),s=new ot(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new J(new Re([])),r=new ot(n,e),s=new ot(n,e+1);let i=fe();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ot(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ot{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return J.comparator(e.key,n.key)||he(e.Yr,n.Yr)}static Kr(e,n){return he(e.Yr,n.Yr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new rt(ot.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new O4(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Zr=this.Zr.add(new ot(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?bm:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ot(n,0),s=new ot(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const l=this.Xr(o.Yr);i.push(l)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rt(he);return n.forEach(s=>{const i=new ot(s,0),o=new ot(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],l=>{r=r.add(l.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;J.isDocumentKey(i)||(i=i.child(""));const o=new ot(new J(i),0);let l=new rt(he);return this.Zr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(l=l.add(u.Yr)),!0)},o),B.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ee(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,s=>{const i=new ot(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new ot(n,0),s=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e){this.ri=e,this.docs=function(){return new Ue(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Rt.newInvalidDocument(n))}getEntries(e,n){let r=br();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Rt.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=br();const o=n.path,l=new J(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||KD(GD(d),r)<=0||(s.has(d.key)||gd(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ee(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new EO(this)}getSize(e){return B.resolve(this.size)}}class EO extends fO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.persistence=e,this.si=new gi(n=>Nm(n),Dm),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.oi=0,this._i=new Fm,this.targetCount=0,this.ai=Ao.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ao(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,n){this.ui={},this.overlays={},this.ci=new hd(0),this.li=!1,this.li=!0,this.hi=new vO,this.referenceDelegate=e(this),this.Pi=new xO(this),this.indexManager=new oO,this.remoteDocumentCache=function(s){return new _O(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new sO(n),this.Ii=new gO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new wO(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const s=new TO(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class TO extends XD{constructor(e){super(),this.currentSequenceNumber=e}}class jm{constructor(e){this.persistence=e,this.Ri=new Fm,this.Vi=null}static mi(e){return new jm(e)}get fi(){if(this.Vi)return this.Vi;throw ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const s=J.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,se.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Nc{constructor(e,n){this.persistence=e,this.pi=new gi(r=>e4(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=hO(this,n)}static mi(e,n){return new Nc(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(l=>{l||(r++,i.removeEntry(o,se.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mu(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=fe(),s=fe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Um(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return _N()?8:JD(vN())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new SO;return this.Ss(e,n,o).next(l=>{if(i.result=l,this.Vs)return this.bs(e,n,o,l.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(bi()<=ge.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",Pi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(bi()<=ge.DEBUG&&K("QueryEngine","Query:",Pi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(bi()<=ge.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",Pi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(n))):B.resolve())}ys(e,n){if(xw(n))return B.resolve(null);let r=Zn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=tp(n,null,"F"),r=Zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=fe(...i);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Ds(n,l);return this.Cs(n,c,o,u.readTime)?this.ys(e,tp(n,null,"F")):this.vs(e,c,n,u)}))})))}ws(e,n,r,s){return xw(n)||s.isEqual(se.min())?B.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?B.resolve(null):(bi()<=ge.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Pi(n)),this.vs(e,o,n,QD(s,rl)).next(l=>l))})}Ds(e,n){let r=new rt(aT(e));return n.forEach((s,i)=>{gd(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return bi()<=ge.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Pi(n)),this.ps.getDocumentsMatchingQuery(e,n,Ts.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="LocalStore",AO=3e8;class IO{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ue(he),this.xs=new gi(i=>Nm(i),Dm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function RO(t,e,n,r){return new IO(t,e,n,r)}async function kT(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let u=fe();for(const c of s){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of i){l.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:l}))})})}function bO(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,u,c,d){const f=c.batch,m=f.keys();let p=B.resolve();return m.forEach(T=>{p=p.next(()=>d.getEntry(u,T)).next(w=>{const E=c.docVersions.get(T);Ee(E!==null,48541),w.version.compareTo(E)<0&&(f.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),d.addEntry(w)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(u,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=fe();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function NT(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function PO(t,e){const n=oe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach((d,f)=>{const m=s.get(f);if(!m)return;l.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,f)));let p=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(vt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(f,p),function(w,E,v){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=AO?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(m,p,d)&&l.push(n.Pi.updateTargetData(i,p))});let u=br(),c=fe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(kO(i,o,e.documentUpdates).next(d=>{u=d.ks,c=d.qs})),!r.isEqual(se.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return B.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.Ms=s,i))}function kO(t,e,n){let r=fe(),s=fe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=br();return n.forEach((l,u)=>{const c=i.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(se.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):K(Bm,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{ks:o,qs:s}})}function NO(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=bm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function DO(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new ns(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function op(t,e,n){const r=oe(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Mo(o))throw o;K(Bm,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function Vw(t,e,n){const r=oe(t);let s=se.min(),i=fe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const f=oe(u),m=f.xs.get(d);return m!==void 0?B.resolve(f.Ms.get(m)):f.Pi.getTargetData(c,d)}(r,o,Zn(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next(u=>{i=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:se.min(),n?i:fe())).next(l=>(OO(r,w4(e),l),{documents:l,Qs:i})))}function OO(t,e,n){let r=t.Os.get(e)||se.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class Mw{constructor(){this.activeTargetIds=C4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VO{constructor(){this.Mo=new Mw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Mw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="ConnectivityMonitor";class Fw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){K(Lw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){K(Lw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gu=null;function ap(){return gu===null?gu=function(){return 268435456+Math.round(2147483648*Math.random())}():gu++,"0x"+gu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="RestConnection",LO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Ac?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=ap(),l=this.zo(e,n.toUriEncodedString());K(Ih,`Sending RPC '${e}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,i);const{host:c}=new URL(l),d=_l(c);return this.Jo(e,l,u,r,d).then(f=>(K(Ih,`Received RPC '${e}' ${o}: `,f),f),f=>{throw xo(Ih,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=LO[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St="WebChannelConnection";class UO extends FO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=ap();return new Promise((l,u)=>{const c=new Dx;c.setWithCredentials(!0),c.listenOnce(Ox.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Vu.NO_ERROR:const f=c.getResponseJson();K(St,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case Vu.TIMEOUT:K(St,`RPC '${e}' ${o} timed out`),u(new G(U.DEADLINE_EXCEEDED,"Request time out"));break;case Vu.HTTP_ERROR:const m=c.getStatus();if(K(St,`RPC '${e}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const T=p==null?void 0:p.error;if(T&&T.status&&T.message){const w=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(y)>=0?y:U.UNKNOWN}(T.status);u(new G(w,T.message))}else u(new G(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new G(U.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{K(St,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);K(St,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){const s=ap(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Lx(),l=Mx(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=i.join("");K(St,`Creating RPC '${e}' stream ${s}: ${d}`,u);const f=o.createWebChannel(d,u);this.I_(f);let m=!1,p=!1;const T=new jO({Yo:E=>{p?K(St,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(m||(K(St,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),K(St,`RPC '${e}' stream ${s} sending:`,E),f.send(E))},Zo:()=>f.close()}),w=(E,v,y)=>{E.listen(v,_=>{try{y(_)}catch(k){setTimeout(()=>{throw k},0)}})};return w(f,ma.EventType.OPEN,()=>{p||(K(St,`RPC '${e}' stream ${s} transport opened.`),T.o_())}),w(f,ma.EventType.CLOSE,()=>{p||(p=!0,K(St,`RPC '${e}' stream ${s} transport closed`),T.a_(),this.E_(f))}),w(f,ma.EventType.ERROR,E=>{p||(p=!0,xo(St,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),T.a_(new G(U.UNAVAILABLE,"The operation could not be completed")))}),w(f,ma.EventType.MESSAGE,E=>{var v;if(!p){const y=E.data[0];Ee(!!y,16349);const _=y,k=(_==null?void 0:_.error)||((v=_[0])==null?void 0:v.error);if(k){K(St,`RPC '${e}' stream ${s} received error:`,k);const O=k.status;let V=function(I){const R=Ke[I];if(R!==void 0)return wT(R)}(O),A=k.message;V===void 0&&(V=U.INTERNAL,A="Unknown error status: "+O+" with message "+k.message),p=!0,T.a_(new G(V,A)),f.close()}else K(St,`RPC '${e}' stream ${s} received:`,y),T.u_(y)}}),w(l,Vx.STAT_EVENT,E=>{E.stat===Gf.PROXY?K(St,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===Gf.NOPROXY&&K(St,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.__()},0),T}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Rh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t){return new H4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&K("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="PersistentStream";class OT{constructor(e,n,r,s,i,o,l,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Rr(n.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new G(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return K(jw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(K(jw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BO extends OT{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Q4(this.serializer,e),r=function(i){if(!("targetChange"in i))return se.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?er(o.readTime):se.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ip(this.serializer),n.addTarget=function(i,o){let l;const u=o.target;if(l=Zf(u)?{documents:Y4(i,u)}:{query:X4(i,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=xT(i,o.resumeToken);const c=np(i,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(se.min())>0){l.readTime=kc(i,o.snapshotVersion.toTimestamp());const c=np(i,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=Z4(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ip(this.serializer),n.removeTarget=e,this.q_(n)}}class zO extends OT{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ee(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ee(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=K4(e.writeResults,e.commitTime),r=er(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ip(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>G4(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{}class HO extends $O{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,rp(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new G(U.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,rp(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class qO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rr(n),this.aa=!1):K("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="RemoteStore";class WO{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{vi(this)&&(K(ci,"Restarting streams for network reachability change."),await async function(u){const c=oe(u);c.Ea.add(4),await Sl(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Ed(c)}(this))})}),this.Ra=new qO(r,s)}}async function Ed(t){if(vi(t))for(const e of t.da)await e(!0)}async function Sl(t){for(const e of t.da)await e(!1)}function VT(t,e){const n=oe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qm(n)?Hm(n):Fo(n).O_()&&$m(n,e))}function zm(t,e){const n=oe(t),r=Fo(n);n.Ia.delete(e),r.O_()&&MT(n,e),n.Ia.size===0&&(r.O_()?r.L_():vi(n)&&n.Ra.set("Unknown"))}function $m(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fo(t).Y_(e)}function MT(t,e){t.Va.Ue(e),Fo(t).Z_(e)}function Hm(t){t.Va=new U4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Fo(t).start(),t.Ra.ua()}function qm(t){return vi(t)&&!Fo(t).x_()&&t.Ia.size>0}function vi(t){return oe(t).Ea.size===0}function LT(t){t.Va=void 0}async function QO(t){t.Ra.set("Online")}async function GO(t){t.Ia.forEach((e,n)=>{$m(t,e)})}async function KO(t,e){LT(t),qm(t)?(t.Ra.ha(e),Hm(t)):t.Ra.set("Unknown")}async function YO(t,e,n){if(t.Ra.set("Online"),e instanceof ET&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ia.delete(l),s.Va.removeTarget(l))}(t,e)}catch(r){K(ci,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dc(t,r)}else if(e instanceof ju?t.Va.Ze(e):e instanceof _T?t.Va.st(e):t.Va.tt(e),!n.isEqual(se.min()))try{const r=await NT(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Va.Tt(o);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.Ia.get(c);d&&i.Ia.set(c,d.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,c)=>{const d=i.Ia.get(u);if(!d)return;i.Ia.set(u,d.withResumeToken(vt.EMPTY_BYTE_STRING,d.snapshotVersion)),MT(i,u);const f=new ns(d.target,u,c,d.sequenceNumber);$m(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){K(ci,"Failed to raise snapshot:",r),await Dc(t,r)}}async function Dc(t,e,n){if(!Mo(e))throw e;t.Ea.add(1),await Sl(t),t.Ra.set("Offline"),n||(n=()=>NT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K(ci,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ed(t)})}function FT(t,e){return e().catch(n=>Dc(t,n,e))}async function xd(t){const e=oe(t),n=Is(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bm;for(;XO(e);)try{const s=await NO(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,JO(e,s)}catch(s){await Dc(e,s)}jT(e)&&UT(e)}function XO(t){return vi(t)&&t.Ta.length<10}function JO(t,e){t.Ta.push(e);const n=Is(t);n.O_()&&n.X_&&n.ea(e.mutations)}function jT(t){return vi(t)&&!Is(t).x_()&&t.Ta.length>0}function UT(t){Is(t).start()}async function ZO(t){Is(t).ra()}async function eV(t){const e=Is(t);for(const n of t.Ta)e.ea(n.mutations)}async function tV(t,e,n){const r=t.Ta.shift(),s=Vm.from(r,e,n);await FT(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await xd(t)}async function nV(t,e){e&&Is(t).X_&&await async function(r,s){if(function(o){return L4(o)&&o!==U.ABORTED}(s.code)){const i=r.Ta.shift();Is(r).B_(),await FT(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await xd(r)}}(t,e),jT(t)&&UT(t)}async function Uw(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),K(ci,"RemoteStore received new credentials");const r=vi(n);n.Ea.add(3),await Sl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ed(n)}async function rV(t,e){const n=oe(t);e?(n.Ea.delete(2),await Ed(n)):e||(n.Ea.add(2),await Sl(n),n.Ra.set("Unknown"))}function Fo(t){return t.ma||(t.ma=function(n,r,s){const i=oe(n);return i.sa(),new BO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:QO.bind(null,t),t_:GO.bind(null,t),r_:KO.bind(null,t),H_:YO.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),qm(t)?Hm(t):t.Ra.set("Unknown")):(await t.ma.stop(),LT(t))})),t.ma}function Is(t){return t.fa||(t.fa=function(n,r,s){const i=oe(n);return i.sa(),new zO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:ZO.bind(null,t),r_:nV.bind(null,t),ta:eV.bind(null,t),na:tV.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await xd(t)):(await t.fa.stop(),t.Ta.length>0&&(K(ci,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new Wm(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qm(t,e){if(Rr("AsyncQueue",`${e}: ${t}`),Mo(t))return new G(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=ga(),this.sortedSet=new Ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new eo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.ga=new Ue(J.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Io{constructor(e,n,r,s,i,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Io(e,n,eo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class iV{constructor(){this.queries=zw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=oe(n),i=s.queries;s.queries=zw(),i.forEach((o,l)=>{for(const u of l.Sa)u.onError(r)})})(this,new G(U.ABORTED,"Firestore shutting down"))}}function zw(){return new gi(t=>oT(t),md)}async function oV(t,e){const n=oe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new sV,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=Qm(o,`Initialization of query '${Pi(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Gm(n)}async function aV(t,e){const n=oe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lV(t,e){const n=oe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Sa)l.Fa(s)&&(r=!0);o.wa=s}}r&&Gm(n)}function uV(t,e,n){const r=oe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Gm(t){t.Ca.forEach(e=>{e.next()})}var lp,$w;($w=lp||(lp={})).Ma="default",$w.Cache="cache";class cV{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Io(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==lp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){this.key=e}}class zT{constructor(e){this.key=e}}class dV{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=fe(),this.mutatedKeys=fe(),this.eu=aT(e),this.tu=new eo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Bw,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const m=s.get(d),p=gd(this.query,f)?f:null,T=!!m&&this.mutatedKeys.has(m.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;m&&p?m.data.isEqual(p.data)?T!==w&&(r.track({type:3,doc:p}),E=!0):this.su(m,p)||(r.track({type:2,doc:p}),E=!0,(u&&this.eu(p,u)>0||c&&this.eu(p,c)<0)&&(l=!0)):!m&&p?(r.track({type:0,doc:p}),E=!0):m&&!p&&(r.track({type:1,doc:m}),E=!0,(u||c)&&(l=!0)),E&&(p?(o=o.add(p),i=w?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,f)=>function(p,T){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{Rt:E})}};return w(p)-w(T)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,c=u!==this.Za;return this.Za=u,o.length!==0||c?{snapshot:new Io(this.query,e.tu,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Bw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=fe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new zT(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new BT(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Km="SyncEngine";class hV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fV{constructor(e){this.key=e,this.hu=!1}}class pV{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new gi(l=>oT(l),md),this.Iu=new Map,this.Eu=new Set,this.du=new Ue(J.comparator),this.Au=new Map,this.Ru=new Fm,this.Vu={},this.mu=new Map,this.fu=Ao.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mV(t,e,n=!0){const r=GT(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await $T(r,e,n,!0),s}async function gV(t,e){const n=GT(t);await $T(n,e,!0,!1)}async function $T(t,e,n,r){const s=await DO(t.localStore,Zn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await yV(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&VT(t.remoteStore,s),l}async function yV(t,e,n,r,s){t.pu=(f,m,p)=>async function(w,E,v,y){let _=E.view.ru(v);_.Cs&&(_=await Vw(w.localStore,E.query,!1).then(({documents:A})=>E.view.ru(A,_)));const k=y&&y.targetChanges.get(E.targetId),O=y&&y.targetMismatches.get(E.targetId)!=null,V=E.view.applyChanges(_,w.isPrimaryClient,k,O);return qw(w,E.targetId,V.au),V.snapshot}(t,f,m,p);const i=await Vw(t.localStore,e,!0),o=new dV(e,i.Qs),l=o.ru(i.documents),u=Tl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(l,t.isPrimaryClient,u);qw(t,n,c.au);const d=new hV(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function vV(t,e,n){const r=oe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!md(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await op(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&zm(r.remoteStore,s.targetId),up(r,s.targetId)}).catch(Vo)):(up(r,s.targetId),await op(r.localStore,s.targetId,!0))}async function wV(t,e){const n=oe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zm(n.remoteStore,r.targetId))}async function _V(t,e,n){const r=IV(t);try{const s=await function(o,l){const u=oe(o),c=De.now(),d=l.reduce((p,T)=>p.add(T.key),fe());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",p=>{let T=br(),w=fe();return u.Ns.getEntries(p,d).next(E=>{T=E,T.forEach((v,y)=>{y.isValidDocument()||(w=w.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(p,T)).next(E=>{f=E;const v=[];for(const y of l){const _=N4(y,f.get(y.key).overlayedDocument);_!=null&&v.push(new yi(y.key,_,Xx(_.value.mapValue),_r.exists(!0)))}return u.mutationQueue.addMutationBatch(p,c,v,l)}).next(E=>{m=E;const v=E.applyToLocalDocumentSet(f,w);return u.documentOverlayCache.saveOverlays(p,E.batchId,v)})}).then(()=>({batchId:m.batchId,changes:uT(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,u){let c=o.Vu[o.currentUser.toKey()];c||(c=new Ue(he)),c=c.insert(l,u),o.Vu[o.currentUser.toKey()]=c}(r,s.batchId,n),await Cl(r,s.changes),await xd(r.remoteStore)}catch(s){const i=Qm(s,"Failed to persist write");n.reject(i)}}async function HT(t,e){const n=oe(t);try{const r=await PO(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ee(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ee(o.hu,14607):s.removedDocuments.size>0&&(Ee(o.hu,42227),o.hu=!1))}),await Cl(n,r,e)}catch(r){await Vo(r)}}function Hw(t,e,n){const r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const u=oe(o);u.onlineState=l;let c=!1;u.queries.forEach((d,f)=>{for(const m of f.Sa)m.va(l)&&(c=!0)}),c&&Gm(u)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function EV(t,e,n){const r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Ue(J.comparator);o=o.insert(i,Rt.newNoDocument(i,se.min()));const l=fe().add(i),u=new wd(se.min(),new Map,new Ue(he),o,l);await HT(r,u),r.du=r.du.remove(i),r.Au.delete(e),Ym(r)}else await op(r.localStore,e,!1).then(()=>up(r,e,n)).catch(Vo)}async function xV(t,e){const n=oe(t),r=e.batch.batchId;try{const s=await bO(n.localStore,e);WT(n,r,null),qT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cl(n,s)}catch(s){await Vo(s)}}async function TV(t,e,n){const r=oe(t);try{const s=await function(o,l){const u=oe(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,l).next(f=>(Ee(f!==null,37113),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);WT(r,e,n),qT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Cl(r,s)}catch(s){await Vo(s)}}function qT(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function WT(t,e,n){const r=oe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function up(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||QT(t,r)})}function QT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(zm(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ym(t))}function qw(t,e,n){for(const r of n)r instanceof BT?(t.Ru.addReference(r.key,e),SV(t,r)):r instanceof zT?(K(Km,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||QT(t,r.key)):ee(19791,{wu:r})}function SV(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(K(Km,"New document in limbo: "+n),t.Eu.add(r),Ym(t))}function Ym(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new J(Re.fromString(e)),r=t.fu.next();t.Au.set(r,new fV(n)),t.du=t.du.insert(n,r),VT(t.remoteStore,new ns(Zn(sT(n.path)),r,"TargetPurposeLimboResolution",hd.ce))}}async function Cl(t,e,n){const r=oe(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((l,u)=>{o.push(r.pu(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){s.push(c);const f=Um.As(u.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(u,c){const d=oe(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(c,m=>B.forEach(m.Es,p=>d.persistence.referenceDelegate.addReference(f,m.targetId,p)).next(()=>B.forEach(m.ds,p=>d.persistence.referenceDelegate.removeReference(f,m.targetId,p)))))}catch(f){if(!Mo(f))throw f;K(Bm,"Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const p=d.Ms.get(m),T=p.snapshotVersion,w=p.withLastLimboFreeSnapshotVersion(T);d.Ms=d.Ms.insert(m,w)}}}(r.localStore,i))}async function CV(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){K(Km,"User change. New user:",e.toKey());const r=await kT(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(l=>{l.forEach(u=>{u.reject(new G(U.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cl(n,r.Ls)}}function AV(t,e){const n=oe(t),r=n.Au.get(e);if(r&&r.hu)return fe().add(r.key);{let s=fe();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const l=n.Tu.get(o);s=s.unionWith(l.view.nu)}return s}}function GT(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=HT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EV.bind(null,e),e.Pu.H_=lV.bind(null,e.eventManager),e.Pu.yu=uV.bind(null,e.eventManager),e}function IV(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TV.bind(null,e),e}class Oc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_d(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return RO(this.persistence,new CO,e.initialUser,this.serializer)}Cu(e){return new PT(jm.mi,this.serializer)}Du(e){return new VO}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oc.provider={build:()=>new Oc};class RV extends Oc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ee(this.persistence.referenceDelegate instanceof Nc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new cO(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?zt.withCacheSize(this.cacheSizeBytes):zt.DEFAULT;return new PT(r=>Nc.mi(r,n),this.serializer)}}class cp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Hw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CV.bind(null,this.syncEngine),await rV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iV}()}createDatastore(e){const n=_d(e.databaseInfo.databaseId),r=function(i){return new UO(i)}(e.databaseInfo);return function(i,o,l,u){return new HO(i,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new WO(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Hw(this.syncEngine,n,0),function(){return Fw.v()?new Fw:new MO}())}createSyncEngine(e,n){return function(s,i,o,l,u,c,d){const f=new pV(s,i,o,l,u,c);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=oe(s);K(ci,"RemoteStore shutting down."),i.Ea.add(5),await Sl(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}cp.provider={build:()=>new cp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="FirestoreClient";class PV{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=At.UNAUTHENTICATED,this.clientId=Rm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{K(Rs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(K(Rs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Qm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bh(t,e){t.asyncQueue.verifyOperationInProgress(),K(Rs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await kT(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ww(t,e){t.asyncQueue.verifyOperationInProgress();const n=await kV(t);K(Rs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Uw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Uw(e.remoteStore,s)),t._onlineComponents=e}async function kV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K(Rs,"Using user provided OfflineComponentProvider");try{await bh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;xo("Error using user provided cache. Falling back to memory cache: "+n),await bh(t,new Oc)}}else K(Rs,"Using default OfflineComponentProvider"),await bh(t,new RV(void 0));return t._offlineComponents}async function KT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K(Rs,"Using user provided OnlineComponentProvider"),await Ww(t,t._uninitializedComponentsProvider._online)):(K(Rs,"Using default OnlineComponentProvider"),await Ww(t,new cp))),t._onlineComponents}function NV(t){return KT(t).then(e=>e.syncEngine)}async function DV(t){const e=await KT(t),n=e.eventManager;return n.onListen=mV.bind(null,e.syncEngine),n.onUnlisten=vV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wV.bind(null,e.syncEngine),n}function OV(t,e,n={}){const r=new ms;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,u,c){const d=new bV({next:m=>{d.Nu(),o.enqueueAndForget(()=>aV(i,f)),m.fromCache&&u.source==="server"?c.reject(new G(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new cV(l,d,{includeMetadataChanges:!0,qa:!0});return oV(i,f)}(await DV(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="firestore.googleapis.com",Gw=!0;class Kw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new G(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XT,this.ssl=Gw}else this.host=e.host,this.ssl=e.ssl??Gw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lO)throw new G(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YT(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Td{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new MD;switch(r.type){case"firstParty":return new UD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Qw.get(n);r&&(K("ComponentProvider","Removing Datastore"),Qw.delete(n),r.terminate())}(this),Promise.resolve()}}function VV(t,e,n,r={}){var c;t=Sc(t,Td);const s=_l(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(vx(`https://${l}`),_x("Firestore",!0)),i.host!==XT&&i.host!==l&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:l,ssl:s,emulatorOptions:r};if(!xc(u,o)&&(t._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=At.MOCK_USER;else{d=wx(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new G(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new At(m)}t._authCredentials=new LD(new jx(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wi(this.firestore,e,this._query)}}class lt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lt(this.firestore,e,this._key)}toJSON(){return{type:lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(El(n,lt._jsonSchema))return new lt(e,r||null,new J(Re.fromString(n.referencePath)))}}lt._jsonSchemaVersion="firestore/documentReference/1.0",lt._jsonSchema={type:Ze("string",lt._jsonSchemaVersion),referencePath:Ze("string")};class gs extends wi{constructor(e,n,r){super(e,n,sT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lt(this.firestore,null,new J(e))}withConverter(e){return new gs(this.firestore,e,this._path)}}function Ph(t,e,...n){if(t=sr(t),Ux("collection","path",e),t instanceof Td){const r=Re.fromString(e,...n);return lw(r),new gs(t,null,r)}{if(!(t instanceof lt||t instanceof gs))throw new G(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return lw(r),new gs(t.firestore,null,r)}}function MV(t,e,...n){if(t=sr(t),arguments.length===1&&(e=Rm.newId()),Ux("doc","path",e),t instanceof Td){const r=Re.fromString(e,...n);return aw(r),new lt(t,null,new J(r))}{if(!(t instanceof lt||t instanceof gs))throw new G(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return aw(r),new lt(t.firestore,t instanceof gs?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="AsyncQueue";class Xw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DT(this,"async_queue_retry"),this._c=()=>{const r=Rh();r&&K(Yw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Rh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Rh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ms;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Mo(e))throw e;K(Yw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Rr("INTERNAL UNHANDLED ERROR: ",Jw(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Wm.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ee(47125,{Pc:Jw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Jw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Xm extends Td{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Xw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Xw(e),this._firestoreClient=void 0,await e}}}function LV(t,e){const n=typeof t=="object"?t:bx(),r=typeof t=="string"?t:Ac,s=Cx(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=gx("firestore");i&&VV(s,...i)}return s}function JT(t){if(t._terminated)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||FV(t),t._firestoreClient}function FV(t){var r,s,i;const e=t._freezeSettings(),n=function(l,u,c,d){return new r4(l,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,YT(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new PV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mn(vt.fromBase64String(e))}catch(n){throw new G(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mn(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(El(e,mn._jsonSchema))return mn.fromBase64String(e.bytes)}}mn._jsonSchemaVersion="firestore/bytes/1.0",mn._jsonSchema={type:Ze("string",mn._jsonSchemaVersion),bytes:Ze("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:tr._jsonSchemaVersion}}static fromJSON(e){if(El(e,tr._jsonSchema))return new tr(e.latitude,e.longitude)}}tr._jsonSchemaVersion="firestore/geoPoint/1.0",tr._jsonSchema={type:Ze("string",tr._jsonSchemaVersion),latitude:Ze("number"),longitude:Ze("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:nr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(El(e,nr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new nr(e.vectorValues);throw new G(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}nr._jsonSchemaVersion="firestore/vectorValue/1.0",nr._jsonSchema={type:Ze("string",nr._jsonSchemaVersion),vectorValues:Ze("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=/^__.*__$/;class UV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yi(e,this.data,this.fieldMask,n,this.fieldTransforms):new xl(e,this.data,n,this.fieldTransforms)}}function eS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee(40011,{Ac:t})}}class Zm{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Zm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Vc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(eS(this.Ac)&&jV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class BV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_d(e)}Cc(e,n,r,s=!1){return new Zm({Ac:e,methodName:n,Dc:r,path:mt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tS(t){const e=t._freezeSettings(),n=_d(t._databaseId);return new BV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zV(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);sS("Data must be an object, but it was:",o,r);const l=nS(r,o);let u,c;if(i.merge)u=new Pn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const m=HV(e,f,n);if(!o.contains(m))throw new G(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);WV(d,m)||d.push(m)}u=new Pn(d),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new UV(new pn(l),u,c)}function $V(t,e,n,r=!1){return eg(n,t.Cc(r?4:3,e))}function eg(t,e){if(rS(t=sr(t)))return sS("Unsupported field value:",e,t),nS(t,e);if(t instanceof ZT)return function(r,s){if(!eS(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let u=eg(l,s.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=sr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return A4(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=De.fromDate(r);return{timestampValue:kc(s.serializer,i)}}if(r instanceof De){const i=new De(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kc(s.serializer,i)}}if(r instanceof tr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof mn)return{bytesValue:xT(s.serializer,r._byteString)};if(r instanceof lt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Lm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof nr)return function(o,l){return{mapValue:{fields:{[Kx]:{stringValue:Yx},[Ic]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.Sc("VectorValues must only contain numeric values.");return Om(l.serializer,c)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${dd(r)}`)}(t,e)}function nS(t,e){const n={};return $x(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mi(t,(r,s)=>{const i=eg(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function rS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof De||t instanceof tr||t instanceof mn||t instanceof lt||t instanceof ZT||t instanceof nr)}function sS(t,e,n){if(!rS(n)||!Bx(n)){const r=dd(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function HV(t,e,n){if((e=sr(e))instanceof Jm)return e._internalPath;if(typeof e=="string")return iS(t,e);throw Vc("Field path arguments must be of type string or ",t,!1,void 0,n)}const qV=new RegExp("[~\\*/\\[\\]]");function iS(t,e,n){if(e.search(qV)>=0)throw Vc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jm(...e.split("."))._internalPath}catch{throw Vc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new G(U.INVALID_ARGUMENT,l+t+u)}function WV(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Sd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QV extends oS{data(){return super.data()}}function Sd(t,e){return typeof e=="string"?iS(t,e):e instanceof Jm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tg{}class aS extends tg{}function Zw(t,e,...n){let r=[];e instanceof tg&&r.push(e),r=r.concat(n),function(i){const o=i.filter(u=>u instanceof ng).length,l=i.filter(u=>u instanceof Cd).length;if(o>1||o>0&&l>0)throw new G(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Cd extends aS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Cd(e,n,r)}_apply(e){const n=this._parse(e);return lS(e._query,n),new wi(e.firestore,e.converter,ep(e._query,n))}_parse(e){const n=tS(e.firestore);return function(i,o,l,u,c,d,f){let m;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new G(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){n_(f,d);const T=[];for(const w of f)T.push(t_(u,i,w));m={arrayValue:{values:T}}}else m=t_(u,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||n_(f,d),m=$V(l,o,f,d==="in"||d==="not-in");return Je.create(c,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function KV(t,e,n){const r=e,s=Sd("where",t);return Cd._create(s,r,n)}class ng extends tg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ng(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ln.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const u of l)lS(o,u),o=ep(o,u)}(e._query,n),new wi(e.firestore,e.converter,ep(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rg extends aS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new rg(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new G(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new G(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new al(i,o)}(e._query,this._field,this._direction);return new wi(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Lo(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function e_(t,e="asc"){const n=e,r=Sd("orderBy",t);return rg._create(r,n)}function t_(t,e,n){if(typeof(n=sr(n))=="string"){if(n==="")throw new G(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iT(e)&&n.indexOf("/")!==-1)throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Re.fromString(n));if(!J.isDocumentKey(r))throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gw(t,new J(r))}if(n instanceof lt)return gw(t,n._key);throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dd(n)}.`)}function n_(t,e){if(!Array.isArray(t)||t.length===0)throw new G(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lS(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class YV{convertValue(e,n="none"){switch(As(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return mi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Ic].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Qe(o.doubleValue));return new nr(n)}convertGeoPoint(e){return new tr(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sl(e));default:return null}}convertTimestamp(e){const n=Ss(e);return new De(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Re.fromString(e);Ee(RT(r),9688,{name:e});const s=new il(r.get(1),r.get(3)),i=new J(r.popFirst(5));return s.isEqual(n)||Rr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class yu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class to extends oS{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Sd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new G(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=to._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}to._jsonSchemaVersion="firestore/documentSnapshot/1.0",to._jsonSchema={type:Ze("string",to._jsonSchemaVersion),bundleSource:Ze("string","DocumentSnapshot"),bundleName:Ze("string"),bundle:Ze("string")};class Uu extends to{data(e={}){return super.data(e)}}class no{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new yu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Uu(this._firestore,this._userDataWriter,r.key,r,new yu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const u=new Uu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new yu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const u=new Uu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new yu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return l.type!==0&&(c=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:JV(l.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new G(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=no._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Rm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function JV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:t})}}no._jsonSchemaVersion="firestore/querySnapshot/1.0",no._jsonSchema={type:Ze("string",no._jsonSchemaVersion),bundleSource:Ze("string","QuerySnapshot"),bundleName:Ze("string"),bundle:Ze("string")};class ZV extends YV{constructor(e){super(),this.firestore=e}convertBytes(e){return new mn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new lt(this.firestore,null,n)}}function r_(t){t=Sc(t,wi);const e=Sc(t.firestore,Xm),n=JT(e),r=new ZV(e);return GV(t._query),OV(n,t._query).then(s=>new no(e,r,t,s))}function eM(t,e){const n=Sc(t.firestore,Xm),r=MV(t),s=XV(t.converter,e);return tM(n,[zV(tS(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,_r.exists(!1))]).then(()=>r)}function tM(t,e){return function(r,s){const i=new ms;return r.asyncQueue.enqueueAndForget(async()=>_V(await NV(r),s,i)),i.promise}(JT(t),e)}(function(e,n=!0){(function(s){Oo=s})(Ix),tl(new Eo("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new Xm(new FD(r.getProvider("auth-internal")),new BD(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new G(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new il(c.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),fs(rw,sw,e),fs(rw,sw,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="firebasestorage.googleapis.com",cS="storageBucket",nM=2*60*1e3,rM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We extends pi{constructor(e,n,r=0){super(kh(e),`Firebase Storage: ${n} (${kh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,We.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return kh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qe||(qe={}));function kh(t){return"storage/"+t}function sg(){const t="An unknown error occurred, please check the error payload for server response.";return new We(qe.UNKNOWN,t)}function sM(t){return new We(qe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function iM(t){return new We(qe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function oM(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new We(qe.UNAUTHENTICATED,t)}function aM(){return new We(qe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function lM(t){return new We(qe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function uM(){return new We(qe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function cM(){return new We(qe.CANCELED,"User canceled the upload/download.")}function dM(t){return new We(qe.INVALID_URL,"Invalid URL '"+t+"'.")}function hM(t){return new We(qe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function fM(){return new We(qe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+cS+"' property when initializing the app?")}function pM(){return new We(qe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function mM(){return new We(qe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gM(t){return new We(qe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function dp(t){return new We(qe.INVALID_ARGUMENT,t)}function dS(){return new We(qe.APP_DELETED,"The Firebase app was deleted.")}function yM(t){return new We(qe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Da(t,e){return new We(qe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ca(t){throw new We(qe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=tn.makeFromUrl(e,n)}catch{return new tn(e,"")}if(r.path==="")return r;throw hM(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),u={bucket:1,path:3};function c(k){k.path_=decodeURIComponent(k.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${d}/b/${s}/o${m}`,"i"),T={bucket:1,path:3},w=n===uS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",v=new RegExp(`^https?://${w}/${s}/${E}`,"i"),_=[{regex:l,indices:u,postModify:i},{regex:p,indices:T,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let k=0;k<_.length;k++){const O=_[k],V=O.regex.exec(e);if(V){const A=V[O.indices.bucket];let x=V[O.indices.path];x||(x=""),r=new tn(A,x),O.postModify(r);break}}if(r==null)throw dM(e);return r}}class vM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(t,e,n){let r=1,s=null,i=null,o=!1,l=0;function u(){return l===2}let c=!1;function d(...E){c||(c=!0,e.apply(null,E))}function f(E){s=setTimeout(()=>{s=null,t(p,u())},E)}function m(){i&&clearTimeout(i)}function p(E,...v){if(c){m();return}if(E){m(),d.call(null,E,...v);return}if(u()||o){m(),d.call(null,E,...v);return}r<64&&(r*=2);let _;l===1?(l=2,_=0):_=(r+Math.random())*1e3,f(_)}let T=!1;function w(E){T||(T=!0,m(),!c&&(s!==null?(E||(l=2),clearTimeout(s),f(0)):E||(l=1)))}return f(0),i=setTimeout(()=>{o=!0,w(!0)},n),w}function _M(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(t){return t!==void 0}function xM(t){return typeof t=="object"&&!Array.isArray(t)}function ig(t){return typeof t=="string"||t instanceof String}function s_(t){return og()&&t instanceof Blob}function og(){return typeof Blob<"u"}function i_(t,e,n,r){if(r<e)throw dp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw dp(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function hS(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var ni;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ni||(ni={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,n,r,s,i,o,l,u,c,d,f,m=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=f,this.retry=m,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,w)=>{this.resolve_=T,this.reject_=w,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new vu(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const u=l.loaded,c=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===ni.NO_ERROR,u=i.getStatus();if(!l||TM(u,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===ni.ABORT;r(!1,new vu(!1,null,d));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new vu(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());EM(u)?i(u):i()}catch(u){o(u)}else if(l!==null){const u=sg();u.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,u)):o(u)}else if(s.canceled){const u=this.appDelete_?dS():cM();o(u)}else{const u=uM();o(u)}};this.canceled_?n(!1,new vu(!1,null,!0)):this.backoffId_=wM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_M(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function CM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function AM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function IM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function RM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function bM(t,e,n,r,s,i,o=!0,l=!1){const u=hS(t.urlParams),c=t.url+u,d=Object.assign({},t.headers);return IM(d,e),CM(d,n),AM(d,i),RM(d,r),new SM(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function kM(...t){const e=PM();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(og())return new Blob(t);throw new We(qe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function NM(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(t){if(typeof atob>"u")throw gM("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Nh{constructor(e,n){this.data=e,this.contentType=n||null}}function OM(t,e){switch(t){case Kn.RAW:return new Nh(fS(e));case Kn.BASE64:case Kn.BASE64URL:return new Nh(pS(t,e));case Kn.DATA_URL:return new Nh(MM(e),LM(e))}throw sg()}function fS(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function VM(t){let e;try{e=decodeURIComponent(t)}catch{throw Da(Kn.DATA_URL,"Malformed data URL.")}return fS(e)}function pS(t,e){switch(t){case Kn.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Da(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Kn.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Da(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=DM(e)}catch(s){throw s.message.includes("polyfill")?s:Da(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class mS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Da(Kn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=FM(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function MM(t){const e=new mS(t);return e.base64?pS(Kn.BASE64,e.rest):VM(e.rest)}function LM(t){return new mS(t).contentType}function FM(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n){let r=0,s="";s_(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(s_(this.data_)){const r=this.data_,s=NM(r,e,n);return s===null?null:new Qr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Qr(r,!0)}}static getBlob(...e){if(og()){const n=e.map(r=>r instanceof Qr?r.data_:r);return new Qr(kM.apply(null,n))}else{const n=e.map(o=>ig(o)?OM(Kn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)s[i++]=o[l]}),new Qr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(t){let e;try{e=JSON.parse(t)}catch{return null}return xM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function UM(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function yS(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t,e){return e}class kt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||BM}}let wu=null;function zM(t){return!ig(t)||t.length<2?t:yS(t)}function vS(){if(wu)return wu;const t=[];t.push(new kt("bucket")),t.push(new kt("generation")),t.push(new kt("metageneration")),t.push(new kt("name","fullPath",!0));function e(i,o){return zM(o)}const n=new kt("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new kt("size");return s.xform=r,t.push(s),t.push(new kt("timeCreated")),t.push(new kt("updated")),t.push(new kt("md5Hash",null,!0)),t.push(new kt("cacheControl",null,!0)),t.push(new kt("contentDisposition",null,!0)),t.push(new kt("contentEncoding",null,!0)),t.push(new kt("contentLanguage",null,!0)),t.push(new kt("contentType",null,!0)),t.push(new kt("metadata","customMetadata",!0)),wu=t,wu}function $M(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new tn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function HM(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return $M(r,t),r}function wS(t,e,n){const r=gS(e);return r===null?null:HM(t,r,n)}function qM(t,e,n,r){const s=gS(e);if(s===null||!ig(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const d=t.bucket,f=t.fullPath,m="/b/"+o(d)+"/o/"+o(f),p=ag(m,n,r),T=hS({alt:"media",token:c});return p+T})[0]}function WM(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class _S{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t){if(!t)throw sg()}function QM(t,e){function n(r,s){const i=wS(t,s,e);return ES(i!==null),i}return n}function GM(t,e){function n(r,s){const i=wS(t,s,e);return ES(i!==null),qM(i,s,t.host,t._protocol)}return n}function xS(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=aM():s=oM():n.getStatus()===402?s=iM(t.bucket):n.getStatus()===403?s=lM(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function KM(t){const e=xS(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=sM(t.path)),i.serverResponse=s.serverResponse,i}return n}function YM(t,e,n){const r=e.fullServerUrl(),s=ag(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new _S(s,i,GM(t,n),o);return l.errorHandler=KM(e),l}function XM(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function JM(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=XM(null,e)),r}function ZM(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let _="";for(let k=0;k<2;k++)_=_+Math.random().toString().slice(2);return _}const u=l();o["Content-Type"]="multipart/related; boundary="+u;const c=JM(e,r,s),d=WM(c,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,m=`\r
--`+u+"--",p=Qr.getBlob(f,r,m);if(p===null)throw pM();const T={name:c.fullPath},w=ag(i,t.host,t._protocol),E="POST",v=t.maxUploadRetryTime,y=new _S(w,E,QM(t,n),v);return y.urlParams=T,y.headers=o,y.body=p.uploadData(),y.errorHandler=xS(e),y}class eL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ni.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ni.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ni.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw ca("cannot .send() more than once");if(_l(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ca("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ca("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ca("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ca("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class tL extends eL{initXhr(){this.xhr_.responseType="text"}}function TS(){return new tL}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n){this._service=e,n instanceof tn?this._location=n:this._location=tn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new di(e,n)}get root(){const e=new tn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yS(this._location.path)}get storage(){return this._service}get parent(){const e=jM(this._location.path);if(e===null)return null;const n=new tn(this._location.bucket,e);return new di(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw yM(e)}}function nL(t,e,n){t._throwIfRoot("uploadBytes");const r=ZM(t.storage,t._location,vS(),new Qr(e,!0),n);return t.storage.makeRequestWithTokens(r,TS).then(s=>({metadata:s,ref:t}))}function rL(t){t._throwIfRoot("getDownloadURL");const e=YM(t.storage,t._location,vS());return t.storage.makeRequestWithTokens(e,TS).then(n=>{if(n===null)throw mM();return n})}function sL(t,e){const n=UM(t._location.path,e),r=new tn(t._location.bucket,n);return new di(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(t){return/^[A-Za-z]+:\/\//.test(t)}function oL(t,e){return new di(t,e)}function SS(t,e){if(t instanceof lg){const n=t;if(n._bucket==null)throw fM();const r=new di(n,n._bucket);return e!=null?SS(r,e):r}else return e!==void 0?sL(t,e):t}function aL(t,e){if(e&&iL(e)){if(t instanceof lg)return oL(t,e);throw dp("To use ref(service, url), the first argument must be a Storage instance.")}else return SS(t,e)}function o_(t,e){const n=e==null?void 0:e[cS];return n==null?null:tn.makeFromBucketSpec(n,t)}function lL(t,e,n,r={}){t.host=`${e}:${n}`;const s=_l(e);s&&(vx(`https://${t.host}/b`),_x("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:wx(i,t.app.options.projectId))}class lg{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=uS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nM,this._maxUploadRetryTime=rM,this._requests=new Set,s!=null?this._bucket=tn.makeFromBucketSpec(s,this._host):this._bucket=o_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=tn.makeFromBucketSpec(this._url,e):this._bucket=o_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){i_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){i_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ax(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new di(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new vM(dS());{const o=bM(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const a_="@firebase/storage",l_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="storage";function uL(t,e,n){return t=sr(t),nL(t,e,n)}function cL(t){return t=sr(t),rL(t)}function dL(t,e){return t=sr(t),aL(t,e)}function hL(t=bx(),e){t=sr(t);const r=Cx(t,CS).getImmediate({identifier:e}),s=gx("storage");return s&&fL(r,...s),r}function fL(t,e,n,r={}){lL(t,e,n,r)}function pL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new lg(n,r,s,e,Ix)}function mL(){tl(new Eo(CS,pL,"PUBLIC").setMultipleInstances(!0)),fs(a_,l_,""),fs(a_,l_,"esm2020")}mL();const gL={apiKey:"AIzaSyCMXux-UQ8tJs0Cjc_cs5Cv7kA8dY5YxkA",authDomain:"location-detection-jt.firebaseapp.com",projectId:"location-detection-jt",storageBucket:"location-detection-jt.firebasestorage.app",messagingSenderId:"944485836400",appId:"1:944485836400:web:9c50554a72f34b7c8476b5",measurementId:"G-8LL4W6D6M8"},AS=Rx(gL),Dh=LV(AS),yL=hL(AS);class vL{async storeCompleteCheckin(e,n,r,s){try{console.log("🔥 Starting Firebase storage...");const i=`customer-photos/${s}.jpg`,o=dL(yL,i);console.log("📷 Uploading image...");const l=await uL(o,r,{contentType:"image/jpeg",customMetadata:{userCode:e,submissionId:s,uploadedAt:new Date().toISOString()}}),u=await cL(l.ref);console.log("✅ Image uploaded:",u);const c={userCode:e,submissionId:s,latitude:n.latitude,longitude:n.longitude,accuracy:n.accuracy,imageUrl:u,timestamp:Date.now(),createdAt:new Date};console.log("💾 Saving to Firestore...");const d=await eM(Ph(Dh,"store-checkins"),c);return console.log("✅ Successfully stored to Firebase!"),{id:d.id,...c}}catch(i){throw console.error("❌ Firebase storage error:",i),new Error(`Firebase storage failed: ${i.message}`)}}async getAllCheckins(){try{const e=Zw(Ph(Dh,"store-checkins"),e_("createdAt","desc"));return(await r_(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Failed to fetch checkins:",e),e}}async getUserCheckins(e){try{const n=Zw(Ph(Dh,"store-checkins"),KV("userCode","==",e),e_("createdAt","desc"));return(await r_(n)).docs.map(s=>({id:s.id,...s.data()}))}catch(n){throw console.error("Failed to fetch user checkins:",n),n}}async getStats(){try{const e=await this.getAllCheckins(),n=new Date;n.setHours(0,0,0,0);const r=new Date;r.setDate(r.getDate()-7);const s=e.length,i=new Set(e.map(u=>u.userCode)).size,o=e.filter(u=>new Date(u.timestamp)>=n).length,l=e.filter(u=>new Date(u.timestamp)>=r).length;return{totalCheckins:s,uniqueUsers:i,todayCheckins:o,thisWeekCheckins:l}}catch(e){return console.error("Failed to get stats:",e),{totalCheckins:0,uniqueUsers:0,todayCheckins:0,thisWeekCheckins:0}}}}const wL=new vL,_L=({userCode:t,onLogout:e})=>{const[n,r]=b.useState("capture"),[s,i]=b.useState("main"),[o,l]=b.useState(null),[u,c]=b.useState(null),[d,f]=b.useState(""),m=y=>{l(y)},p=y=>{c(y)},T=o&&u,w=async()=>{if(!T){Ye({title:"Incomplete Data",description:"Please capture both photo and location before submitting.",variant:"destructive"});return}r("submitting");try{const y=`VER-${Date.now().toString(36)}-${Math.random().toString(36).substr(2,5)}`.toUpperCase(),_=await wL.storeCompleteCheckin(t,u,o,y);f(y),r("success"),Ye({title:"Check-in Stored Successfully",description:`Your selfie and location have been saved to Firebase. ID: ${_.id}`,variant:"default"}),await E(_)}catch(y){console.error("Storage error:",y),r("capture"),Ye({title:"Storage Failed",description:"Unable to save your check-in data. Please try again.",variant:"destructive"})}},E=async y=>{try{console.log("Data stored locally. Server sync would happen here:",y)}catch(_){console.log("Server sync failed, data remains in local storage:",_)}},v=()=>{l(null),c(null),r("capture"),f("")};return s==="history"?C.jsx(sN,{onBack:()=>i("main")}):n==="success"?C.jsx("div",{className:"min-h-screen bg-gradient-background flex items-center justify-center p-4",children:C.jsxs(Ot,{className:"w-full max-w-md p-8 text-center shadow-strong",children:[C.jsx("div",{className:"mx-auto mb-6 w-20 h-20 bg-gradient-success rounded-full flex items-center justify-center shadow-medium",children:C.jsx(IR,{className:"h-10 w-10 text-success-foreground"})}),C.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Verification Complete"}),C.jsx("p",{className:"text-muted-foreground mb-6",children:"Your check-in has been successfully recorded and verified."}),C.jsx("div",{className:"bg-success/10 border border-success/20 rounded-lg p-4 mb-6",children:C.jsxs("div",{className:"text-sm space-y-2",children:[C.jsxs("div",{className:"flex justify-between",children:[C.jsx("span",{className:"text-muted-foreground",children:"Submission ID:"}),C.jsx("span",{className:"font-mono text-foreground",children:d})]}),C.jsxs("div",{className:"flex justify-between",children:[C.jsx("span",{className:"text-muted-foreground",children:"Time:"}),C.jsx("span",{className:"font-mono text-foreground",children:new Date().toLocaleString()})]}),C.jsxs("div",{className:"flex justify-between",children:[C.jsx("span",{className:"text-muted-foreground",children:"Status:"}),C.jsx("span",{className:"text-success font-medium",children:"Verified"})]})]})}),C.jsxs("div",{className:"space-y-3",children:[C.jsx(Ie,{onClick:v,variant:"primary",size:"lg",className:"w-full",children:"New Check-in"}),C.jsxs(Ie,{onClick:()=>i("history"),variant:"outline",size:"lg",className:"w-full",children:[C.jsx(hv,{className:"mr-2 h-4 w-4"}),"View History"]}),C.jsxs(Ie,{onClick:e,variant:"outline",size:"lg",className:"w-full",children:[C.jsx(fv,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]}),C.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Data will be automatically deleted after 24 hours"})]})}):C.jsxs("div",{className:"min-h-screen bg-gradient-background",children:[C.jsx("div",{className:"bg-card shadow-soft border-b",children:C.jsxs("div",{className:"max-w-lg mx-auto px-4 py-4 flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center",children:[C.jsx(DR,{className:"h-5 w-5 text-primary mr-2"}),C.jsx("span",{className:"font-medium text-foreground",children:t})]}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx(Ie,{onClick:()=>i("history"),variant:"ghost",size:"sm",disabled:n==="submitting",children:C.jsx(hv,{className:"h-4 w-4"})}),C.jsx(Ie,{onClick:e,variant:"ghost",size:"sm",disabled:n==="submitting",children:C.jsx(fv,{className:"h-4 w-4"})})]})]})}),C.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-6",children:[C.jsxs("div",{className:"text-center py-4",children:[C.jsx("h1",{className:"text-xl font-bold text-foreground mb-1",children:"Location Check-in"}),C.jsx("p",{className:"text-sm text-muted-foreground",children:"Capture your selfie and current location"})]}),C.jsxs("div",{className:"space-y-3",children:[C.jsxs("div",{className:"flex items-center",children:[C.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-primary rounded-full flex items-center justify-center mr-3",children:C.jsx("span",{className:"text-primary-foreground text-sm font-bold",children:"1"})}),C.jsx("h3",{className:"font-medium text-foreground",children:"Take Your Selfie"})]}),C.jsx(eN,{onCapture:m,disabled:n==="submitting"})]}),C.jsxs("div",{className:"space-y-3",children:[C.jsxs("div",{className:"flex items-center",children:[C.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-primary rounded-full flex items-center justify-center mr-3",children:C.jsx("span",{className:"text-primary-foreground text-sm font-bold",children:"2"})}),C.jsx("h3",{className:"font-medium text-foreground",children:"Capture Location"})]}),C.jsx(tN,{onLocationCapture:p,disabled:n==="submitting"})]}),C.jsxs("div",{className:"pt-4",children:[C.jsx(Ie,{onClick:w,disabled:!T||n==="submitting",variant:"success",size:"lg",className:"w-full",children:n==="submitting"?C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-success-foreground mr-2"}),"Submitting Verification..."]}):C.jsxs(C.Fragment,{children:[C.jsx(u1,{className:"mr-2 h-5 w-5"}),"Submit Verification"]})}),T&&C.jsxs("div",{className:"mt-3 flex items-center justify-center text-xs text-muted-foreground",children:[C.jsx(RR,{className:"h-3 w-3 mr-1"}),"Data will be deleted in 24 hours"]})]})]})]})},EL=()=>{const[t,e]=b.useState(!1),[n,r]=b.useState(""),s=o=>{r(o),e(!0)},i=()=>{r(""),e(!1)};return t?C.jsx(_L,{userCode:n,onLogout:i}):C.jsx(Zk,{onAuthenticated:s})},xL=()=>{const t=dx();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),C.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:C.jsxs("div",{className:"text-center",children:[C.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),C.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),C.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},TL=new rk,SL=()=>C.jsx(ik,{client:TL,children:C.jsxs(D2,{children:[C.jsx(gb,{}),C.jsx(Gb,{}),C.jsx(Wk,{children:C.jsxs($k,{children:[C.jsx(Bf,{path:"/",element:C.jsx(EL,{})}),C.jsx(Bf,{path:"*",element:C.jsx(xL,{})})]})})]})});NE(document.getElementById("root")).render(C.jsx(SL,{}));
